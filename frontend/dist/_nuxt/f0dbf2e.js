(window.webpackJsonp=window.webpackJsonp||[]).push([[107,92,102],{1159:function(t,e,o){var content=o(1248);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(22).default)("850f9740",content,!0,{sourceMap:!1})},1247:function(t,e,o){"use strict";o(1159)},1248:function(t,e,o){var r=o(21)((function(i){return i[1]}));r.push([t.i,".apexcharts-canvas{width:100%}",""]),r.locals={},t.exports=r},1382:function(t,e,o){"use strict";o.r(e);var r,n=o(516),h=o(515),d=(o(37),o(3)),l=(o(55),o(6),o(11),r={props:["name","height"],data:function(){return{loading:!1,display_title:"Recent 7 days Attendance",date_from:"",date_to:"",series:[{name:"Present",data:[]},{name:"Absent",data:[]},{name:"Missing",data:[]},{name:"WeekOff",data:[]}],chartOptions:{colors:["#14B012","#FF0000","#FFB600","#2196F3"],chart:{toolbar:{show:!1},type:"bar",width:"98%"},plotOptions:{bar:{horizontal:!1,columnWidth:"25%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:[]},yaxis:{title:{text:" "}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return t}}}}}},watch:{display_title:function(){this.getDataFromApi()}},mounted:function(){},created:function(){var t=this,e=new Date,o=new Date(e);o.setDate(e.getDate()-6),this.date_to=e.toISOString().split("T")[0],this.date_from=o.toISOString().split("T")[0],setTimeout((function(){t.getDataFromApi()}),2e3)}},Object(d.a)(r,"mounted",(function(){this.chartOptions.chart.height=this.height,this.chartOptions.series=this.series})),Object(d.a)(r,"methods",{filterAttr:function(data){this.date_from=data.from,this.date_to=data.to,this.filterType="Monthly",this.display_title="Attendance : "+this.date_from+" to "+this.date_to},getDataFromApi:function(){var t=this;this.loading=!0;var e={params:{company_id:this.$auth.user.company_id,date_from:this.date_from,date_to:this.date_to}};this.$axios.get("dashboard_counts_last_7_days",e).then((function(e){var data=e.data,o=0;t.chartOptions.series=[{name:"Present",data:[]},{name:"Absent",data:[]},{name:"Missing",data:[]},{name:"WeekOff",data:[]}],t.chartOptions.xaxis={categories:[]},data.forEach((function(e){t.chartOptions.series[0].data[o]=parseInt(e.presentCount),t.chartOptions.series[1].data[o]=parseInt(e.absentCount),t.chartOptions.series[2].data[o]=parseInt(e.missingCount),t.chartOptions.series[3].data[o]=parseInt(e.offCount),t.chartOptions.xaxis.categories[o]=t.$dateFormat.format2(e.date),o++})),t.loading=!1;try{new ApexCharts(document.querySelector("#"+t.name),t.chartOptions).render()}catch(t){}}))}}),r),f=(o(1247),o(116)),component=Object(f.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticStyle:{width:"100%"}},[e(h.a,[e(n.a,{attrs:{md:"6"}},[e("h4",[t._v(t._s(t.display_title))])]),t._v(" "),e(n.a,{attrs:{md:"6"}},[e("CustomFilter",{staticStyle:{float:"right"},attrs:{default_date_from:t.date_from,default_date_to:t.date_to,defaultFilterType:1,height:"35px "},on:{"filter-attr":t.filterAttr}})],1)],1),t._v(" "),t.loading?e("ComonPreloader",{attrs:{icon:"face-scan"}}):t._e(),t._v(" "),e("div",{key:t.display_title,staticStyle:{width:"100%"},attrs:{id:t.name}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CustomFilter:o(952).default,ComonPreloader:o(895).default})},895:function(t,e,o){"use strict";o.r(e);var r=o(212),n={props:["icon"]},h=o(116),component=Object(h.a)(n,(function(){var t=this._self._c;return t("div",{staticClass:"text-center",staticStyle:{width:"80px",margin:"25% auto"}},[t(r.a,{attrs:{src:"/preloaders/".concat(this.icon,".gif")}})],1)}),[],!1,null,null,null);e.default=component.exports},952:function(t,e,o){"use strict";o.r(e);o(56),o(33),o(266);var r=o(951),n=(o(950),{components:{DatePicker:r.a},props:["defaultFilterType","height","width","default_date_from","default_date_to"],data:function(){return{time3:null,from_date:"",from_menu:!1,to_date:"",to_menu:!1,loading:!1,showTimePanel:!1,filterType:1,search:""}},watch:{filterType:function(){this.showTimePanel=!0,this.FilterData()}},mounted:function(){5==this.filterType&&document.querySelector(".mx-input").focus();var t=document.getElementsByClassName("mx-input");this.height&&""!=this.height&&(t[0].style.height=this.height),this.width&&""!=this.width&&(t[0].style.width=this.width),this.default_date_from&&this.default_date_to&&(this.from_date=this.default_date_from,this.to_date=this.default_date_to),this.time3=[this.from_date,this.to_date]},created:function(){this.defaultFilterType&&(this.filterType=this.defaultFilterType);var t=new Date;this.default_date_from||(this.from_date=t.toISOString().slice(0,10)),this.default_date_to||(this.to_date=t.toISOString().slice(0,10)),this.default_date_from&&this.default_date_to&&(this.from_date=this.default_date_from,this.to_date=this.default_date_to),this.time3=[this.from_date,this.to_date];var data={from:this.from_date,to:this.to_date,type:1,search:"this.search"};this.$emit("filter-attr",data)},methods:{commonMethod:function(){this.from_date&&this.to_date},CustomFilter:function(){if(this.from_date=this.time3[0],this.to_date=this.time3[1],this.from_date&&this.to_date){var data={from:this.from_date,to:this.to_date,type:this.filterType,search:this.search};this.$emit("filter-attr",data)}},FilterData:function(){this.from_date=this.time3[0],this.to_date=this.time3[1];var t=new Date;if(1==this.filterType)this.from_date=t.toISOString().slice(0,10),this.to_date=t.toISOString().slice(0,10);else if(2==this.filterType){var e=new Date;e.setDate(t.getDate()-1),this.from_date=e.toISOString().slice(0,10),this.to_date=e.toISOString().slice(0,10)}else if(3==this.filterType){var o=new Date(t);o.setDate(t.getDate()-t.getDay());var r=new Date(t);r.setDate(t.getDate()-t.getDay()+6),this.from_date=o.toISOString().slice(0,10),this.to_date=r.toISOString().slice(0,10)}else if(4==this.filterType)this.from_date=this.formatDate(new Date(t.getFullYear(),t.getMonth(),1)),this.to_date=this.formatDate(new Date(t.getFullYear(),t.getMonth()+1,0));else if(5==this.filterType)return void(this.time3=[]);if(this.from_date&&this.to_date){var data={from:this.from_date,to:this.to_date,type:this.filterType,search:this.search};this.$emit("filter-attr",data)}},formatDate:function(t){var e=t.getDate(),o=t.getMonth()+1;return t.getFullYear()+"-"+(o<10?"0":"")+o+"-"+(e<10?"0":"")+e}}}),h=o(116),component=Object(h.a)(n,(function(){var t=this;return(0,t._self._c)("date-picker",{attrs:{label:"Date","value-type":"format",format:"YYYY-MM-DD",type:"date",range:""},on:{change:function(e){return t.CustomFilter()}},model:{value:t.time3,callback:function(e){t.time3=e},expression:"time3"}})}),[],!1,null,null,null);e.default=component.exports}}]);