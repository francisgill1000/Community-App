(window.webpackJsonp=window.webpackJsonp||[]).push([[377,188],{1649:function(t,e,o){"use strict";o.r(e);var n=o(133),l=o(87),r=o(518),c=o(212),d=o(517),_=(o(37),o(31)),m=(o(56),o(6),o(72),o(530),o(33),o(58),{data:function(){return{tab:null,Model:"Payslip",month:(new Date).getMonth(),year:(new Date).getFullYear().toString().slice(-2),currentYear:"",currentMonth:"",getdownloadLink:"",data:{},empCode:"",countdifference:0,company_payload:{name:"",logo:"",member_from:"",expiry:"",max_branches:"",max_employee:"",max_devices:"",mol_id:"",p_o_box_no:""},contact_payload:{name:"",number:"",position:"",whatsapp:""},employee:{},earnings:[],deductions:[]}},computed:{},created:function(){var t=new Date,e=t.getFullYear();t.getMonth();this.currentYear=e,this.currentMonth=t.toLocaleString("default",{month:"long"})},mounted:function(){this.getDataFromApi(),this.getCompanyDataFromApi()},methods:{numberRound:function(t){if(t)return t.toFixed(2)},can:function(t){return this.$pagePermission.can(t,this)},caps:function(t){return""==t||null==t?"---":t.toString().replace(/\b\w/g,(function(t){return t.toUpperCase()}))},getDataFromApi:function(){var t,e,o,n=this,l=this.$route.params.id.split("_"),r=Object(_.a)(l,3),c=r[0],d=r[1],m=r[2];this.empCode=c,this.$axios.get("/payslip/".concat(c),{params:{company_id:null===(t=this.$auth)||void 0===t||null===(e=t.user)||void 0===e||null===(o=e.company)||void 0===o?void 0:o.id,employee_id:c,month:d,year:m}}).then((function(t){var data=t.data;n.data=data,n.employee=data.employee,n.earnings=data.earnings,n.deductions=data.deductions,n.countdifference=data.earnings.length-data.deductions.length}))},getCompanyDataFromApi:function(){var t,e,o,n=this,l=null===(t=this.$auth)||void 0===t||null===(e=t.user)||void 0===e||null===(o=e.company)||void 0===o?void 0:o.id;this.$axios.get("company/".concat(l)).then((function(t){var e=t.data.record;n.company_payload=e,n.contact_payload=e.contact,n.preloader=!1}))},printContent:function(){var t=document.getElementById("printMe"),e=window.open("","","height=1000,width=1000");e.document.write(t.innerHTML),e.print()}}}),v=o(116),component=Object(v.a)(m,(function(){var t=this,e=t._self._c;return t.company_payload&&t.company_payload.name?e(n.a,{staticClass:"mx-auto",attrs:{justify:"center"}},[e(l.b,[e(d.a,[e(r.a,{staticClass:"reds",attrs:{cols:"4"}},[e("div",{staticClass:"d-flex",staticStyle:{border:"1px solid white"}},[e(c.a,{staticStyle:{"border-radius":"10%"},attrs:{src:this.company_payload.logo,"max-width":"100","max-height":"100"}}),t._v(" "),e("div",{staticClass:"ml-3 mt-3"},[e("div",{staticStyle:{"border-top":"1px solid white"}},[e("strong",[t._v(t._s(this.company_payload.name))])]),t._v(" "),e("div",{staticClass:"w-10"},[t._v(t._s(this.company_payload.location))]),t._v(" "),e("div",{staticClass:"w-10"},[t._v(t._s(this.company_payload.p_o_box_no))])])],1)]),t._v(" "),e(r.a,{staticClass:"reds",attrs:{cols:"4"}},[e("div",{staticClass:"text-center pt-2"},[e("h5",{staticClass:"text--grey"},[e("u",[t._v("PAYSLIP")])])])]),t._v(" "),e(r.a,{staticClass:"reds text-right",attrs:{cols:"4"}},[e("div",{staticClass:"text-right"},[e("div",{staticClass:"ml-2"},[e("div",{staticStyle:{"border-top":"1px solid white"}},[e("strong",[t._v("Payslip No: "+t._s(t.data.payslip_number)+"\n                ")])]),t._v(" "),e("div",{staticStyle:{"border-top":"1px solid white"}},[e("strong",[t._v("Date: "+t._s(t.data.date)+" ")])])])])])],1)],1),t._v(" "),e(l.b,[e(d.a,[e(r.a,{attrs:{cols:"6"}},[e(n.a,{attrs:{outlined:""}},[e(l.c,[t._v(" Employee Details ")]),t._v(" "),e(l.b,[e("table",{staticStyle:{width:"100%","border-collapse":"collapse","margin-bottom":"10px"}},[e("tr",[e("th",{staticStyle:{"text-align":"left","border-bottom":"1px solid #ccc"}},[t._v("\n                  Employee Name\n                ")]),t._v(" "),e("td",{staticStyle:{"text-align":"right","border-bottom":"1px solid #ccc"}},[t.employee&&t.employee.first_name?e("span",[t._v(t._s(t.employee.first_name))]):t._e(),t._v(" "),t.employee&&t.employee.last_name?e("span",[t._v(t._s(t.employee.last_name))]):t._e()])]),t._v(" "),e("tr",[e("th",{staticStyle:{"text-align":"left","border-bottom":"1px solid #ccc"}},[t._v("\n                  Employee Id\n                ")]),t._v(" "),e("td",{staticStyle:{"text-align":"right","border-bottom":"1px solid #ccc"}},[t._v("\n                  "+t._s(t.empCode)+"\n                ")])]),t._v(" "),e("tr",[e("th",{staticStyle:{"text-align":"left","border-bottom":"1px solid #ccc"}},[t._v("\n                  Department\n                ")]),t._v(" "),e("td",{staticStyle:{"text-align":"right","border-bottom":"1px solid #ccc"}},[t._v("\n                  "+t._s(t.data.department&&t.data.department.name||"---")+"\n                ")])]),t._v(" "),e("tr",[e("th",{staticStyle:{"text-align":"left","border-bottom":"1px solid #ccc"}},[t._v("\n                  Designation\n                ")]),t._v(" "),e("td",{staticStyle:{"text-align":"right","border-bottom":"1px solid #ccc"}},[t._v("\n                  "+t._s(t.data.designation&&t.data.designation.name||"---")+"\n                ")])])])])],1)],1),t._v(" "),e(r.a,{attrs:{cols:"6"}},[e(n.a,{attrs:{outlined:""}},[e(l.c,[t._v(" Other Details ")]),t._v(" "),e(l.b,[e("table",{staticStyle:{width:"100%","border-collapse":"collapse","margin-bottom":"10px"}},[e("tr",[e("th",{staticStyle:{"text-align":"left","border-bottom":"1px solid #ccc"}},[t._v("\n                  Salary Month:\n                ")]),t._v(" "),e("td",{staticStyle:{"text-align":"right","border-bottom":"1px solid #ccc"}},[t._v("\n                  "+t._s(t.currentMonth)+", "+t._s(t.currentYear)+"\n                ")])]),t._v(" "),e("tr",[e("th",{staticStyle:{"text-align":"left","border-bottom":"1px solid #ccc"}},[t._v("\n                  Salary Type:\n                ")]),t._v(" "),e("td",{staticStyle:{"text-align":"right","border-bottom":"1px solid #ccc"}},[t._v("\n                  "+t._s(t.data.salary_type)+"\n                ")])]),t._v(" "),e("tr",[e("th",{staticStyle:{"text-align":"left","border-bottom":"1px solid #ccc"}},[t._v("\n                  Presents\n                ")]),t._v(" "),e("td",{staticStyle:{"text-align":"right","border-bottom":"1px solid #ccc"}},[t._v("\n                  "+t._s(t.data.present)+"\n                ")])]),t._v(" "),e("tr",[e("th",{staticStyle:{"text-align":"left","border-bottom":"1px solid #ccc"}},[t._v("\n                  Absent\n                ")]),t._v(" "),e("td",{staticStyle:{"text-align":"right","border-bottom":"1px solid #ccc"}},[t._v("\n                  "+t._s(t.data.absent)+"\n                ")])]),t._v(" "),e("tr",[e("th",{staticStyle:{"text-align":"left","border-bottom":"1px solid #ccc"}},[t._v("\n                  Off\n                ")]),t._v(" "),e("td",{staticStyle:{"text-align":"right","border-bottom":"1px solid #ccc"}},[t._v("\n                  "+t._s(t.data.off)+"\n                ")])]),t._v(" "),e("tr",[e("th",{staticStyle:{"text-align":"left","border-bottom":"1px solid #ccc"}},[t._v("\n                  Missing\n                ")]),t._v(" "),e("td",{staticStyle:{"text-align":"right","border-bottom":"1px solid #ccc"}},[t._v("\n                  "+t._s(t.data.missing)+"\n                ")])])])])],1)],1),t._v(" "),e(r.a,{attrs:{cols:"6"}},[e(n.a,{attrs:{outlined:""}},[e(l.c,[t._v(" Earning Details ")]),t._v(" "),e(l.b,[e("table",{staticStyle:{width:"100%","border-collapse":"collapse","margin-bottom":"10px"}},[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left",padding:"5px","border-bottom":"1px solid #ccc"}},[t._v("\n                    Earnings\n                  ")]),t._v(" "),e("th",{staticStyle:{"text-align":"right",padding:"5px","border-bottom":"1px solid #ccc"}},[t._v("\n                    Amount\n                  ")])])]),t._v(" "),e("tbody",[t._l(t.data.earnings,(function(o,n){return e("tr",{key:n},[e("td",{staticStyle:{"text-align":"left",padding:"5px","border-bottom":"1px solid #ccc"}},[t._v("\n                    "+t._s(t.caps(o.label))+"\n                  ")]),t._v(" "),e("td",{staticStyle:{"text-align":"right",padding:"5px","border-bottom":"1px solid #ccc"}},[t._v("\n                    "+t._s(o.value)+"\n                  ")])])})),t._v(" "),e("tr",[e("th",{staticStyle:{"text-align":"left",padding:"5px","border-bottom":"1px solid #ccc"}},[e("strong",[t._v("Total Earnings")])]),t._v(" "),e("th",{staticStyle:{"text-align":"right",padding:"5px","border-bottom":"1px solid #ccc"}},[t._v("\n                    "+t._s(t.data.salary_and_earnings)+"\n                  ")])])],2)])])],1)],1),t._v(" "),e(r.a,{attrs:{cols:"6"}},[e(n.a,{attrs:{outlined:""}},[e(l.c,[t._v(" Deduction Details ")]),t._v(" "),e(l.b,[e("table",{staticStyle:{width:"100%","border-collapse":"collapse","margin-bottom":"10px"}},[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left",padding:"5px","border-bottom":"1px solid #ccc"}},[t._v("\n                    Deductions\n                  ")]),t._v(" "),e("th",{staticStyle:{"text-align":"right",padding:"5px","border-bottom":"1px solid #ccc"}},[t._v("\n                    Amount\n                  ")])])]),t._v(" "),e("tbody",[t._l(t.data.deductions,(function(o,n){return e("tr",{key:n},[e("td",{staticStyle:{"text-align":"left",padding:"5px","border-bottom":"1px solid #ccc"}},[t._v("\n                    "+t._s(t.caps(o.label))+"\n                  ")]),t._v(" "),e("td",{staticStyle:{"text-align":"right",padding:"5px","border-bottom":"1px solid #ccc"}},[t._v("\n                    "+t._s(o.value)+"\n                  ")])])})),t._v(" "),t._l(t.countdifference,(function(o){return e("tr",{key:o},[e("th",{staticStyle:{"text-align":"left",padding:"5px","border-bottom":"1px solid #ccc"},attrs:{scope:"row"}},[t._v("\n                     \n                  ")]),t._v(" "),e("td",{staticStyle:{"text-align":"right",padding:"5px","border-bottom":"1px solid #ccc"}},[t._v("\n                     \n                  ")])])})),t._v(" "),e("tr",[e("th",{staticStyle:{"text-align":"left",padding:"5px","border-bottom":"1px solid #ccc"},attrs:{scope:"row"}},[t._v("\n                    Total Deductions\n                  ")]),t._v(" "),e("th",{staticStyle:{"text-align":"right",padding:"5px","border-bottom":"1px solid #ccc"}},[t._v("\n                    "+t._s(t.data.deductedSalary)+"\n                  ")])])],2)])])],1)],1),t._v(" "),e(r.a,{attrs:{cols:"12"}},[e(n.a,{attrs:{outlined:""}},[e(l.b,{staticClass:"text-right"},[e("strong",[t._v("Net Salary")]),t._v(":\n            "+t._s(t.numberRound(this.data.earnedSubTotal))+"\n          ")])],1)],1)],1)],1)],1):e("Preloader")}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Preloader:o(897).default})},897:function(t,e,o){"use strict";o.r(e);var n=o(212),l=o(116),component=Object(l.a)({},(function(){var t=this._self._c;return t("div",{staticClass:"text-center",staticStyle:{width:"50px",margin:"25% auto"}},[t(n.a,{attrs:{src:"/preloaders/1.gif"}})],1)}),[],!1,null,null,null);e.default=component.exports}}]);