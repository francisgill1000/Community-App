(window.webpackJsonp=window.webpackJsonp||[]).push([[202],{1045:function(e,t,r){"use strict";r.r(t);var n=r(329),o=r(114),c=r(23),d=(r(6),r(11),r(88),{auth:!1,layout:"login",data:function(){return{isClicked:!1,isCamera:!1,videoStream:null}},mounted:function(){this.setupCamera()},methods:{setupCamera:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var r,video;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.mediaDevices.getUserMedia({video:!0});case 3:r=t.sent,(video=e.$refs.video).srcObject=r,e.videoStream=r,video.play(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("Error accessing the camera: ",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},takeSnapshot:function(){this.isClicked=!0,this.isCamera=!this.isCamera;var video=this.$refs.video,canvas=this.$refs.canvas,e=canvas.getContext("2d");canvas.width=video.videoWidth,canvas.height=video.videoHeight,e.drawImage(video,0,0,canvas.width,canvas.height),this.$emit("imageSrc",canvas.toDataURL("image/png")),this.isCamera?video.play():this.isCamera||video.pause()},beforeDestroy:function(){this.videoStream&&this.videoStream.getTracks().forEach((function(track){return track.stop()}))}}}),l=r(116),component=Object(l.a)(d,(function(){var e=this,t=e._self._c;return t("div",[t(n.a,{staticStyle:{border:"1px solid purple"},attrs:{size:"300"}},[t("img",{directives:[{name:"show",rawName:"v-show",value:!e.isClicked,expression:"!isClicked"}],ref:"img",attrs:{src:"/no-profile-image.jpg",alt:""}}),e._v(" "),t("video",{directives:[{name:"show",rawName:"v-show",value:e.isClicked,expression:"isClicked"}],ref:"video",attrs:{width:"100%",autoplay:"",playsinline:""}}),e._v(" "),t("canvas",{ref:"canvas",staticStyle:{display:"none"}})]),e._v(" "),t("div",{staticClass:"mb-1"},[t(o.a,{staticClass:"primary mt-1",on:{click:e.takeSnapshot}},[e._v(e._s(e.isCamera?"Take Picture":"Open Camera"))])],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);