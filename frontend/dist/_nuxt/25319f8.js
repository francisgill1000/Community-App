(window.webpackJsonp=window.webpackJsonp||[]).push([[157],{1192:function(e,t,r){"use strict";r.r(t);var o=r(114),l=r(516),n=r(876),c=r(515),d=r(873),v=r(214),m=(r(12),r(14),r(13),r(17),r(11),r(18),r(3));r(6),r(72),r(33),r(58),r(55);function _(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(t){Object(m.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var y={props:["employeeId"],data:function(){return{visa_info:!1,snackbar:!1,response:"",errors:[],visaItem:{}}},created:function(){this.getInfo(this.employeeId)},methods:{getInfo:function(e){var t=this;this.$axios.get("visa/".concat(e)).then((function(r){var data=r.data;t.visaItem=f(f({},data),{},{employee_id:e})}))},caps:function(e){return""==e||null==e?"---":e.toString().replace(/\b\w/g,(function(e){return e.toUpperCase()}))},can:function(e){return!0},close_visa_info:function(){var e=this;this.visa_info=!1,this.errors=[],setTimeout((function(){e.$emit("close-popup")}),1e3)},save_visa_info:function(){var e,t,r,o=this,l=f(f({},this.visaItem),{},{company_id:null===(e=this.$auth)||void 0===e||null===(t=e.user)||void 0===t||null===(r=t.company)||void 0===r?void 0:r.id,employee_id:this.visaItem.employee_id});this.$axios.post("visa",l).then((function(e){var data=e.data;o.loading=!1,data.status?(o.errors=[],o.snackbar=!0,o.response=data.message,o.close_visa_info()):o.errors=data.errors})).catch((function(e){return console.log(e)}))}}},I=r(116),component=Object(I.a)(y,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"text-center ma-2"},[t(d.a,{attrs:{top:"top",color:"secondary",elevation:"24"},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n      "+e._s(e.response)+"\n    ")])],1),e._v(" "),t(n.a,[t(c.a,[t(l.a,{attrs:{cols:"6"}},[t(c.a,[t(l.a,{attrs:{cols:"6"}},[t("div",{staticClass:"form-group"},[t(v.a,{staticClass:"form-control",attrs:{label:"Visa no","hide-details":!e.errors.visa_no,"error-messages":e.errors.visa_no&&e.errors.visa_no[0],dense:"",small:"",outlined:"",type:"text"},model:{value:e.visaItem.visa_no,callback:function(t){e.$set(e.visaItem,"visa_no",t)},expression:"visaItem.visa_no"}})],1)]),e._v(" "),t(l.a,{attrs:{cols:"6"}},[t("div",{staticClass:"form-group"},[t(v.a,{staticClass:"form-control",attrs:{label:"Note","hide-details":!e.errors.note,"error-messages":e.errors.note&&e.errors.note[0],dense:"",small:"",outlined:"",type:"text"},model:{value:e.visaItem.note,callback:function(t){e.$set(e.visaItem,"note",t)},expression:"visaItem.note"}})],1)]),e._v(" "),t(l.a,{attrs:{cols:"6"}},[t("div",{staticClass:"form-group"},[t(v.a,{staticClass:"form-control",attrs:{label:"Place of issues","hide-details":!e.errors.place_of_issues,"error-messages":e.errors.place_of_issues&&e.errors.place_of_issues[0],dense:"",small:"",outlined:"",type:"text"},model:{value:e.visaItem.place_of_issues,callback:function(t){e.$set(e.visaItem,"place_of_issues",t)},expression:"visaItem.place_of_issues"}})],1)]),e._v(" "),t(l.a,{attrs:{cols:"6"}},[t("div",{staticClass:"form-group"},[t(v.a,{staticClass:"form-control",attrs:{label:"Country","hide-details":!e.errors.country,"error-messages":e.errors.country&&e.errors.country[0],dense:"",small:"",outlined:"",type:"text"},model:{value:e.visaItem.country,callback:function(t){e.$set(e.visaItem,"country",t)},expression:"visaItem.country"}})],1)]),e._v(" "),t(l.a,{attrs:{cols:"6"}},[t("div",{staticClass:"form-group"},[t(v.a,{staticClass:"form-control",attrs:{label:"Issue Date","hide-details":!e.errors.issue_date,"error-messages":e.errors.issue_date&&e.errors.issue_date[0],dense:"",small:"",outlined:"",type:"date"},model:{value:e.visaItem.issue_date,callback:function(t){e.$set(e.visaItem,"issue_date",t)},expression:"visaItem.issue_date"}})],1)]),e._v(" "),t(l.a,{attrs:{cols:"6"}},[t("div",{staticClass:"form-group"},[t(v.a,{staticClass:"form-control",attrs:{label:"Expiry Date","hide-details":!e.errors.expiry_date,"error-messages":e.errors.expiry_date&&e.errors.expiry_date[0],dense:"",small:"",outlined:"",type:"date"},model:{value:e.visaItem.expiry_date,callback:function(t){e.$set(e.visaItem,"expiry_date",t)},expression:"visaItem.expiry_date"}})],1)]),e._v(" "),t(l.a,{attrs:{cols:"6"}},[t("div",{staticClass:"form-group"},[t(v.a,{staticClass:"form-control",attrs:{label:"Labour No","hide-details":!e.errors.labour_no,"error-messages":e.errors.labour_no&&e.errors.labour_no[0],dense:"",small:"",outlined:"",type:"text"},model:{value:e.visaItem.labour_no,callback:function(t){e.$set(e.visaItem,"labour_no",t)},expression:"visaItem.labour_no"}})],1)]),e._v(" "),t(l.a,{attrs:{cols:"6"}},[t("div",{staticClass:"form-group"},[t(v.a,{staticClass:"form-control",attrs:{label:"Labour Issue Date","hide-details":!e.errors.labour_issue_date,"error-messages":e.errors.labour_issue_date&&e.errors.labour_issue_date[0],dense:"",small:"",outlined:"",type:"date"},model:{value:e.visaItem.labour_issue_date,callback:function(t){e.$set(e.visaItem,"labour_issue_date",t)},expression:"visaItem.labour_issue_date"}})],1)]),e._v(" "),t(l.a,{attrs:{cols:"6"}},[t("div",{staticClass:"form-group"},[t(v.a,{staticClass:"form-control",attrs:{label:"Labour Expiry Date","hide-details":!e.errors.labour_expiry_date,"error-messages":e.errors.labour_expiry_date&&e.errors.labour_expiry_date[0],dense:"",small:"",outlined:"",type:"date"},model:{value:e.visaItem.labour_expiry_date,callback:function(t){e.$set(e.visaItem,"labour_expiry_date",t)},expression:"visaItem.labour_expiry_date"}})],1)])],1),e._v(" "),t(c.a,[t(l.a,{staticClass:"text-right",attrs:{cols:"12"}},[t(o.a,{staticClass:"primary",attrs:{small:""},on:{click:e.save_visa_info}},[e._v("Save")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);