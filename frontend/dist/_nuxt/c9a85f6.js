/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[146,4,27,28,92,113,117,176,177,186,198,204,209,443,444],{1003:function(t,e,n){"use strict";n.r(e);var o=n(921),r=n(117),l=n(539),c=n(1584),d=n(888),h=n(538),m=n(900),_=n(360),v=n(221),f=n(963),y=n(1804),x=n(17),w=(n(41),n(103),n(6),n(9),n(69),{props:["endpoint","system_user_id","shift_type_id"],data:function(){return{Model:"Manual Log",date:null,menu:!1,loading:!1,time_menu:!1,reason:null,log_payload:{user_id:null,device_id:"",date:null,time:null,shift_type_id:null,branch_id:0,log_type:"auto"},headers:[{text:"UserID",align:"center",sortable:!1,value:"UserID"},{text:"DeviceID",align:"center",sortable:!1,value:"DeviceID"},{text:"LogTime",align:"center",sortable:!1,value:"LogTime"}],ids:[],devices:[],data:[],total:0,options:{},errors:[],employees:[],response:"",snackbar:!1,Document:{items:[{UserID:"",LogDate:"",LogTime:"",DeviceID:""}]}}},mounted:function(){this.getDeviceList()},created:function(){var t=this;return Object(x.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.log_payload.user_id=t.system_user_id,e.next=4,t.$store.dispatch("fetchDropDowns",{key:"employeeList",endpoint:"employee-list",refresh:!0});case 4:t.employees=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching data:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},methods:{addDocumentInfo:function(){this.Document.items.push({UserID:"",LogDate:"",LogTime:"",DeviceID:""})},getDeviceList:function(){var t=this,e={params:{company_id:this.$auth.user.company_id}};this.$axios.get("/device_list_not_manual",e).then((function(e){var data=e.data;t.devices=data}))},getLastLog:function(t){var e=this;return Object(x.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.$axios.get("attendance_logs",{params:{company_id:e.$auth.user.company_id,UserID:t}}).then((function(t){var n,data=t.data;null!=data&&null!==(n=data.data)&&void 0!==n&&n.length&&["in","auto"].includes(data.data[0].log_type)?e.log_payload.log_type="out":e.log_payload.log_type="in"}));case 1:case"end":return n.stop()}}),n)})))()},handleChangeEvent:function(t){var e=this;return Object(x.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(o=e.employees.find((function(e){return t==e.system_user_id})))&&(e.log_payload.branch_id=o.branch_id||0);case 2:case"end":return n.stop()}}),n)})))()},submit:function(){var t=this;return Object(x.a)(regeneratorRuntime.mark((function e(){var n,o,r,time,l,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getLastLog(t.log_payload.user_id);case 2:if(n=t.log_payload,o=n.user_id,r=n.date,time=n.time,l=n.branch_id,c=n.device_id,d={branch_id:l,UserID:o,LogTime:r+" "+time,DeviceID:c,company_id:t.$auth.user.company_id,log_type:t.log_payload.log_type},t.loading=!0,o&&r&&time){e.next=8;break}return alert("Please enter required fields"),e.abrupt("return");case 8:t.$axios.post("/generate_log",d).then((function(e){var data=e.data;t.loading=!1,data.status?(t.render_report(r,t.shift_type_id),t.$emit("close-popup"),t.snackbar=!0,t.response=data.message):t.errors=data.errors})).catch((function(e){var n=e.message;t.snackbar=!0,t.response=n}));case 9:case"end":return e.stop()}}),e)})))()},render_report:function(t,e){var n=this,o={params:{dates:[t,t],UserIds:[this.log_payload.user_id],company_ids:[this.$auth.user.company_id],user_id:this.$auth.user.id,updated_by:this.$auth.user.id,reason:this.reason,employee_ids:[this.log_payload.user_id],shift_type_id:e}};this.$axios.get("render_logs",o).then((function(t){var data=t.data;n.loading=!1;var e="";data.forEach((function(element){e=e+" \n \n "+element})),n.response=e,n.loading=!1,n.$emit("update-data-table")})).catch((function(t){return console.log(t)}))}}}),k=n(60),component=Object(k.a)(w,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"text-center ma-2"},[e(m.a,{attrs:{top:"top",color:"secondary",elevation:"24"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.response)+"\n    ")])],1),t._v(" "),t._l(t.Document.items,(function(n,m){return e(h.a,{key:m},[e(l.a,{attrs:{md:"3"}},[e(o.a,{staticClass:"mt-5",attrs:{label:"Employee ID",placeholder:"Employee Device Id",items:t.employees,"item-text":"name_with_user_id","item-value":"system_user_id",dense:"",outlined:""},on:{change:function(e){return t.handleChangeEvent(n.user_id)}},model:{value:n.user_id,callback:function(e){t.$set(n,"user_id",e)},expression:"d.user_id"}}),t._v(" "),t.errors&&t.errors.user_id?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.user_id[0]))]):t._e()],1),t._v(" "),e(l.a,{attrs:{md:"3"}},[e(d.a,{ref:"menu",refInFor:!0,attrs:{"close-on-content-click":!0,"return-value":n.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){return t.$set(n,"date",e)},"update:return-value":function(e){return t.$set(n,"date",e)}},scopedSlots:t._u([{key:"activator",fn:function(o){var r=o.on,l=o.attrs;return[e(v.a,t._g(t._b({staticClass:"mt-5",attrs:{label:"Date",dense:"",outlined:"",placeholder:"Date",readonly:""},model:{value:n.date,callback:function(e){t.$set(n,"date",e)},expression:"d.date"}},"v-text-field",l,!1),r))]}}],null,!0),model:{value:n.menu,callback:function(e){t.$set(n,"menu",e)},expression:"d.menu"}},[t._v(" "),e(c.a,{attrs:{"no-title":"",scrollable:""},model:{value:n.date,callback:function(e){t.$set(n,"date",e)},expression:"d.date"}},[e(_.a)],1)],1)],1),t._v(" "),e(l.a,{attrs:{md:"3"}},[e(d.a,{ref:"time_menu_ref",refInFor:!0,attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":n.time,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){return t.$set(n,"time",e)},"update:return-value":function(e){return t.$set(n,"time",e)}},scopedSlots:t._u([{key:"activator",fn:function(o){var r=o.on,l=o.attrs;return[e(v.a,t._g(t._b({staticClass:"mt-5",attrs:{label:"Time",dense:"",outlined:"",placeholder:"Time",readonly:""},model:{value:n.time,callback:function(e){t.$set(n,"time",e)},expression:"d.time"}},"v-text-field",l,!1),r))]}}],null,!0),model:{value:t.time_menu,callback:function(e){t.time_menu=e},expression:"time_menu"}},[t._v(" "),t.time_menu?e(y.a,{attrs:{"full-width":"",format:"24hr"},model:{value:n.time,callback:function(e){t.$set(n,"time",e)},expression:"d.time"}},[e(_.a),t._v(" "),e(r.a,{attrs:{"x-small":"",color:"primary"},on:{click:function(e){t.time_menu=!1}}},[t._v("\n            Cancel\n          ")]),t._v(" "),e(r.a,{attrs:{"x-small":"",color:"primary"},on:{click:function(e){return t.$refs.time_menu_ref.save(n.time)}}},[t._v("\n            OK\n          ")])],1):t._e()],1),t._v(" "),t.errors&&t.errors.time?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.time[0]))]):t._e()],1),t._v(" "),e(l.a,{attrs:{md:"3"}},[e(o.a,{staticClass:"mt-5",attrs:{label:"Device Name",placeholder:"Device Name",items:t.devices,"item-text":"name","item-value":"device_id",dense:"",outlined:""},on:{change:function(e){return t.handleChangeEvent(n.user_id)}},model:{value:n.device_id,callback:function(e){t.$set(n,"device_id",e)},expression:"d.device_id"}}),t._v(" "),t.errors&&t.errors.user_id?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.user_id[0]))]):t._e()],1),t._v(" "),e(l.a,{attrs:{cols:"2"}},[e(r.a,{staticClass:"primary mb-2",on:{click:t.addDocumentInfo}},[t._v(" + ")])],1),t._v(" "),e(l.a,{staticStyle:{display:"none"},attrs:{cols:"12"}},[e(f.a,{attrs:{dense:"",outlined:"",placeholder:"Reason","auto-grow":"",required:""},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}}),t._v(" "),t.errors&&t.errors.reason?e("span",{staticClass:"error--text"},[t._v("\n        "+t._s(t.errors.reason[0])+"\n      ")]):t._e()],1)],1)})),t._v(" "),e(l.a,{staticClass:"text-end",attrs:{col:"2"}},[e(r.a,{attrs:{small:"",color:"primary"},on:{click:t.submit}},[t._v(" Submit ")])],1)],2)}),[],!1,null,null,null);e.default=component.exports},1004:function(t,e,n){"use strict";n(988)},1005:function(t,e,n){var o=n(20)((function(i){return i[1]}));o.push([t.i,".short-table[data-v-f94ec11c]{border-collapse:collapse;font-family:arial,sans-serif;width:100%}td[data-v-f94ec11c],th[data-v-f94ec11c]{border:1px solid #ddd;padding:8px;text-align:left}tr[data-v-f94ec11c]:nth-child(2n){background-color:#ddd}",""]),o.locals={},t.exports=o},1006:function(t){t.exports=JSON.parse('[{"text":"Date","align":"left","sortable":true,"filterable":false,"value":"date"},{"text":"Employee","align":"left","sortable":false,"filterable":true,"value":"employee_name","key":"employee_name"},{"text":"Shift","align":"left","sortable":false,"filterable":true,"value":"shift"},{"text":"In Time","align":"left","sortable":true,"filterable":true,"value":"in"},{"text":"Out Time","align":"left","sortable":true,"filterable":true,"value":"out"},{"text":"Late In","align":"left","sortable":true,"filterable":false,"value":"late_coming"},{"text":"Early Out","align":"left","sortable":true,"filterable":false,"value":"early_going"},{"text":"Total Hrs","align":"left","sortable":true,"filterable":true,"value":"total_hrs"},{"text":"OT","align":"left","sortable":true,"filterable":true,"value":"ot"},{"text":"Status","align":"left","sortable":true,"filterable":false,"value":"status"},{"text":"Actions","value":"actions","sortable":false}]')},1007:function(t){t.exports=JSON.parse('[{"text":"Date","align":"left","sortable":true,"filterable":false,"value":"date"},{"text":"Employee","align":"left","sortable":false,"filterable":true,"value":"employee_name","key":"employee_name"},{"text":"Shift","align":"left","sortable":false,"filterable":true,"value":"shift"},{"text":"In1","align":"left","sortable":true,"filterable":false,"value":"in1"},{"text":"Out1","align":"left","sortable":true,"filterable":false,"value":"out1"},{"text":"In2","align":"left","sortable":true,"filterable":false,"value":"in2"},{"text":"Out2","align":"left","sortable":true,"filterable":false,"value":"out2"},{"text":"In3","align":"left","sortable":true,"filterable":false,"value":"in3"},{"text":"Out3","align":"left","sortable":true,"filterable":false,"value":"out3"},{"text":"In4","align":"left","sortable":true,"filterable":false,"value":"in4"},{"text":"Out4","align":"left","sortable":true,"filterable":false,"value":"out4"},{"text":"In5","align":"left","sortable":true,"filterable":false,"value":"in5"},{"text":"Out5","align":"left","sortable":true,"filterable":false,"value":"out5"},{"text":"In6","align":"left","sortable":true,"filterable":false,"value":"in6"},{"text":"Out6","align":"left","sortable":true,"filterable":false,"value":"out6"},{"text":"In7","align":"left","sortable":true,"filterable":false,"value":"in7"},{"text":"Out7","align":"left","sortable":true,"filterable":false,"value":"out7"},{"text":"Total Hrs","align":"left","sortable":true,"filterable":true,"value":"total_hrs"},{"text":"OT","align":"left","sortable":true,"filterable":true,"value":"ot"},{"text":"Status","align":"left","sortable":true,"filterable":false,"value":"status"},{"text":"Actions","value":"actions","filterable":false,"sortable":false}]')},1008:function(t){t.exports=JSON.parse('[{"text":"Date","align":"left","sortable":true,"filterable":false,"value":"date"},{"text":"Employee","align":"left","sortable":false,"filterable":true,"value":"employee_name","key":"employee_name"},{"text":"Shift","align":"left","sortable":false,"filterable":true,"value":"shift"},{"text":"In Time1","align":"left","sortable":true,"filterable":false,"value":"in1"},{"text":"Out Time1","align":"left","sortable":true,"filterable":false,"value":"out1"},{"text":"In Time2","align":"left","sortable":true,"filterable":false,"value":"in2"},{"text":"Out Time2","align":"left","sortable":true,"filterable":false,"value":"out2"},{"text":"Late In","align":"left","sortable":true,"filterable":false,"value":"late_coming"},{"text":"Early Out","align":"left","sortable":true,"filterable":false,"value":"early_going"},{"text":"Total Hrs","align":"left","sortable":true,"filterable":true,"value":"total_hrs"},{"text":"OT","align":"left","sortable":true,"filterable":true,"value":"ot"},{"text":"Status","align":"left","sortable":true,"filterable":false,"value":"status"},{"text":"Actions","value":"actions","filterable":false,"sortable":false}]')},1012:function(t,e,n){"use strict";n.r(e);var o=n(921),r=n(117),l=n(138),c=n(79),d=n(539),h=n(903),m=n(1583),_=n(1584),v=n(361),f=n(889),y=n(964),x=n(116),w=n(219),k=n(336),O=n(211),D=n(10),j=n(888),C=n(538),I=n(900),S=n(360),M=n(221),$=n(963),A=n(1804),L=n(99),E=n(886),T=n(882),R=(n(33),n(37),n(12),n(14),n(11),n(6),n(18),n(9),n(19),n(34)),P=n(17),B=n(2);n(69),n(31),n(273),n(59),n(546),n(120),n(70),n(58),n(41),n(61),n(57),n(28);function N(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function F(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?N(Object(source),!0).forEach((function(e){Object(B.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):N(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var H={props:["report_template","branch_id","title","shift_type_id","headers","render_endpoint","process_file_endpoint","payload1","display_emp_pic","system_user_id"],data:function(){var t;return t={generateMultiLogsDialog:!1,currentPage:"",tableHeight:750,status:"",department_ids:"",employee_id:"",daily_date:"",from_date:"",to_date:"",report_type:"Monthly",filters:{},attendancFilters:!1,isFilter:!1,totalRowsCount:0,datatable_search_textbox:"",datatable_filter_date:"",filter_employeeid:"",snack:!1,snackColor:"",snackText:"",date:null,menu:!1,selectedItems:[],time_table_dialog:!1,log_details:!1,overtime:!1,options:{page:1}},Object(B.a)(t,"date",null),Object(B.a)(t,"menu",!1),Object(B.a)(t,"loading",!1),Object(B.a)(t,"time_menu",!1),Object(B.a)(t,"manual_time_menu",!1),Object(B.a)(t,"Model","Attendance Reports"),Object(B.a)(t,"endpoint","report"),Object(B.a)(t,"search",""),Object(B.a)(t,"snackbar",!1),Object(B.a)(t,"add_manual_log",!1),Object(B.a)(t,"dialog",!1),Object(B.a)(t,"generateLogsDialog",!1),Object(B.a)(t,"reportSync",!1),Object(B.a)(t,"from_menu",!1),Object(B.a)(t,"to_menu",!1),Object(B.a)(t,"ids",[]),Object(B.a)(t,"departments",[]),Object(B.a)(t,"scheduled_employees",[]),Object(B.a)(t,"DateRange",!0),Object(B.a)(t,"devices",[]),Object(B.a)(t,"valid",!0),Object(B.a)(t,"nameRules",[function(t){return!!t||"reason is required"}]),Object(B.a)(t,"timeRules",[function(t){return!!t||"time is required"}]),Object(B.a)(t,"deviceRules",[function(t){return!!t||"device is required"}]),Object(B.a)(t,"main_report_type","Multi In/Out Report"),Object(B.a)(t,"daily_menu",!1),Object(B.a)(t,"dailyDate",!1),Object(B.a)(t,"editItems",{shift_type_id:0,attendance_logs_id:"",UserID:"",device_id:"",user_id:"",reason:"",date:"",time:null,manual_entry:!1}),Object(B.a)(t,"loading",!1),Object(B.a)(t,"total",0),Object(B.a)(t,"payload",{from_date:null,to_date:null,daily_date:null,employee_id:"",department_ids:[],status:"-1"}),Object(B.a)(t,"log_payload",{user_id:null,device_id:"",date:null,time:null}),Object(B.a)(t,"log_list",[]),Object(B.a)(t,"snackbar",!1),Object(B.a)(t,"editedIndex",-1),Object(B.a)(t,"editedItem",{name:""}),Object(B.a)(t,"defaultItem",{name:""}),Object(B.a)(t,"response",""),Object(B.a)(t,"data",[]),Object(B.a)(t,"shifts",[]),Object(B.a)(t,"errors",[]),Object(B.a)(t,"custom_options",{}),Object(B.a)(t,"statuses",[{name:"Select All",id:"-1"},{name:"Present",id:"P"},{name:"Absent",id:"A"},{name:"Late In",id:"LC"},{name:"Early Out",id:"EG"},{name:"Missing",id:"M"},{name:"Off",id:"O"},{name:"Leave",id:"L"},{name:"Holiday",id:"H"},{name:"Vaccation",id:"V"},{name:"Manual Entry",id:"ME"}]),Object(B.a)(t,"max_date",null),Object(B.a)(t,"originalTableHeaders",[]),Object(B.a)(t,"clearPagenumber",!1),t},computed:{formTitle:function(){return-1===this.editedIndex?"New":"Edit"}},watch:{dialog:function(t){t||this.close(),this.errors=[],this.search=""},payload1:function(t){this.payload=t,this.report_type=t.report_type,this.department_ids=t.department_ids,this.employee_id=t.employee_id,this.status=t.status,null==this.payload.from_date&&(this.payload.from_date=this.payload.daily_date,this.payload.to_date=this.payload.daily_date),this.originalTableHeaders=this.headers,this.clearPagenumber=!0,this.getDataFromApi()},options:{handler:function(){this.getDataFromApi()},deep:!0}},mounted:function(){var t=this;this.tableHeight=window.innerHeight-370,window.addEventListener("resize",(function(){t.tableHeight=window.innerHeight-370}))},created:function(){return Object(P.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},methods:{checkHalfday:function(t){var e=(new Date).toLocaleString("en-US",{weekday:"long"});return t.shift&&e===t.shift.halfday},changeReportType:function(t){switch(this.setFromDate(),t){case"Daily":this.setDailyDate();break;case"Weekly":this.setSevenDays(this.payload.from_date);break;case"Monthly":case"Custom":this.setThirtyDays(this.payload.from_date);break;default:this.max_date=null}this.getDataFromApi()},datatable_cancel:function(){this.datatable_search_textbox=""},datatable_open:function(){this.datatable_search_textbox=""},datatable_close:function(){this.loading=!1},setSevenDays:function(t){var e=new Date(t);e.setDate(e.getDate()+6);var n=new Date(e),o=n.getDate();o=o<"10"?"0"+o:o;var r=n.getMonth()+1;r=r<10?"0"+r:r;var l=n.getFullYear();this.max_date="".concat(l,"-").concat(r,"-").concat(o),this.payload.to_date="".concat(l,"-").concat(r,"-").concat(o)},setThirtyDays:function(t){var e=new Date(t);e.setDate(e.getDate()+29);var n=new Date(e),o=n.getDate();o=o<"10"?"0"+o:o;var r=n.getMonth()+1;r=r<10?"0"+r:r;var l=n.getFullYear();this.max_date="".concat(l,"-").concat(r,"-").concat(o),this.payload.to_date="".concat(l,"-").concat(r,"-").concat(o)},set_date_save:function(t,e){t.save(e),"Weekly"==this.report_type?this.setSevenDays(this.payload.from_date):"Monthly"!=this.report_type&&"Custom"!=this.report_type||this.setThirtyDays(this.payload.from_date),this.getDataFromApi()},setFromDate:function(){if(null==this.payload.from_date){var dt=new Date,t=dt.getFullYear(),e=dt.getMonth()+1,n=e<10?"0"+e:e;this.payload.from_date="".concat(t,"-").concat(n,"-01")}},getDeviceList:function(t){var e=this;this.$axios.get("/device_list",t).then((function(t){var data=t.data;e.devices=data}))},setDailyDate:function(){this.payload.daily_date=(new Date).toJSON().slice(0,10),delete this.payload.from_date,delete this.payload.to_date},store_schedule:function(){var t=this,e=this.log_payload,n={UserID:e.user_id,LogTime:e.date+" "+e.time,DeviceID:e.device_id,company_id:this.$auth.user.company_id};this.loading=!0,this.$axios.post("/generate_log",n).then((function(e){e.data;t.getDataFromApi(),t.add_manual_log=!1,t.generateLogsDialog=!1,t.loading=!1})).catch((function(e){var n=e.message;t.snackbar=!0,t.response=n}))},update:function(){var t=this,e={UserID:this.editItems.UserID,LogTime:this.editItems.date+" "+this.editItems.time,DeviceID:"Manual",company_id:this.$auth.user.company_id,log_type:"auto"};this.loading=!0,this.$axios.post("/generate_log",e).then((function(e){var data=e.data;t.loading=!1,data.status?(t.render_report(t.editItems.date,t.editItems.shift_type_id),t.$emit("close-popup"),t.snackbar=!0,t.response=data.message,t.getDataFromApi(),t.dialog=!1):t.errors=data.errors})).catch((function(e){var n=e.message;t.snackbar=!0,t.response=n}))},render_report:function(t,e){var n=this,o={params:{dates:[t,t],UserIds:[this.editItems.UserID],company_ids:[this.$auth.user.company_id],user_id:this.$auth.user.id,updated_by:this.$auth.user.id,reason:this.reason,employee_ids:[this.editItems.UserID],shift_type_id:e}};this.$axios.get("render_logs",o).then((function(t){var data=t.data;n.snackbar=!0;var e=data.map((function(t){return t.replace(/^\[\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}\] /,"")+"<br>"})).join(""),o="No schedule is mapped with   date and employee",r=data.includes(o);console.log(r),r&&(e=o),n.response=e,n.loading=!1,n.$emit("update-data-table")})).catch((function(t){return console.log(t)}))},setEmployeeId:function(t){this.$store.commit("employee_id",t)},get_time_slots:function(){this.getShift(this.custom_options)},getShift:function(t){var e=this;this.$axios.get("/shift",t).then((function(t){var data=t.data;e.shifts=data.data.map((function(t){return{name:t.name,on_duty_time:t.time_table&&t.time_table.on_duty_time||"",off_duty_time:t.time_table&&t.time_table.off_duty_time||""}})),e.time_table_dialog=!0}))},getDepartments:function(t){var e=this;return Object(P.a)(regeneratorRuntime.mark((function n(){var o,r,l,c,d,h,data,m,_;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=e.$auth.user,r=o.employee,l=o.user_type,c="departments",n.prev=2,"employee"!==l){n.next=13;break}return d=r.id,c="assigned-department-employee",n.next=8,e.$axios.get("".concat(c,"/").concat(d),t);case 8:h=n.sent,data=h.data,e.departments=data,n.next=18;break;case 13:return n.next=15,e.$axios.get(c,t);case 15:m=n.sent,_=m.data,e.departments=_.data;case 18:n.next=23;break;case 20:n.prev=20,n.t0=n.catch(2),console.error("Error fetching departments:",n.t0);case 23:case"end":return n.stop()}}),n,null,[[2,20]])})))()},caps:function(t){return t.replace(/_/g," ").replace(/\b\w/g,(function(t){return t.toUpperCase()}))},can:function(t){return this.$pagePermission.can(t,this)},applyFilters:function(t,e){if(e&&e.length<2)return!1;this.options.page=1,this.getDataFromApi()},toggleFilter:function(){this.isFilter=!this.isFilter},clearFilters:function(){this.filters={},this.isFilter=!1,this.getDataFromApi()},getDataFromApi:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.endpoint,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!this.payload.from_date)return!1;var r=this.options,l=r.sortBy,c=r.sortDesc,d=r.page,h=r.itemsPerPage,m=l?l[0]:"",_=c?c[0]:"";this.loading=!0;var v={params:F(F({page:d,sortBy:m,sortDesc:_,per_page:h,company_id:this.$auth.user.company_id,report_type:this.report_type,shift_type_id:this.shift_type_id,overtime:this.overtime?1:0},this.filters),this.payload)};""!=n&&(v.params[n]=o),this.$axios.get(e,v,{}).then((function(e){var data=e.data;if(""!=n&&0==data.data.length)return t.snack=!0,t.snackColor="error",t.snackText="No Results Found",t.loading=!1,!1;t.data=data.data,t.total=data.total,t.loading=!1,t.totalRowsCount=data.total,t.clearPagenumber&&(t.options.page=1,t.clearPagenumber=!1)}))},editItem:function(t){this.dialog=!0,this.editItems=t,this.editItems.UserID=t.employee_id,this.editItems.date=t.edit_date},renderByType:function(t){var e=this,n=this.editItems.UserID,o=this.editItems.date;if(n&&o){var r={params:{date:this.editItems.date,UserID:this.editItems.UserID,updated_by:this.$auth.user.id,company_id:this.$auth.user.company_id,manual_entry:!0,reason:this.editItems.reason}};this.$axios.get("/"+t,r).then((function(t){var data=t.data;e.loading=!1,e.snackbar=!0,e.response=data.message,e.getDataFromApi()})).catch((function(t){return console.log(t)}))}else alert("System User Id and Date field is required")},viewItem:function(t){var e=this;this.log_list=[];var n={params:{per_page:500,UserID:t.employee_id,LogTime:t.edit_date,company_id:this.$auth.user.company_id}};this.log_details=!0,this.$axios.get("attendance_single_list",n).then((function(n){var data=n.data;e.log_list=data.data,e.log_list.item=t}))},close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}),300)},pdfDownload:function(){var t=document.createElement("a");t.setAttribute("href","http://192.168.88.30:8000/api/pdf"),t.setAttribute("target","_blank"),t.click()},process_file:function(t){if(!this.data||this.data.length){var path="http://192.168.88.30:8000/api/"+this.process_file_endpoint+t.toLowerCase(),e="";e+="".concat(path),e+="?report_template=".concat(this.report_template),e+="&main_shift_type=".concat(this.shift_type_id),parseInt(this.payload.branch_id)>0&&(e+="&branch_id=".concat(this.payload.branch_id)),e+="&shift_type_id=".concat(this.shift_type_id),e+="&company_id=".concat(this.$auth.user.company_id),e+="&status=".concat(this.payload.status&this.payload.status||"-1"),this.payload.department_ids&&this.payload.department_ids.length>0&&(e+="&department_ids=".concat(this.payload.department_ids.join(","))),e+="&employee_id=".concat(this.payload.employee_id),e+="&report_type=".concat(this.report_type),"Daily"==this.report_type?e+="&daily_date=".concat(this.payload.daily_date):e+="&from_date=".concat(this.payload.from_date,"&to_date=").concat(this.payload.to_date),console.log(e);var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("target","_blank"),n.click(),this.getDataFromApi()}else alert("No data found")},getShortShiftDetails:function(t){if(t.shift){var e=t.shift.working_hours,n=t.total_hrs;if(""!=e&&""!=n&&"---"!=e&&"---"!=n){var o=e.split(":").map(Number),r=Object(R.a)(o,2),l=r[0],c=r[1];e=60*l+c;var d=n.split(":").map(Number),h=Object(R.a)(d,2);if((n=60*(l=h[0])+(c=h[1]))<e&&!this.checkHalfday(t||"---"))return"Short Shift"}}},setStatusLabel:function(t){return{A:"Absent",P:"Present",M:"Missing",LC:"Late In",EG:"Early Out",O:"Week Off",L:"Leave",H:"Holiday",V:"Vaccation"}[t]}}},z=H,U=(n(1004),n(60)),component=Object(U.a)(z,(function(){var t,e,n,R=this,P=R._self._c;return R.can("attendance_report_access")?P("div",[P("div",{staticClass:"text-center"},[P(I.a,{attrs:{"multi-line":"",top:"top",color:"secondary",elevation:"24"},model:{value:R.snackbar,callback:function(t){R.snackbar=t},expression:"snackbar"}},[P("span",{domProps:{innerHTML:R._s(R.response)}})]),R._v(" "),P(I.a,{attrs:{timeout:3e3,color:R.snackColor},scopedSlots:R._u([{key:"action",fn:function(t){var e=t.attrs;return[P(r.a,R._b({attrs:{text:""},on:{click:function(t){R.snack=!1}}},"v-btn",e,!1),[R._v(" Close ")])]}}],null,!1,3090489768),model:{value:R.snack,callback:function(t){R.snack=t},expression:"snack"}},[R._v("\n      "+R._s(R.snackText)+"\n\n      ")])],1),R._v(" "),R.can("attendance_report_view")?P(l.a,{staticClass:"mb-5",attrs:{elevation:"0"}},[P(L.a,{staticClass:"backgrounds",attrs:{dense:"",flat:""}},[P(E.b),R._v(" "),P(S.a),R._v(" "),P("span",{staticStyle:{"padding-left":"15px"}},[P("img",{staticClass:"iconsize",staticStyle:{cursor:"pointer"},attrs:{title:"Print",src:"/icons/icon_print.png"},on:{click:function(t){return R.process_file(R.report_type)}}})]),R._v(" "),P("span",{staticStyle:{"padding-left":"15px"}},[P("img",{staticClass:"iconsize",staticStyle:{cursor:"pointer"},attrs:{title:"Download Pdf",src:"/icons/icon_pdf.png"},on:{click:function(t){return R.process_file(R.report_type+"_download_pdf")}}})]),R._v(" "),P("span",{staticStyle:{"padding-left":"15px"}},[P("img",{staticClass:"iconsize",staticStyle:{cursor:"pointer"},attrs:{title:"Download Excel",src:"/icons/icon_excel.png"},on:{click:function(t){return R.process_file(R.report_type+"_download_csv")}}})]),R._v(" "),P(j.a,{attrs:{bottom:"",right:""},scopedSlots:R._u([{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[P(r.a,R._g(R._b({attrs:{"dark-2":"",icon:""}},"v-btn",n,!1),e),[P(x.a,{attrs:{color:"violet"}},[R._v("mdi-dots-vertical")])],1)]}}],null,!1,1131389535)},[R._v(" "),P(k.a,{attrs:{width:"200",dense:""}},[R.can("attendance_report_re_generate")?P(O.a,{on:{click:function(t){R.reportSync=!0}}},[P(D.c,{staticStyle:{cursor:"pointer"}},[P(x.a,{attrs:{color:"secondary",small:""}},[R._v(" mdi-cached ")]),R._v("\n              Re-Generate Report\n            ")],1)],1):R._e(),R._v(" "),R.can("attendance_report_manual_entry_access")?P(O.a,{on:{click:function(t){R.generateLogsDialog=!0}}},[P(D.c,{staticStyle:{cursor:"pointer"}},[P(x.a,{attrs:{color:"secondary",small:""}},[R._v("\n                mdi-plus-circle-outline\n              ")]),R._v("\n              Manual Log\n            ")],1)],1):R._e(),R._v(" "),P(O.a,{on:{click:function(t){return R.process_file(R.report_type)}}},[P(D.c,{staticStyle:{cursor:"pointer"}},[P("img",{staticClass:"iconsize",attrs:{src:"/icons/icon_print.png"}}),R._v("\n              Print\n            ")])],1),R._v(" "),P(O.a,{on:{click:function(t){return R.process_file(R.report_type+"_download_pdf")}}},[P(D.c,{staticStyle:{cursor:"pointer"}},[P("img",{staticClass:"iconsize",attrs:{src:"/icons/icon_pdf.png"}}),R._v("\n              PDF\n            ")])],1),R._v(" "),P(O.a,{on:{click:function(t){return R.process_file(R.report_type+"_download_csv")}}},[P(D.c,{staticStyle:{cursor:"pointer"}},[P("img",{staticClass:"iconsize",attrs:{src:"/icons/icon_excel.png"}}),R._v("\n              EXCEL\n            ")])],1)],1)],1)],1),R._v(" "),P(m.a,{staticClass:"elevation-1",attrs:{dense:"",headers:R.headers,items:R.data,loading:R.loading,options:R.options,"footer-props":{itemsPerPageOptions:[31,30,50,100,500,1e3],page:!0},"model-value":"data.id","server-items-length":R.totalRowsCount,"fixed-header":"",height:R.tableHeight,"no-data-text":"No Data available. Click 'Generate' button to see the results"},on:{"update:options":function(t){R.options=t}},scopedSlots:R._u([{key:"item.employee_name",fn:function(t){var e=t.item;return[P(C.a,{attrs:{"no-gutters":"",title:"Dep: "+e.employee.department.name}},[P(d.a,{staticStyle:{padding:"3px","padding-left":"0px",width:"30px","max-width":"30px"},attrs:{md:"2"}},[P(w.a,{staticStyle:{"border-radius":"50%",height:"auto",width:"30px","max-width":"30px"},attrs:{src:e.employee.profile_picture?e.employee.profile_picture:"/no-profile-image.jpg"}})],1),R._v(" "),P(d.a,{staticStyle:{padding:"3px"},attrs:{md:"8"}},[P("strong",[R._v("\n              "+R._s(e.employee.first_name?e.employee.first_name:"---")+"\n              "+R._s(e.employee.last_name?e.employee.last_name:"---"))]),R._v(" "),P("div",{staticClass:"secondary-value"},[R._v("\n              "+R._s(e.employee.employee_id?e.employee.employee_id:null==e?void 0:e.employee_id)+"\n            ")])])],1)]}},{key:"item.status",fn:function(t){var e,n,o,l,c=t.item;return[P(T.a,{attrs:{top:"",color:"primary"},scopedSlots:R._u([{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[R._v("\n            "+R._s(R.setStatusLabel(c.status))+"\n            "),"P"==c.status?P("div",{staticClass:"secondary-value"},[R._v("\n              "+R._s(R.getShortShiftDetails(c))+"\n            ")]):R._e(),R._v(" "),c.is_manual_entry?P(r.a,R._g(R._b({attrs:{color:"primary",text:""}},"v-btn",n,!1),e),[R._v("\n              (ME)\n            ")]):R._e()]}}],null,!0)},[R._v(" "),P("div",[R._v("Reason: "+R._s(null===(e=c.last_reason)||void 0===e?void 0:e.reason))]),R._v(" "),P("div",[R._v("Added By: "+R._s(null===(n=c.last_reason)||void 0===n||null===(o=n.user)||void 0===o?void 0:o.email))]),R._v(" "),P("div",[R._v("Created At: "+R._s(null===(l=c.last_reason)||void 0===l?void 0:l.created_at))])])]}},{key:"item.shift",fn:function(t){var e=t.item;return[P("div",[R._v("\n          "+R._s(e.shift&&e.shift.on_duty_time)+" -\n          "+R._s(e.shift&&e.shift.off_duty_time)+"\n        ")]),R._v(" "),P("div",{staticClass:"secondary-value"},[R._v("\n          "+R._s(e.shift&&e.shift.name||"---")+"\n          "),R.checkHalfday(e||"---")?P("span",[R._v("\n            "+R._s("(Half Day ".concat(e.shift.halfday_working_hours," hrs)"))+"\n          ")]):R._e()])]}},{key:"item.date",fn:function(t){var e=t.item;return[P("div",[R._v(R._s(e.date))]),R._v(" "),P("div",{staticClass:"secondary-value"},[R._v("\n          "+R._s(e.day)+"\n        ")])]}},{key:"item.in",fn:function(t){var e=t.item;return[P("div",[R._v(R._s(e.in))]),R._v(" "),P("div",{staticClass:"secondary-value"},[e.device_in&&e.device_in.name&&"---"!=e.device_in.name?P("div",[R._v("\n            "+R._s(e.device_in.name)+"\n          ")]):"---"!=e.device_id_in?P("div",[R._v("\n            "+R._s(e.device_id_in)+"\n          ")]):P("div",[R._v("---")])])]}},{key:"item.out",fn:function(t){var e=t.item;return[P("div",[R._v(R._s(e.out))]),R._v(" "),P("div",{staticClass:"secondary-value"},[e.device_out&&e.device_out.name&&"---"!=e.device_out.name?P("div",[R._v("\n            "+R._s(e.device_out.name)+"\n          ")]):"---"!=e.device_id_out?P("div",[R._v("\n            "+R._s(e.device_id_out)+"\n          ")]):P("div",[R._v("---")])])]}},{key:"item.in1",fn:function(t){var e=t.item;return[P("div",[R._v(R._s(e.in1))]),R._v(" "),P("div",{staticClass:"secondary-value"},[R._v("\n          "+R._s(e.device_in1&&e.device_in1||"---")+"\n        ")])]}},{key:"item.out1",fn:function(t){var e=t.item;return[P("div",[R._v(R._s(e.out1))]),R._v(" "),P("div",{staticClass:"secondary-value"},[R._v("\n          "+R._s(e.device_out1&&e.device_out1||"---")+"\n        ")])]}},{key:"item.in2",fn:function(t){var e=t.item;return[P("div",[R._v(R._s(e.in2))]),R._v(" "),P("div",{staticClass:"secondary-value"},[R._v("\n          "+R._s(e.device_in2&&e.device_in2||"---")+"\n        ")])]}},{key:"item.out2",fn:function(t){var e=t.item;return[P("div",[R._v(R._s(e.out2))]),R._v(" "),P("div",{staticClass:"secondary-value"},[R._v("\n          "+R._s(e.device_out2&&e.device_out2||"---")+"\n        ")])]}},{key:"item.in3",fn:function(t){var e=t.item;return[P("div",[R._v(R._s(e.in3))]),R._v(" "),P("div",{staticClass:"secondary-value"},[R._v("\n          "+R._s(e.device_in3&&e.device_in3||"---")+"\n        ")])]}},{key:"item.out3",fn:function(t){var e=t.item;return[P("div",[R._v(R._s(e.out3))]),R._v(" "),P("div",{staticClass:"secondary-value"},[R._v("\n          "+R._s(e.device_out3&&e.device_out3||"---")+"\n        ")])]}},{key:"item.in4",fn:function(t){var e=t.item;return[P("div",[R._v(R._s(e.in4))]),R._v(" "),P("div",{staticClass:"secondary-value"},[R._v("\n          "+R._s(e.device_in4&&e.device_in4||"---")+"\n        ")])]}},{key:"item.out4",fn:function(t){var e=t.item;return[P("div",[R._v(R._s(e.out4))]),R._v(" "),P("div",{staticClass:"secondary-value"},[R._v("\n          "+R._s(e.device_out4&&e.device_out4||"---")+"\n        ")])]}},{key:"item.in5",fn:function(t){var e=t.item;return[P("div",[R._v(R._s(e.in5))]),R._v(" "),P("div",{staticClass:"secondary-value"},[R._v("\n          "+R._s(e.device_in5&&e.device_in5||"---")+"\n        ")])]}},{key:"item.out5",fn:function(t){var e=t.item;return[P("div",[R._v(R._s(e.out5))]),R._v(" "),P("div",{staticClass:"secondary-value"},[R._v("\n          "+R._s(e.device_out5&&e.device_out5||"---")+"\n        ")])]}},{key:"item.in6",fn:function(t){var e=t.item;return[P("div",[R._v(R._s(e.in6))]),R._v(" "),P("div",{staticClass:"secondary-value"},[R._v("\n          "+R._s(e.device_in6&&e.device_in6||"---")+"\n        ")])]}},{key:"item.out6",fn:function(t){var e=t.item;return[P("div",[R._v(R._s(e.out6))]),R._v(" "),P("div",{staticClass:"secondary-value"},[R._v("\n          "+R._s(e.device_out6&&e.device_out6||"---")+"\n        ")])]}},{key:"item.in7",fn:function(t){var e=t.item;return[P("div",[R._v(R._s(e.in7))]),R._v(" "),P("div",{staticClass:"secondary-value"},[R._v("\n          "+R._s(e.device_in7&&e.device_in7||"---")+"\n        ")])]}},{key:"item.out7",fn:function(t){var e=t.item;return[P("div",[R._v(R._s(e.out7))]),R._v(" "),P("div",{staticClass:"secondary-value"},[R._v("\n          "+R._s(e.device_out7&&e.device_out7||"---")+"\n        ")])]}},{key:"item.device_in",fn:function(t){var e=t.item;return[e&&e.device_in?P(T.a,{attrs:{top:"",color:"primary"},scopedSlots:R._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[P("div",R._g(R._b({staticClass:"primary--text"},"div",o,!1),n),[R._v("\n              "+R._s(e.device_in&&e.device_in.short_name||"---")+"\n            ")])]}}],null,!0)},[R._v(" "),R._l(e.device_in,(function(t,e){return P("div",{key:e},["id"!==e?P("span",[R._v("\n              "+R._s(R.caps(e))+": "+R._s(t||"---"))]):R._e()])}))],2):P("span",[R._v("---")])]}},{key:"item.device_out",fn:function(t){var e=t.item;return[e&&e.device_out?P(T.a,{attrs:{top:"",color:"primary"},scopedSlots:R._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[P("div",R._g(R._b({staticClass:"primary--text"},"div",o,!1),n),[R._v("\n              "+R._s(e.device_out&&e.device_out.short_name||"---")+"\n            ")])]}}],null,!0)},[R._v(" "),R._l(e.device_out,(function(t,e){return P("div",{key:e},["id"!==e?P("span",[R._v("\n              "+R._s(R.caps(e))+": "+R._s(t||"---"))]):R._e()])}))],2):P("span",[R._v("---")])]}},{key:"item.actions",fn:function(t){var e=t.item;return[R.can("attendance_report_manual_entry_access")?P(x.a,{staticClass:"mr-2",attrs:{"x-small":"",color:"primary"},on:{click:function(t){return R.editItem(e)}}},[R._v("\n          mdi-pencil\n        ")]):R._e(),R._v(" "),R.can("attendance_report_view")?P(x.a,{staticClass:"mr-2",attrs:{"x-small":"",color:"primary"},on:{click:function(t){return R.viewItem(e)}}},[R._v("\n          mdi-eye\n        ")]):R._e()]}}],null,!1,2113028547)})],1):R._e(),R._v(" "),P(C.a,{attrs:{justify:"center"}},[P(v.a,{attrs:{persistent:"","max-width":"600px"},model:{value:R.time_table_dialog,callback:function(t){R.time_table_dialog=t},expression:"time_table_dialog"}},[P(l.a,{staticClass:"darken-1"},[P(L.a,{staticClass:"primary",attrs:{dense:"",dark:"",flat:""}},[P("span",{staticClass:"text-h5"},[R._v("Time Slots")])]),R._v(" "),P(c.c,[P("ol",{staticClass:"pa-3"},R._l(R.shifts,(function(t,e){return P("li",{key:e},[R._v("\n              "+R._s(t&&t.name||"---")+"\n              "+R._s(t.on_duty_time?"(".concat(t.on_duty_time," - ").concat(t.off_duty_time,")"):"")+"\n            ")])})),0)])],1)],1)],1),R._v(" "),P(C.a,{attrs:{justify:"center"}},[P(v.a,{attrs:{persistent:"","max-width":"300px"},model:{value:R.dialog,callback:function(t){R.dialog=t},expression:"dialog"}},[P(l.a,[P(c.d,{staticClass:"popup_background"},[P("span",{staticClass:"headline"},[R._v(" Employee Manual Log ")]),R._v(" "),P(S.a),R._v(" "),P(x.a,{attrs:{outlined:"",dark:""},on:{click:function(t){R.dialog=!1}}},[R._v("\n            mdi mdi-close-circle\n          ")])],1),R._v(" "),P(c.c,[P(h.a,[P(C.a,[P(y.a,{ref:"form",staticStyle:{width:"100%"},attrs:{"lazy-validation":""},model:{value:R.valid,callback:function(t){R.valid=t},expression:"valid"}},[P(d.a,{staticClass:"pa-0",attrs:{md:"12"}},[P(j.a,{ref:"time_menu_ref",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":R.payload.time,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){return R.$set(R.payload,"time",t)},"update:return-value":function(t){return R.$set(R.payload,"time",t)}},scopedSlots:R._u([{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[P(M.a,R._g(R._b({attrs:{label:"Time",readonly:"",rules:R.timeRules},model:{value:R.editItems.time,callback:function(t){R.$set(R.editItems,"time",t)},expression:"editItems.time"}},"v-text-field",n,!1),e))]}}],null,!1,519462658),model:{value:R.time_menu,callback:function(t){R.time_menu=t},expression:"time_menu"}},[R._v(" "),R.time_menu?P(A.a,{attrs:{"full-width":"",format:"24hr"},model:{value:R.editItems.time,callback:function(t){R.$set(R.editItems,"time",t)},expression:"editItems.time"}},[P(S.a),R._v(" "),P(r.a,{attrs:{"x-small":"",color:"primary"},on:{click:function(t){R.time_menu=!1}}},[R._v("\n                        Cancel\n                      ")]),R._v(" "),P(r.a,{attrs:{"x-small":"",color:"primary"},on:{click:function(t){return R.$refs.time_menu_ref.save(R.editItems.time)}}},[R._v("\n                        OK\n                      ")])],1):R._e()],1),R._v(" "),R.errors&&R.errors.time?P("span",{staticClass:"text-danger mt-2"},[R._v(R._s(R.errors.time[0]))]):R._e()],1),R._v(" "),P(d.a,{staticClass:"pa-0",attrs:{cols:"12"}},[P($.a,{attrs:{filled:"",label:"Reason","auto-grow":"",rules:R.nameRules,required:"",rows:"2"},model:{value:R.editItems.reason,callback:function(t){R.$set(R.editItems,"reason",t)},expression:"editItems.reason"}}),R._v(" "),R.errors&&R.errors.reason?P("span",{staticClass:"error--text"},[R._v("\n                    "+R._s(R.errors.reason[0])+"\n                  ")]):R._e()],1)],1)],1)],1)],1),R._v(" "),P(c.a,[P(S.a),R._v(" "),P(r.a,{staticClass:"error",attrs:{small:""},on:{click:R.close}},[R._v(" Cancel ")]),R._v(" "),P(r.a,{staticClass:"primary",attrs:{small:""},on:{click:R.update}},[R._v("Save")])],1)],1)],1)],1),R._v(" "),P(C.a,{attrs:{justify:"center"}},[P(v.a,{attrs:{persistent:"","max-width":"800px"},model:{value:R.reportSync,callback:function(t){R.reportSync=t},expression:"reportSync"}},[P(l.a,{staticStyle:{width:"100%"}},[P(c.d,{staticClass:"popup_background"},[P("span",{staticClass:"headline"},[R._v(" Render Report ")]),R._v(" "),P(S.a),R._v(" "),P(x.a,{attrs:{dark:""},on:{click:function(t){R.reportSync=!1}}},[R._v("mdi-close-box")])],1),R._v(" "),P("RenderAttendance",{attrs:{shift_type_id:R.shift_type_id,endpoint:R.render_endpoint,display_emp_pic:R.display_emp_pic,system_user_id:R.system_user_id},on:{"update-data-table":function(t){return R.getDataFromApi()}}})],1)],1)],1),R._v(" "),P(C.a,{attrs:{justify:"center"}},[P(v.a,{attrs:{persistent:"","max-width":"800px"},model:{value:R.generateLogsDialog,callback:function(t){R.generateLogsDialog=t},expression:"generateLogsDialog"}},[P(l.a,[P(c.d,{staticClass:"popup_background"},[P("span",{staticClass:"headline"},[R._v("Employee Manual Log ")]),R._v(" "),P(S.a),R._v(" "),P(x.a,{attrs:{dark:""},on:{click:function(t){R.generateLogsDialog=!1}}},[R._v("mdi-close-box")])],1),R._v(" "),P(c.c,[P(h.a,[P(C.a,[P("GenerateLog",{attrs:{endpoint:R.render_endpoint,system_user_id:R.system_user_id,shift_type_id:R.shift_type_id},on:{"close-popup":function(t){R.generateLogsDialog=!1},"update-data-table":function(t){return R.getDataFromApi()}}})],1)],1)],1)],1)],1),R._v(" "),P(v.a,{attrs:{persistent:"","max-width":"800px"},model:{value:R.generateMultiLogsDialog,callback:function(t){R.generateMultiLogsDialog=t},expression:"generateMultiLogsDialog"}},[P(l.a,[P(c.d,{staticClass:"popup_background"},[P("span",{staticClass:"headline"},[R._v("Employee Manual Multi Log ")]),R._v(" "),P(S.a),R._v(" "),P(x.a,{attrs:{dark:""},on:{click:function(t){R.generateLogsDialog=!1}}},[R._v("mdi-close-box")])],1),R._v(" "),P(c.c,[P(h.a,[P(C.a,[P("GenerateLogMulti",{attrs:{endpoint:R.render_endpoint,system_user_id:R.system_user_id,shift_type_id:R.shift_type_id},on:{"close-popup":function(t){R.generateLogsDialog=!1},"update-data-table":function(t){return R.getDataFromApi()}}})],1)],1)],1)],1)],1)],1),R._v(" "),P(v.a,{attrs:{persistent:"",width:"700"},model:{value:R.add_manual_log,callback:function(t){R.add_manual_log=t},expression:"add_manual_log"}},[P(l.a,[P(c.d,{staticClass:"popup_background text-h5 darken-2",attrs:{dark:""}},[R._v("\n        Manual Log_old\n      ")]),R._v(" "),P(c.c,{staticClass:"pa-3"},[P(C.a,[P(d.a,{attrs:{md:"12"}},[P(M.a,{attrs:{label:"User Id"},model:{value:R.log_payload.user_id,callback:function(t){R.$set(R.log_payload,"user_id",t)},expression:"log_payload.user_id"}}),R._v(" "),R.errors&&R.errors.user_id?P("span",{staticClass:"text-danger mt-2"},[R._v(R._s(R.errors.user_id[0]))]):R._e()],1),R._v(" "),P(d.a,{attrs:{md:"12"}},[P(o.a,{attrs:{label:"Select Device",items:R.devices,"item-text":"name","item-value":"id",rules:R.deviceRules},model:{value:R.log_payload.device_id,callback:function(t){R.$set(R.log_payload,"device_id",t)},expression:"log_payload.device_id"}}),R._v(" "),R.errors&&R.errors.device_id?P("span",{staticClass:"text-danger mt-2"},[R._v(R._s(R.errors.device_id[0]))]):R._e()],1),R._v(" "),P(d.a,{attrs:{md:"12"}},[P(o.a,{attrs:{label:"In/Out",items:["In","Out"],rules:R.deviceRules},model:{value:R.log_payload.log_type,callback:function(t){R.$set(R.log_payload,"log_type",t)},expression:"log_payload.log_type"}},[R._v("\n              "+R._s(R.log_payload.log_type)+"\n            ")]),R._v(" "),R.errors&&R.errors.log_type?P("span",{staticClass:"text-danger mt-2"},[R._v(R._s(R.errors.log_type[0]))]):R._e()],1),R._v(" "),P(d.a,{attrs:{cols:"12",md:"6"}},[P(j.a,{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":R.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){R.date=t},"update:return-value":function(t){R.date=t}},scopedSlots:R._u([{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[P(M.a,R._g(R._b({attrs:{label:"Date",readonly:""},model:{value:R.log_payload.date,callback:function(t){R.$set(R.log_payload,"date",t)},expression:"log_payload.date"}},"v-text-field",n,!1),e))]}}],null,!1,1153165614),model:{value:R.menu,callback:function(t){R.menu=t},expression:"menu"}},[R._v(" "),P(_.a,{attrs:{"no-title":"",scrollable:""},model:{value:R.log_payload.date,callback:function(t){R.$set(R.log_payload,"date",t)},expression:"log_payload.date"}},[P(S.a),R._v(" "),P(r.a,{attrs:{text:"",color:"primary"},on:{click:function(t){R.menu=!1}}},[R._v("\n                  Cancel\n                ")]),R._v(" "),P(r.a,{attrs:{text:"",color:"primary"},on:{click:function(t){return R.$refs.menu.save(R.log_payload.date)}}},[R._v("\n                  OK\n                ")])],1)],1)],1),R._v(" "),P(d.a,{attrs:{cols:"12",md:"6"}},[P(j.a,{ref:"manual_time_menu_ref",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":R.log_payload.time,transition:"scale-transition","offset-y":"","max-width":"290px","min-height":"320px"},on:{"update:returnValue":function(t){return R.$set(R.log_payload,"time",t)},"update:return-value":function(t){return R.$set(R.log_payload,"time",t)}},scopedSlots:R._u([{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[P(M.a,R._g(R._b({attrs:{label:"Time",readonly:""},model:{value:R.log_payload.time,callback:function(t){R.$set(R.log_payload,"time",t)},expression:"log_payload.time"}},"v-text-field",n,!1),e))]}}],null,!1,842779310),model:{value:R.manual_time_menu,callback:function(t){R.manual_time_menu=t},expression:"manual_time_menu"}},[R._v(" "),R.manual_time_menu?P(A.a,{attrs:{"full-width":"",format:"24hr"},model:{value:R.log_payload.time,callback:function(t){R.$set(R.log_payload,"time",t)},expression:"log_payload.time"}},[P(S.a),R._v(" "),P(r.a,{attrs:{"x-small":"",color:"primary"},on:{click:function(t){R.manual_=!1}}},[R._v("\n                  Cancel\n                ")]),R._v(" "),P(r.a,{attrs:{"x-small":"",color:"primary"},on:{click:function(t){return R.$refs.manual_time_menu_ref.save(R.log_payload.time)}}},[R._v("\n                  OK\n                ")])],1):R._e()],1),R._v(" "),R.errors&&R.errors.time?P("span",{staticClass:"text-danger mt-2"},[R._v(R._s(R.errors.time[0]))]):R._e()],1)],1)],1),R._v(" "),P(f.a),R._v(" "),P(c.a,[P(S.a),R._v(" "),P(r.a,{attrs:{small:"",loading:R.loading,color:"primary"},on:{click:R.store_schedule}},[R._v("\n          Submit\n        ")])],1)],1)],1),R._v(" "),P(C.a,{attrs:{justify:"center"}},[P(v.a,{attrs:{persistent:"","max-width":"800px"},model:{value:R.log_details,callback:function(t){R.log_details=t},expression:"log_details"}},[P(l.a,{staticClass:"darken-1"},[P(L.a,{staticClass:"popup_background"},[P("span",{staticClass:"text-h5 pa-2"},[R._v("Log Details")]),R._v(" "),P(S.a),R._v(" "),P(x.a,{on:{click:function(t){R.log_details=!1}}},[R._v("mdi-close-circle-outline")])],1),R._v(" "),P(L.a,{attrs:{flat:"",dense:""}},[R._v("\n          Employee Id: "),P("b",[R._v(R._s(null===(t=R.log_list)||void 0===t||null===(e=t.item)||void 0===e||null===(n=e.employee)||void 0===n?void 0:n.system_user_id))]),R._v(" "),P(S.a),R._v("\n          Total logs\n          "),P("b",{staticClass:"background--text"},[R._v("("+R._s(R.log_list.length)+")")])],1),R._v(" "),P(c.c,[P("table",{staticClass:"short-table"},[P("tr",[P("td",[R._v("LogTime")]),R._v(" "),P("td",[R._v("Device Id")]),R._v(" "),P("td",[R._v("Device Function")])]),R._v(" "),R._l(R.log_list,(function(t,e){var n,o,r;return P("tr",{key:e},[P("td",[R._v(R._s(t.LogTime))]),R._v(" "),P("td",[R._v(R._s(t.DeviceID))]),R._v(" "),P("td",["In"==t.device.function?P("b",[R._v(R._s(null==t||null===(n=t.device)||void 0===n?void 0:n.function))]):"Out"==t.device.function?P("b",[R._v(R._s(null==t||null===(o=t.device)||void 0===o?void 0:o.function))]):"auto"==t.device.function?P("b",[R._v(R._s(null==t||null===(r=t.device)||void 0===r?void 0:r.function))]):P("b",[R._v("Unkown")])])])}))],2)])],1)],1)],1)],1):P("NoAccess")}),[],!1,null,"f94ec11c",null);e.default=component.exports;installComponents(component,{RenderAttendance:n(980).default,GenerateLog:n(934).default,GenerateLogMulti:n(1003).default,NoAccess:n(909).default})},1014:function(t,e,n){"use strict";n(12),n(14),n(11),n(6),n(18),n(9),n(19);var o=n(100),r=n(2),l=(n(224),n(225),n(548),n(984),n(365)),c=n(81),d=n(124),h=n(139),m=n(274),_=n(1),v=["title"];function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=l.a.extend({name:"v-switch",directives:{Touch:d.a},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return y(y({},c.a.options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){var t=this.attrs$,e=(t.title,Object(o.a)(t,v));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",y(y({},this.attrs),e)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",y({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",y({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(h.c,{},[!1===this.loading?null:this.$slots.progress||this.$createElement(m.a,{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(t){(t.keyCode===_.z.left&&this.isActive||t.keyCode===_.z.right&&!this.isActive)&&this.onChange()}}})},1041:function(t,e,n){t.exports=function(){"use strict";function t(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function e(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?t(Object(source),!0).forEach((function(t){c(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):t(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t){return h(t)||m(t)||_(t)||f()}function h(t){if(Array.isArray(t))return v(t)}function m(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var y="undefined"!=typeof window&&void 0!==window.document,x=y?window:{},w=!(!y||!x.document.documentElement)&&"ontouchstart"in x.document.documentElement,k=!!y&&"PointerEvent"in x,O="cropper",D="all",j="crop",C="move",I="zoom",S="e",M="w",$="s",A="n",L="ne",E="nw",T="se",R="sw",P="".concat(O,"-crop"),B="".concat(O,"-disabled"),N="".concat(O,"-hidden"),F="".concat(O,"-hide"),H="".concat(O,"-invisible"),z="".concat(O,"-modal"),U="".concat(O,"-move"),W="".concat(O,"Action"),V="".concat(O,"Preview"),Y="crop",X="move",K="none",G="crop",J="cropend",Q="cropmove",Z="cropstart",tt="dblclick",et=w?"touchstart":"mousedown",at=w?"touchmove":"mousemove",it=w?"touchend touchcancel":"mouseup",nt=k?"pointerdown":et,ot=k?"pointermove":at,st=k?"pointerup pointercancel":it,lt="ready",ct="resize",ut="wheel",pt="zoom",ht="image/jpeg",mt=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,_t=/^data:/,vt=/^data:image\/jpeg;base64,/,ft=/^img|canvas$/i,gt=200,yt=100,bt={viewMode:0,dragMode:Y,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:gt,minContainerHeight:yt,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},xt='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',wt=Number.isNaN||x.isNaN;function kt(t){return"number"==typeof t&&!wt(t)}var Ot=function(t){return t>0&&t<1/0};function Dt(t){return void 0===t}function jt(t){return"object"===n(t)&&null!==t}var Ct=Object.prototype.hasOwnProperty;function It(t){if(!jt(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&Ct.call(n,"isPrototypeOf")}catch(t){return!1}}function St(t){return"function"==typeof t}var Mt=Array.prototype.slice;function $t(t){return Array.from?Array.from(t):Mt.call(t)}function At(data,t){return data&&St(t)&&(Array.isArray(data)||kt(data.length)?$t(data).forEach((function(e,n){t.call(data,e,n,data)})):jt(data)&&Object.keys(data).forEach((function(e){t.call(data,data[e],e,data)}))),data}var Lt=Object.assign||function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return jt(t)&&n.length>0&&n.forEach((function(e){jt(e)&&Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t},Et=/\.\d*(?:0|9){12}\d*$/;function Tt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return Et.test(t)?Math.round(t*e)/e:t}var Rt=/^width|height|left|top|marginLeft|marginTop$/;function Pt(element,t){var style=element.style;At(t,(function(t,e){Rt.test(e)&&kt(t)&&(t="".concat(t,"px")),style[e]=t}))}function Bt(element,t){return element.classList?element.classList.contains(t):element.className.indexOf(t)>-1}function Nt(element,t){if(t)if(kt(element.length))At(element,(function(e){Nt(e,t)}));else if(element.classList)element.classList.add(t);else{var e=element.className.trim();e?e.indexOf(t)<0&&(element.className="".concat(e," ").concat(t)):element.className=t}}function Ft(element,t){t&&(kt(element.length)?At(element,(function(e){Ft(e,t)})):element.classList?element.classList.remove(t):element.className.indexOf(t)>=0&&(element.className=element.className.replace(t,"")))}function Ht(element,t,e){t&&(kt(element.length)?At(element,(function(n){Ht(n,t,e)})):e?Nt(element,t):Ft(element,t))}var zt=/([a-z\d])([A-Z])/g;function Ut(t){return t.replace(zt,"$1-$2").toLowerCase()}function Wt(element,t){return jt(element[t])?element[t]:element.dataset?element.dataset[t]:element.getAttribute("data-".concat(Ut(t)))}function Vt(element,t,data){jt(data)?element[t]=data:element.dataset?element.dataset[t]=data:element.setAttribute("data-".concat(Ut(t)),data)}function Yt(element,t){if(jt(element[t]))try{delete element[t]}catch(e){element[t]=void 0}else if(element.dataset)try{delete element.dataset[t]}catch(e){element.dataset[t]=void 0}else element.removeAttribute("data-".concat(Ut(t)))}var Xt=/\s\s*/,qt=function(){var t=!1;if(y){var e=!1,n=function(){},o=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});x.addEventListener("test",n,o),x.removeEventListener("test",n,o)}return t}();function Kt(element,t,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e;t.trim().split(Xt).forEach((function(t){if(!qt){var r=element.listeners;r&&r[t]&&r[t][e]&&(o=r[t][e],delete r[t][e],0===Object.keys(r[t]).length&&delete r[t],0===Object.keys(r).length&&delete element.listeners)}element.removeEventListener(t,o,n)}))}function Gt(element,t,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e;t.trim().split(Xt).forEach((function(t){if(n.once&&!qt){var r=element.listeners,l=void 0===r?{}:r;o=function(){delete l[t][e],element.removeEventListener(t,o,n);for(var r=arguments.length,c=new Array(r),d=0;d<r;d++)c[d]=arguments[d];e.apply(element,c)},l[t]||(l[t]={}),l[t][e]&&element.removeEventListener(t,l[t][e],n),l[t][e]=o,element.listeners=l}element.addEventListener(t,o,n)}))}function Jt(element,t,data){var e;return St(Event)&&St(CustomEvent)?e=new CustomEvent(t,{detail:data,bubbles:!0,cancelable:!0}):(e=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,data),element.dispatchEvent(e)}function Qt(element){var t=element.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var Zt=x.location,te=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function ee(t){var e=t.match(te);return null!==e&&(e[1]!==Zt.protocol||e[2]!==Zt.hostname||e[3]!==Zt.port)}function ae(t){var e="timestamp=".concat((new Date).getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}function ie(t){var e=t.rotate,n=t.scaleX,o=t.scaleY,r=t.translateX,l=t.translateY,c=[];kt(r)&&0!==r&&c.push("translateX(".concat(r,"px)")),kt(l)&&0!==l&&c.push("translateY(".concat(l,"px)")),kt(e)&&0!==e&&c.push("rotate(".concat(e,"deg)")),kt(n)&&1!==n&&c.push("scaleX(".concat(n,")")),kt(o)&&1!==o&&c.push("scaleY(".concat(o,")"));var d=c.length?c.join(" "):"none";return{WebkitTransform:d,msTransform:d,transform:d}}function ne(t){var n=e({},t),o=0;return At(t,(function(t,e){delete n[e],At(n,(function(e){var n=Math.abs(t.startX-e.startX),r=Math.abs(t.startY-e.startY),l=Math.abs(t.endX-e.endX),c=Math.abs(t.endY-e.endY),d=Math.sqrt(n*n+r*r),h=(Math.sqrt(l*l+c*c)-d)/d;Math.abs(h)>Math.abs(o)&&(o=h)}))})),o}function oe(t,n){var o=t.pageX,r=t.pageY,l={endX:o,endY:r};return n?l:e({startX:o,startY:r},l)}function se(t){var e=0,n=0,o=0;return At(t,(function(t){var r=t.startX,l=t.startY;e+=r,n+=l,o+=1})),{pageX:e/=o,pageY:n/=o}}function re(t){var e=t.aspectRatio,n=t.height,o=t.width,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",l=Ot(o),c=Ot(n);if(l&&c){var d=n*e;"contain"===r&&d>o||"cover"===r&&d<o?n=o/e:o=n*e}else l?n=o/e:c&&(o=n*e);return{width:o,height:n}}function le(t){var e=t.width,n=t.height,o=t.degree;if(90==(o=Math.abs(o)%180))return{width:n,height:e};var r=o%90*Math.PI/180,l=Math.sin(r),c=Math.cos(r),d=e*c+n*l,h=e*l+n*c;return o>90?{width:h,height:d}:{width:d,height:h}}function ce(image,t,e,n){var o=t.aspectRatio,r=t.naturalWidth,l=t.naturalHeight,c=t.rotate,h=void 0===c?0:c,m=t.scaleX,_=void 0===m?1:m,v=t.scaleY,f=void 0===v?1:v,y=e.aspectRatio,x=e.naturalWidth,w=e.naturalHeight,k=n.fillColor,O=void 0===k?"transparent":k,D=n.imageSmoothingEnabled,j=void 0===D||D,C=n.imageSmoothingQuality,I=void 0===C?"low":C,S=n.maxWidth,M=void 0===S?1/0:S,$=n.maxHeight,A=void 0===$?1/0:$,L=n.minWidth,E=void 0===L?0:L,T=n.minHeight,R=void 0===T?0:T,canvas=document.createElement("canvas"),P=canvas.getContext("2d"),B=re({aspectRatio:y,width:M,height:A}),N=re({aspectRatio:y,width:E,height:R},"cover"),F=Math.min(B.width,Math.max(N.width,x)),H=Math.min(B.height,Math.max(N.height,w)),z=re({aspectRatio:o,width:M,height:A}),U=re({aspectRatio:o,width:E,height:R},"cover"),W=Math.min(z.width,Math.max(U.width,r)),V=Math.min(z.height,Math.max(U.height,l)),Y=[-W/2,-V/2,W,V];return canvas.width=Tt(F),canvas.height=Tt(H),P.fillStyle=O,P.fillRect(0,0,F,H),P.save(),P.translate(F/2,H/2),P.rotate(h*Math.PI/180),P.scale(_,f),P.imageSmoothingEnabled=j,P.imageSmoothingQuality=I,P.drawImage.apply(P,[image].concat(d(Y.map((function(param){return Math.floor(Tt(param))}))))),P.restore(),canvas}var de=String.fromCharCode;function ue(t,e,n){var o="";n+=e;for(var i=e;i<n;i+=1)o+=de(t.getUint8(i));return o}var pe=/^data:.*,/;function he(t){var e=t.replace(pe,""),n=atob(e),o=new ArrayBuffer(n.length),r=new Uint8Array(o);return At(r,(function(t,i){r[i]=n.charCodeAt(i)})),o}function me(t,e){for(var n=[],o=8192,r=new Uint8Array(t);r.length>0;)n.push(de.apply(null,$t(r.subarray(0,o)))),r=r.subarray(o);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}function _e(t){var e,n=new DataView(t);try{var o,r,l;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var c=n.byteLength,d=2;d+1<c;){if(255===n.getUint8(d)&&225===n.getUint8(d+1)){r=d;break}d+=1}if(r){var h=r+10;if("Exif"===ue(n,r+4,4)){var m=n.getUint16(h);if(((o=18761===m)||19789===m)&&42===n.getUint16(h+2,o)){var _=n.getUint32(h+4,o);_>=8&&(l=h+_)}}}if(l){var v,i,f=n.getUint16(l,o);for(i=0;i<f;i+=1)if(v=l+12*i+2,274===n.getUint16(v,o)){v+=8,e=n.getUint16(v,o),n.setUint16(v,1,o);break}}}catch(t){e=1}return e}function ve(t){var e=0,n=1,o=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:o=-1;break;case 5:e=90,o=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90}return{rotate:e,scaleX:n,scaleY:o}}var fe={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var element=this.element,t=this.options,e=this.container,n=this.cropper,o=Number(t.minContainerWidth),r=Number(t.minContainerHeight);Nt(n,N),Ft(element,N);var l={width:Math.max(e.offsetWidth,o>=0?o:gt),height:Math.max(e.offsetHeight,r>=0?r:yt)};this.containerData=l,Pt(n,{width:l.width,height:l.height}),Nt(element,N),Ft(n,N)},initCanvas:function(){var t=this.containerData,e=this.imageData,n=this.options.viewMode,o=Math.abs(e.rotate)%180==90,r=o?e.naturalHeight:e.naturalWidth,l=o?e.naturalWidth:e.naturalHeight,c=r/l,d=t.width,h=t.height;t.height*c>t.width?3===n?d=t.height*c:h=t.width/c:3===n?h=t.width/c:d=t.height*c;var m={aspectRatio:c,naturalWidth:r,naturalHeight:l,width:d,height:h};this.canvasData=m,this.limited=1===n||2===n,this.limitCanvas(!0,!0),m.width=Math.min(Math.max(m.width,m.minWidth),m.maxWidth),m.height=Math.min(Math.max(m.height,m.minHeight),m.maxHeight),m.left=(t.width-m.width)/2,m.top=(t.height-m.height)/2,m.oldLeft=m.left,m.oldTop=m.top,this.initialCanvasData=Lt({},m)},limitCanvas:function(t,e){var n=this.options,o=this.containerData,r=this.canvasData,l=this.cropBoxData,c=n.viewMode,d=r.aspectRatio,h=this.cropped&&l;if(t){var m=Number(n.minCanvasWidth)||0,_=Number(n.minCanvasHeight)||0;c>1?(m=Math.max(m,o.width),_=Math.max(_,o.height),3===c&&(_*d>m?m=_*d:_=m/d)):c>0&&(m?m=Math.max(m,h?l.width:0):_?_=Math.max(_,h?l.height:0):h&&(m=l.width,(_=l.height)*d>m?m=_*d:_=m/d));var v=re({aspectRatio:d,width:m,height:_});m=v.width,_=v.height,r.minWidth=m,r.minHeight=_,r.maxWidth=1/0,r.maxHeight=1/0}if(e)if(c>(h?0:1)){var f=o.width-r.width,y=o.height-r.height;r.minLeft=Math.min(0,f),r.minTop=Math.min(0,y),r.maxLeft=Math.max(0,f),r.maxTop=Math.max(0,y),h&&this.limited&&(r.minLeft=Math.min(l.left,l.left+(l.width-r.width)),r.minTop=Math.min(l.top,l.top+(l.height-r.height)),r.maxLeft=l.left,r.maxTop=l.top,2===c&&(r.width>=o.width&&(r.minLeft=Math.min(0,f),r.maxLeft=Math.max(0,f)),r.height>=o.height&&(r.minTop=Math.min(0,y),r.maxTop=Math.max(0,y))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=o.width,r.maxTop=o.height},renderCanvas:function(t,e){var n=this.canvasData,o=this.imageData;if(e){var r=le({width:o.naturalWidth*Math.abs(o.scaleX||1),height:o.naturalHeight*Math.abs(o.scaleY||1),degree:o.rotate||0}),l=r.width,c=r.height,d=n.width*(l/n.naturalWidth),h=n.height*(c/n.naturalHeight);n.left-=(d-n.width)/2,n.top-=(h-n.height)/2,n.width=d,n.height=h,n.aspectRatio=l/c,n.naturalWidth=l,n.naturalHeight=c,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,Pt(this.canvas,Lt({width:n.width,height:n.height},ie({translateX:n.left,translateY:n.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,n=this.imageData,o=n.naturalWidth*(e.width/e.naturalWidth),r=n.naturalHeight*(e.height/e.naturalHeight);Lt(n,{width:o,height:r,left:(e.width-o)/2,top:(e.height-r)/2}),Pt(this.image,Lt({width:n.width,height:n.height},ie(Lt({translateX:n.left,translateY:n.top},n)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,n=t.aspectRatio||t.initialAspectRatio,o=Number(t.autoCropArea)||.8,r={width:e.width,height:e.height};n&&(e.height*n>e.width?r.height=r.width/n:r.width=r.height*n),this.cropBoxData=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*o),r.height=Math.max(r.minHeight,r.height*o),r.left=e.left+(e.width-r.width)/2,r.top=e.top+(e.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBoxData=Lt({},r)},limitCropBox:function(t,e){var n=this.options,o=this.containerData,r=this.canvasData,l=this.cropBoxData,c=this.limited,d=n.aspectRatio;if(t){var h=Number(n.minCropBoxWidth)||0,m=Number(n.minCropBoxHeight)||0,_=c?Math.min(o.width,r.width,r.width+r.left,o.width-r.left):o.width,v=c?Math.min(o.height,r.height,r.height+r.top,o.height-r.top):o.height;h=Math.min(h,o.width),m=Math.min(m,o.height),d&&(h&&m?m*d>h?m=h/d:h=m*d:h?m=h/d:m&&(h=m*d),v*d>_?v=_/d:_=v*d),l.minWidth=Math.min(h,_),l.minHeight=Math.min(m,v),l.maxWidth=_,l.maxHeight=v}e&&(c?(l.minLeft=Math.max(0,r.left),l.minTop=Math.max(0,r.top),l.maxLeft=Math.min(o.width,r.left+r.width)-l.width,l.maxTop=Math.min(o.height,r.top+r.height)-l.height):(l.minLeft=0,l.minTop=0,l.maxLeft=o.width-l.width,l.maxTop=o.height-l.height))},renderCropBox:function(){var t=this.options,e=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,t.movable&&t.cropBoxMovable&&Vt(this.face,W,n.width>=e.width&&n.height>=e.height?C:D),Pt(this.cropBox,Lt({width:n.width,height:n.height},ie({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Jt(this.element,G,this.getData())}},ge={initPreview:function(){var element=this.element,t=this.crossOrigin,e=this.options.preview,n=t?this.crossOriginUrl:this.url,o=element.alt||"The image to preview",image=document.createElement("img");if(t&&(image.crossOrigin=t),image.src=n,image.alt=o,this.viewBox.appendChild(image),this.viewBoxImage=image,e){var r=e;"string"==typeof e?r=element.ownerDocument.querySelectorAll(e):e.querySelector&&(r=[e]),this.previews=r,At(r,(function(e){var img=document.createElement("img");Vt(e,V,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(img.crossOrigin=t),img.src=n,img.alt=o,img.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(img)}))}},resetPreview:function(){At(this.previews,(function(element){var data=Wt(element,V);Pt(element,{width:data.width,height:data.height}),element.innerHTML=data.html,Yt(element,V)}))},preview:function(){var t=this.imageData,e=this.canvasData,n=this.cropBoxData,o=n.width,r=n.height,l=t.width,c=t.height,d=n.left-e.left-t.left,h=n.top-e.top-t.top;this.cropped&&!this.disabled&&(Pt(this.viewBoxImage,Lt({width:l,height:c},ie(Lt({translateX:-d,translateY:-h},t)))),At(this.previews,(function(element){var data=Wt(element,V),e=data.width,n=data.height,m=e,_=n,v=1;o&&(_=r*(v=e/o)),r&&_>n&&(m=o*(v=n/r),_=n),Pt(element,{width:m,height:_}),Pt(element.getElementsByTagName("img")[0],Lt({width:l*v,height:c*v},ie(Lt({translateX:-d*v,translateY:-h*v},t))))})))}},ye={bind:function(){var element=this.element,t=this.options,e=this.cropper;St(t.cropstart)&&Gt(element,Z,t.cropstart),St(t.cropmove)&&Gt(element,Q,t.cropmove),St(t.cropend)&&Gt(element,J,t.cropend),St(t.crop)&&Gt(element,G,t.crop),St(t.zoom)&&Gt(element,pt,t.zoom),Gt(e,nt,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&Gt(e,ut,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Gt(e,tt,this.onDblclick=this.dblclick.bind(this)),Gt(element.ownerDocument,ot,this.onCropMove=this.cropMove.bind(this)),Gt(element.ownerDocument,st,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&Gt(window,ct,this.onResize=this.resize.bind(this))},unbind:function(){var element=this.element,t=this.options,e=this.cropper;St(t.cropstart)&&Kt(element,Z,t.cropstart),St(t.cropmove)&&Kt(element,Q,t.cropmove),St(t.cropend)&&Kt(element,J,t.cropend),St(t.crop)&&Kt(element,G,t.crop),St(t.zoom)&&Kt(element,pt,t.zoom),Kt(e,nt,this.onCropStart),t.zoomable&&t.zoomOnWheel&&Kt(e,ut,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Kt(e,tt,this.onDblclick),Kt(element.ownerDocument,ot,this.onCropMove),Kt(element.ownerDocument,st,this.onCropEnd),t.responsive&&Kt(window,ct,this.onResize)}},be={resize:function(){if(!this.disabled){var t,e,n=this.options,o=this.container,r=this.containerData,l=o.offsetWidth/r.width,c=o.offsetHeight/r.height,d=Math.abs(l-1)>Math.abs(c-1)?l:c;1!==d&&(n.restore&&(t=this.getCanvasData(),e=this.getCropBoxData()),this.render(),n.restore&&(this.setCanvasData(At(t,(function(e,i){t[i]=e*d}))),this.setCropBoxData(At(e,(function(t,i){e[i]=t*d})))))}},dblclick:function(){this.disabled||this.options.dragMode===K||this.setDragMode(Bt(this.dragBox,P)?X:Y)},wheel:function(t){var e=this,n=Number(this.options.wheelZoomRatio)||.1,o=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){e.wheeling=!1}),50),t.deltaY?o=t.deltaY>0?1:-1:t.wheelDelta?o=-t.wheelDelta/120:t.detail&&(o=t.detail>0?1:-1),this.zoom(-o*n,t)))},cropStart:function(t){var e=t.buttons,button=t.button;if(!(this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(kt(e)&&1!==e||kt(button)&&0!==button||t.ctrlKey))){var n,o=this.options,r=this.pointers;t.changedTouches?At(t.changedTouches,(function(t){r[t.identifier]=oe(t)})):r[t.pointerId||0]=oe(t),n=Object.keys(r).length>1&&o.zoomable&&o.zoomOnTouch?I:Wt(t.target,W),mt.test(n)&&!1!==Jt(this.element,Z,{originalEvent:t,action:n})&&(t.preventDefault(),this.action=n,this.cropping=!1,n===j&&(this.cropping=!0,Nt(this.dragBox,z)))}},cropMove:function(t){var e=this.action;if(!this.disabled&&e){var n=this.pointers;t.preventDefault(),!1!==Jt(this.element,Q,{originalEvent:t,action:e})&&(t.changedTouches?At(t.changedTouches,(function(t){Lt(n[t.identifier]||{},oe(t,!0))})):Lt(n[t.pointerId||0]||{},oe(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,n=this.pointers;t.changedTouches?At(t.changedTouches,(function(t){delete n[t.identifier]})):delete n[t.pointerId||0],e&&(t.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,Ht(this.dragBox,z,this.cropped&&this.options.modal)),Jt(this.element,J,{originalEvent:t,action:e}))}}},xe={change:function(t){var e,n=this.options,o=this.canvasData,r=this.containerData,l=this.cropBoxData,c=this.pointers,d=this.action,h=n.aspectRatio,m=l.left,_=l.top,v=l.width,f=l.height,y=m+v,x=_+f,w=0,k=0,O=r.width,P=r.height,B=!0;!h&&t.shiftKey&&(h=v&&f?v/f:1),this.limited&&(w=l.minLeft,k=l.minTop,O=w+Math.min(r.width,o.width,o.left+o.width),P=k+Math.min(r.height,o.height,o.top+o.height));var F=c[Object.keys(c)[0]],H={x:F.endX-F.startX,y:F.endY-F.startY},z=function(t){switch(t){case S:y+H.x>O&&(H.x=O-y);break;case M:m+H.x<w&&(H.x=w-m);break;case A:_+H.y<k&&(H.y=k-_);break;case $:x+H.y>P&&(H.y=P-x)}};switch(d){case D:m+=H.x,_+=H.y;break;case S:if(H.x>=0&&(y>=O||h&&(_<=k||x>=P))){B=!1;break}z(S),(v+=H.x)<0&&(d=M,m-=v=-v),h&&(f=v/h,_+=(l.height-f)/2);break;case A:if(H.y<=0&&(_<=k||h&&(m<=w||y>=O))){B=!1;break}z(A),f-=H.y,_+=H.y,f<0&&(d=$,_-=f=-f),h&&(v=f*h,m+=(l.width-v)/2);break;case M:if(H.x<=0&&(m<=w||h&&(_<=k||x>=P))){B=!1;break}z(M),v-=H.x,m+=H.x,v<0&&(d=S,m-=v=-v),h&&(f=v/h,_+=(l.height-f)/2);break;case $:if(H.y>=0&&(x>=P||h&&(m<=w||y>=O))){B=!1;break}z($),(f+=H.y)<0&&(d=A,_-=f=-f),h&&(v=f*h,m+=(l.width-v)/2);break;case L:if(h){if(H.y<=0&&(_<=k||y>=O)){B=!1;break}z(A),f-=H.y,_+=H.y,v=f*h}else z(A),z(S),H.x>=0?y<O?v+=H.x:H.y<=0&&_<=k&&(B=!1):v+=H.x,H.y<=0?_>k&&(f-=H.y,_+=H.y):(f-=H.y,_+=H.y);v<0&&f<0?(d=R,_-=f=-f,m-=v=-v):v<0?(d=E,m-=v=-v):f<0&&(d=T,_-=f=-f);break;case E:if(h){if(H.y<=0&&(_<=k||m<=w)){B=!1;break}z(A),f-=H.y,_+=H.y,v=f*h,m+=l.width-v}else z(A),z(M),H.x<=0?m>w?(v-=H.x,m+=H.x):H.y<=0&&_<=k&&(B=!1):(v-=H.x,m+=H.x),H.y<=0?_>k&&(f-=H.y,_+=H.y):(f-=H.y,_+=H.y);v<0&&f<0?(d=T,_-=f=-f,m-=v=-v):v<0?(d=L,m-=v=-v):f<0&&(d=R,_-=f=-f);break;case R:if(h){if(H.x<=0&&(m<=w||x>=P)){B=!1;break}z(M),v-=H.x,m+=H.x,f=v/h}else z($),z(M),H.x<=0?m>w?(v-=H.x,m+=H.x):H.y>=0&&x>=P&&(B=!1):(v-=H.x,m+=H.x),H.y>=0?x<P&&(f+=H.y):f+=H.y;v<0&&f<0?(d=L,_-=f=-f,m-=v=-v):v<0?(d=T,m-=v=-v):f<0&&(d=E,_-=f=-f);break;case T:if(h){if(H.x>=0&&(y>=O||x>=P)){B=!1;break}z(S),f=(v+=H.x)/h}else z($),z(S),H.x>=0?y<O?v+=H.x:H.y>=0&&x>=P&&(B=!1):v+=H.x,H.y>=0?x<P&&(f+=H.y):f+=H.y;v<0&&f<0?(d=E,_-=f=-f,m-=v=-v):v<0?(d=R,m-=v=-v):f<0&&(d=L,_-=f=-f);break;case C:this.move(H.x,H.y),B=!1;break;case I:this.zoom(ne(c),t),B=!1;break;case j:if(!H.x||!H.y){B=!1;break}e=Qt(this.cropper),m=F.startX-e.left,_=F.startY-e.top,v=l.minWidth,f=l.minHeight,H.x>0?d=H.y>0?T:L:H.x<0&&(m-=v,d=H.y>0?R:E),H.y<0&&(_-=f),this.cropped||(Ft(this.cropBox,N),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}B&&(l.width=v,l.height=f,l.left=m,l.top=_,this.action=d,this.renderCropBox()),At(c,(function(p){p.startX=p.endX,p.startY=p.endY}))}},we={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Nt(this.dragBox,z),Ft(this.cropBox,N),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Lt({},this.initialImageData),this.canvasData=Lt({},this.initialCanvasData),this.cropBoxData=Lt({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Lt(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Ft(this.dragBox,z),Nt(this.cropBox,N)),this},replace:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,At(this.previews,(function(element){element.getElementsByTagName("img")[0].src=t})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Ft(this.cropper,B)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Nt(this.cropper,B)),this},destroy:function(){var element=this.element;return element[O]?(element[O]=void 0,this.isImg&&this.replaced&&(element.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.canvasData,o=n.left,r=n.top;return this.moveTo(Dt(t)?t:o+Number(t),Dt(e)?e:r+Number(e))},moveTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.canvasData,o=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(kt(t)&&(n.left=t,o=!0),kt(e)&&(n.top=e,o=!0),o&&this.renderCanvas(!0)),this},zoom:function(t,e){var n=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(n.width*t/n.naturalWidth,null,e)},zoomTo:function(t,e,n){var o=this.options,r=this.canvasData,l=r.width,c=r.height,d=r.naturalWidth,h=r.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&o.zoomable){var m=d*t,_=h*t;if(!1===Jt(this.element,pt,{ratio:t,oldRatio:l/d,originalEvent:n}))return this;if(n){var v=this.pointers,f=Qt(this.cropper),y=v&&Object.keys(v).length?se(v):{pageX:n.pageX,pageY:n.pageY};r.left-=(m-l)*((y.pageX-f.left-r.left)/l),r.top-=(_-c)*((y.pageY-f.top-r.top)/c)}else It(e)&&kt(e.x)&&kt(e.y)?(r.left-=(m-l)*((e.x-r.left)/l),r.top-=(_-c)*((e.y-r.top)/c)):(r.left-=(m-l)/2,r.top-=(_-c)/2);r.width=m,r.height=_,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return kt(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,kt(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(kt(e)?e:1,t)},scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.imageData,o=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(kt(t)&&(n.scaleX=t,o=!0),kt(e)&&(n.scaleY=e,o=!0),o&&this.renderCanvas(!0,!0)),this},getData:function(){var data,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.options,n=this.imageData,o=this.canvasData,r=this.cropBoxData;if(this.ready&&this.cropped){data={x:r.left-o.left,y:r.top-o.top,width:r.width,height:r.height};var l=n.width/n.naturalWidth;if(At(data,(function(t,i){data[i]=t/l})),t){var c=Math.round(data.y+data.height),d=Math.round(data.x+data.width);data.x=Math.round(data.x),data.y=Math.round(data.y),data.width=d-data.x,data.height=c-data.y}}else data={x:0,y:0,width:0,height:0};return e.rotatable&&(data.rotate=n.rotate||0),e.scalable&&(data.scaleX=n.scaleX||1,data.scaleY=n.scaleY||1),data},setData:function(data){var t=this.options,e=this.imageData,n=this.canvasData,o={};if(this.ready&&!this.disabled&&It(data)){var r=!1;t.rotatable&&kt(data.rotate)&&data.rotate!==e.rotate&&(e.rotate=data.rotate,r=!0),t.scalable&&(kt(data.scaleX)&&data.scaleX!==e.scaleX&&(e.scaleX=data.scaleX,r=!0),kt(data.scaleY)&&data.scaleY!==e.scaleY&&(e.scaleY=data.scaleY,r=!0)),r&&this.renderCanvas(!0,!0);var l=e.width/e.naturalWidth;kt(data.x)&&(o.left=data.x*l+n.left),kt(data.y)&&(o.top=data.y*l+n.top),kt(data.width)&&(o.width=data.width*l),kt(data.height)&&(o.height=data.height*l),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?Lt({},this.containerData):{}},getImageData:function(){return this.sized?Lt({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,data={};return this.ready&&At(["left","top","width","height","naturalWidth","naturalHeight"],(function(e){data[e]=t[e]})),data},setCanvasData:function(data){var t=this.canvasData,e=t.aspectRatio;return this.ready&&!this.disabled&&It(data)&&(kt(data.left)&&(t.left=data.left),kt(data.top)&&(t.top=data.top),kt(data.width)?(t.width=data.width,t.height=data.width/e):kt(data.height)&&(t.height=data.height,t.width=data.height*e),this.renderCanvas(!0)),this},getCropBoxData:function(){var data,t=this.cropBoxData;return this.ready&&this.cropped&&(data={left:t.left,top:t.top,width:t.width,height:t.height}),data||{}},setCropBoxData:function(data){var t,e,n=this.cropBoxData,o=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&It(data)&&(kt(data.left)&&(n.left=data.left),kt(data.top)&&(n.top=data.top),kt(data.width)&&data.width!==n.width&&(t=!0,n.width=data.width),kt(data.height)&&data.height!==n.height&&(e=!0,n.height=data.height),o&&(t?n.height=n.width/o:e&&(n.width=n.height*o)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvasData,source=ce(this.image,this.imageData,e,t);if(!this.cropped)return source;var n=this.getData(),o=n.x,r=n.y,l=n.width,c=n.height,h=source.width/Math.floor(e.naturalWidth);1!==h&&(o*=h,r*=h,l*=h,c*=h);var m=l/c,_=re({aspectRatio:m,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),v=re({aspectRatio:m,width:t.minWidth||0,height:t.minHeight||0},"cover"),f=re({aspectRatio:m,width:t.width||(1!==h?source.width:l),height:t.height||(1!==h?source.height:c)}),y=f.width,x=f.height;y=Math.min(_.width,Math.max(v.width,y)),x=Math.min(_.height,Math.max(v.height,x));var canvas=document.createElement("canvas"),w=canvas.getContext("2d");canvas.width=Tt(y),canvas.height=Tt(x),w.fillStyle=t.fillColor||"transparent",w.fillRect(0,0,y,x);var k=t.imageSmoothingEnabled,O=void 0===k||k,D=t.imageSmoothingQuality;w.imageSmoothingEnabled=O,D&&(w.imageSmoothingQuality=D);var j,C,I,S,M,$,A=source.width,L=source.height,E=o,T=r;E<=-l||E>A?(E=0,j=0,I=0,M=0):E<=0?(I=-E,E=0,M=j=Math.min(A,l+E)):E<=A&&(I=0,M=j=Math.min(l,A-E)),j<=0||T<=-c||T>L?(T=0,C=0,S=0,$=0):T<=0?(S=-T,T=0,$=C=Math.min(L,c+T)):T<=L&&(S=0,$=C=Math.min(c,L-T));var R=[E,T,j,C];if(M>0&&$>0){var P=y/l;R.push(I*P,S*P,M*P,$*P)}return w.drawImage.apply(w,[source].concat(d(R.map((function(param){return Math.floor(Tt(param))}))))),canvas},setAspectRatio:function(t){var e=this.options;return this.disabled||Dt(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,n=this.dragBox,o=this.face;if(this.ready&&!this.disabled){var r=t===Y,l=e.movable&&t===X;t=r||l?t:K,e.dragMode=t,Vt(n,W,t),Ht(n,P,r),Ht(n,U,l),e.cropBoxMovable||(Vt(o,W,t),Ht(o,P,r),Ht(o,U,l))}return this}},ke=x.Cropper,Oe=function(){function t(element){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o(this,t),!element||!ft.test(element.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=element,this.options=Lt({},bt,It(e)&&e),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return l(t,[{key:"init",value:function(){var t,element=this.element,e=element.tagName.toLowerCase();if(!element[O]){if(element[O]=this,"img"===e){if(this.isImg=!0,t=element.getAttribute("src")||"",this.originalUrl=t,!t)return;t=element.src}else"canvas"===e&&window.HTMLCanvasElement&&(t=element.toDataURL());this.load(t)}}},{key:"load",value:function(t){var e=this;if(t){this.url=t,this.imageData={};var element=this.element,n=this.options;if(n.rotatable||n.scalable||(n.checkOrientation=!1),n.checkOrientation&&window.ArrayBuffer)if(_t.test(t))vt.test(t)?this.read(he(t)):this.clone();else{var o=new XMLHttpRequest,r=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=r,o.onerror=r,o.ontimeout=r,o.onprogress=function(){o.getResponseHeader("content-type")!==ht&&o.abort()},o.onload=function(){e.read(o.response)},o.onloadend=function(){e.reloading=!1,e.xhr=null},n.checkCrossOrigin&&ee(t)&&element.crossOrigin&&(t=ae(t)),o.open("GET",t,!0),o.responseType="arraybuffer",o.withCredentials="use-credentials"===element.crossOrigin,o.send()}else this.clone()}}},{key:"read",value:function(t){var e=this.options,n=this.imageData,o=_e(t),r=0,l=1,c=1;if(o>1){this.url=me(t,ht);var d=ve(o);r=d.rotate,l=d.scaleX,c=d.scaleY}e.rotatable&&(n.rotate=r),e.scalable&&(n.scaleX=l,n.scaleY=c),this.clone()}},{key:"clone",value:function(){var element=this.element,t=this.url,e=element.crossOrigin,n=t;this.options.checkCrossOrigin&&ee(t)&&(e||(e="anonymous"),n=ae(t)),this.crossOrigin=e,this.crossOriginUrl=n;var image=document.createElement("img");e&&(image.crossOrigin=e),image.src=n||t,image.alt=element.alt||"The image to crop",this.image=image,image.onload=this.start.bind(this),image.onerror=this.stop.bind(this),Nt(image,F),element.parentNode.insertBefore(image,element.nextSibling)}},{key:"start",value:function(){var t=this,image=this.image;image.onload=null,image.onerror=null,this.sizing=!0;var e=x.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(x.navigator.userAgent),n=function(e,n){Lt(t.imageData,{naturalWidth:e,naturalHeight:n,aspectRatio:e/n}),t.initialImageData=Lt({},t.imageData),t.sizing=!1,t.sized=!0,t.build()};if(!image.naturalWidth||e){var o=document.createElement("img"),body=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){n(o.width,o.height),e||body.removeChild(o)},o.src=image.src,e||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",body.appendChild(o))}else n(image.naturalWidth,image.naturalHeight)}},{key:"stop",value:function(){var image=this.image;image.onload=null,image.onerror=null,image.parentNode.removeChild(image),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var element=this.element,t=this.options,image=this.image,e=element.parentNode,template=document.createElement("div");template.innerHTML=xt;var n=template.querySelector(".".concat(O,"-container")),canvas=n.querySelector(".".concat(O,"-canvas")),o=n.querySelector(".".concat(O,"-drag-box")),r=n.querySelector(".".concat(O,"-crop-box")),l=r.querySelector(".".concat(O,"-face"));this.container=e,this.cropper=n,this.canvas=canvas,this.dragBox=o,this.cropBox=r,this.viewBox=n.querySelector(".".concat(O,"-view-box")),this.face=l,canvas.appendChild(image),Nt(element,N),e.insertBefore(n,element.nextSibling),Ft(image,F),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,Nt(r,N),t.guides||Nt(r.getElementsByClassName("".concat(O,"-dashed")),N),t.center||Nt(r.getElementsByClassName("".concat(O,"-center")),N),t.background&&Nt(n,"".concat(O,"-bg")),t.highlight||Nt(l,H),t.cropBoxMovable&&(Nt(l,U),Vt(l,W,D)),t.cropBoxResizable||(Nt(r.getElementsByClassName("".concat(O,"-line")),N),Nt(r.getElementsByClassName("".concat(O,"-point")),N)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),St(t.ready)&&Gt(element,lt,t.ready,{once:!0}),Jt(element,lt)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var t=this.cropper.parentNode;t&&t.removeChild(this.cropper),Ft(this.element,N)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=ke,t}},{key:"setDefaults",value:function(t){Lt(bt,It(t)&&t)}}]),t}();return Lt(Oe.prototype,fe,ge,ye,be,xe,we),Oe}()},1085:function(t,e,n){var content=n(1177);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("01b9993d",content,!0,{sourceMap:!1})},1096:function(t,e,n){"use strict";n.r(e);var o=n(921),r=n(117),l=n(138),c=n(79),d=n(539),h=n(1584),m=n(888),_=n(538),v=n(920),f=n(360),y=n(883),x=n(885),w=n(884),k=n(359),O=n(354),D=n(221),j=n(17),C=n(2),I=(n(69),n(31),n(273),n(59),n(546),n(37),n(58),n(1012)),S=n(996),M=n(1006),$=n(1007),A=n(1008),L={components:{AttendanceReport:I.default,Back:S.default},props:["title","shift_type_id","render_endpoint","process_file_endpoint","system_user_id","key1"],data:function(){var t;return t={CustomComponentKey:1,tab:null,generalHeaders:M,multiHeaders:$,doubleHeaders:A,filters:{},attendancFilters:!1,isFilter:!1,datatable_search_textbox:"",datatable_filter_date:"",filter_employeeid:"",snack:!1,snackColor:"",snackText:"",date:null,menu:!1,selectedItems:[],time_table_dialog:!1,log_details:!1,overtime:!1,options:{}},Object(C.a)(t,"date",null),Object(C.a)(t,"menu",!1),Object(C.a)(t,"loading",!1),Object(C.a)(t,"time_menu",!1),Object(C.a)(t,"manual_time_menu",!1),Object(C.a)(t,"Model","Attendance Reports"),Object(C.a)(t,"endpoint","report"),Object(C.a)(t,"search",""),Object(C.a)(t,"snackbar",!1),Object(C.a)(t,"add_manual_log",!1),Object(C.a)(t,"dialog",!1),Object(C.a)(t,"generateLogsDialog",!1),Object(C.a)(t,"reportSync",!1),Object(C.a)(t,"from_date",null),Object(C.a)(t,"from_menu",!1),Object(C.a)(t,"to_date",null),Object(C.a)(t,"to_menu",!1),Object(C.a)(t,"ids",[]),Object(C.a)(t,"departments",[]),Object(C.a)(t,"scheduled_employees",[]),Object(C.a)(t,"DateRange",!0),Object(C.a)(t,"devices",[]),Object(C.a)(t,"valid",!0),Object(C.a)(t,"nameRules",[function(t){return!!t||"reason is required"}]),Object(C.a)(t,"timeRules",[function(t){return!!t||"time is required"}]),Object(C.a)(t,"deviceRules",[function(t){return!!t||"device is required"}]),Object(C.a)(t,"daily_menu",!1),Object(C.a)(t,"daily_date",null),Object(C.a)(t,"dailyDate",!1),Object(C.a)(t,"editItems",{attendance_logs_id:"",UserID:"",device_id:"",user_id:"",reason:"",date:"",time:null,manual_entry:!1}),Object(C.a)(t,"loading",!1),Object(C.a)(t,"total",0),Object(C.a)(t,"report_template","Template1"),Object(C.a)(t,"report_type","Monthly"),Object(C.a)(t,"payload",{from_date:null,to_date:null,daily_date:null,employee_id:"",department_ids:[{id:"-1",name:""}],status:"-1",late_early:"Select All",key1:"1"}),Object(C.a)(t,"log_payload",{user_id:null,device_id:"",date:null,time:null}),Object(C.a)(t,"log_list",[]),Object(C.a)(t,"snackbar",!1),Object(C.a)(t,"editedIndex",-1),Object(C.a)(t,"editedItem",{name:""}),Object(C.a)(t,"defaultItem",{name:""}),Object(C.a)(t,"response",""),Object(C.a)(t,"data",[]),Object(C.a)(t,"shifts",[]),Object(C.a)(t,"errors",[]),Object(C.a)(t,"custom_options",{}),Object(C.a)(t,"statuses",[{name:"Select All",id:"-1"},{name:"Present",id:"P"},{name:"Absent",id:"A"},{name:"Missing",id:"M"},{name:"Off",id:"O"},{name:"Leave",id:"L"},{name:"Holiday",id:"H"},{name:"Vaccation",id:"V"},{name:"Manual Entry",id:"ME"}]),Object(C.a)(t,"max_date",null),t},computed:{formTitle:function(){return-1===this.editedIndex?"New":"Edit"}},watch:{dialog:function(t){t||this.close(),this.errors=[],this.search=""},system_user_id:function(t){this.payload.employee_id=t,this.CustomComponentKey=this.CustomComponentKey+1},key1:function(t){this.CustomComponentKey=this.CustomComponentKey+1}},created:function(){var t=this;return Object(j.a)(regeneratorRuntime.mark((function e(){var n,dt,o,r,dd;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.payload.employee_id=t.system_user_id,t.payload.key1=t.CustomComponentKey+1,t.loading=!0,t.payload.daily_date=(new Date).toJSON().slice(0,10),t.payload.department_ids=t.$auth.user.assignedDepartments,n={params:{per_page:1e3,company_id:t.$auth.user.company_id}},t.getDepartments(n),t.getDeviceList(n),t.getScheduledEmployees(),dt=new Date,o=dt.getFullYear(),r=dt.getMonth()+1,dd=new Date(dt.getFullYear(),r,0),r=r<10?"0"+r:r,t.payload.from_date="".concat(o,"-").concat(r,"-01"),t.payload.to_date="".concat(o,"-").concat(r,"-").concat(dd.getDate()),t.CustomComponentKey=t.CustomComponentKey+1;case 17:case"end":return e.stop()}}),e)})))()},methods:{getScheduledEmployees:function(){var t=this,e={params:{per_page:1e3,company_id:this.$auth.user.company_id,department_ids:this.payload.department_ids,shift_type_id:this.shift_type_id}};this.$axios.get("/scheduled_employees_with_type",e).then((function(e){var data=e.data;t.scheduled_employees=data,t.scheduled_employees.unshift({system_user_id:"",name_with_user_id:"Select All"})}))},setSevenDays:function(t){var e=new Date(t);e.setDate(e.getDate()+6);var n=new Date(e),o=n.getDate();o=o<"10"?"0"+o:o;var r=n.getMonth()+1;r=r<10?"0"+r:r;var l=n.getFullYear();this.max_date="".concat(l,"-").concat(r,"-").concat(o),this.payload.to_date="".concat(l,"-").concat(r,"-").concat(o)},setThirtyDays:function(t){var e=new Date(t);e.setDate(e.getDate()+29);var n=new Date(e),o=n.getDate();o=o<"10"?"0"+o:o;var r=n.getMonth()+1;r=r<10?"0"+r:r;var l=n.getFullYear();this.max_date="".concat(l,"-").concat(r,"-").concat(o),this.payload.to_date="".concat(l,"-").concat(r,"-").concat(o)},set_date_save:function(t,e){t.save(e),"Weekly"==this.report_type?this.setSevenDays(this.payload.from_date):"Monthly"!=this.report_type&&"Custom"!=this.report_type||this.setThirtyDays(this.payload.from_date)},setFromDate:function(){if(null==this.payload.from_date){var dt=new Date,t=dt.getFullYear(),e=dt.getMonth()+1,n=e<10?"0"+e:e;this.payload.from_date="".concat(t,"-").concat(n,"-01")}},getDeviceList:function(t){var e=this;this.$axios.get("/device_list",t).then((function(t){var data=t.data;e.devices=data}))},setDailyDate:function(){this.payload.daily_date=(new Date).toJSON().slice(0,10),delete this.payload.from_date,delete this.payload.to_date},getDepartments:function(t){var e=this;return Object(j.a)(regeneratorRuntime.mark((function n(){var o,r,l,c,d,h,data,m,_;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=e.$auth.user,r=o.employee,l=o.user_type,c="departments",n.prev=2,"employee"!==l){n.next=13;break}return d=r.id,c="assigned-department-employee",n.next=8,e.$axios.get("".concat(c,"/").concat(d),t);case 8:h=n.sent,data=h.data,e.departments=data,n.next=18;break;case 13:return n.next=15,e.$axios.get(c,t);case 15:m=n.sent,_=m.data,e.departments=_.data;case 18:n.next=23;break;case 20:n.prev=20,n.t0=n.catch(2),console.error("Error fetching departments:",n.t0);case 23:case"end":return n.stop()}}),n,null,[[2,20]])})))()},caps:function(t){return t.replace(/_/g," ").replace(/\b\w/g,(function(t){return t.toUpperCase()}))},can:function(t){return this.$pagePermission.can(t,this)},setStatusLabel:function(t){return{A:"Absent",P:"Present",M:"Missing",O:"Week Off",L:"Leave",H:"Holiday",V:"Vaccation"}[t]}}},E=n(60),component=Object(E.a)(L,(function(){var t=this,e=t._self._c;return t.can("attendance_report_access")?e("div",[t.can("attendance_report_view")?e(l.a,{staticClass:"mt-2",attrs:{elevation:"0"}},[e(c.c,{staticClass:"py-3"},[e(_.a,[e(d.a,{attrs:{md:"2"}},[t._v("\n          Status\n          "),e(v.a,{staticClass:"mt-2",attrs:{outlined:"",dense:"","x-small":"",items:t.statuses,"item-value":"id","item-text":"name","hide-details":!0},model:{value:t.payload.status,callback:function(e){t.$set(t.payload,"status",e)},expression:"payload.status"}})],1),t._v(" "),e(d.a,{attrs:{md:"2"}},[t._v("\n          Employee ID\n          "),e(o.a,{staticClass:"mt-2",attrs:{outlined:"",dense:"","x-small":"",items:t.scheduled_employees,"item-value":"system_user_id","item-text":"name_with_user_id","hide-details":!0},model:{value:t.payload.employee_id,callback:function(e){t.$set(t.payload,"employee_id",e)},expression:"payload.employee_id"}})],1),t._v(" "),e(d.a,{attrs:{md:"2"}},[e("div",[t._v("Frequency")]),t._v(" "),e(o.a,{staticClass:"mt-2",attrs:{outlined:"",dense:"","x-small":"",items:["Daily","Weekly","Monthly","Custom"],"item-text":"['Daily']","hide-details":!0},model:{value:t.report_type,callback:function(e){t.report_type=e},expression:"report_type"}})],1),t._v(" "),"Daily"==t.report_type?e(d.a,{attrs:{md:"2"}},[e("div",[t._v("Date")]),t._v(" "),e("div",{staticClass:"text-left mt-2"},[e(m.a,{ref:"daily_menu",staticClass:"mt-2",attrs:{"close-on-content-click":!1,"return-value":t.daily_date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.daily_date=e},"update:return-value":function(e){t.daily_date=e}},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,r=n.attrs;return[e(D.a,t._g(t._b({attrs:{"hide-details":t.payload.daily_date,outlined:"",dense:"",readonly:""},model:{value:t.payload.daily_date,callback:function(e){t.$set(t.payload,"daily_date",e)},expression:"payload.daily_date"}},"v-text-field",r,!1),o))]}}],null,!1,398604961),model:{value:t.daily_menu,callback:function(e){t.daily_menu=e},expression:"daily_menu"}},[t._v(" "),e(h.a,{attrs:{"no-title":"",scrollable:""},model:{value:t.payload.daily_date,callback:function(e){t.$set(t.payload,"daily_date",e)},expression:"payload.daily_date"}},[e(f.a),t._v(" "),e(r.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.daily_menu=!1}}},[t._v("\n                  Cancel\n                ")]),t._v(" "),e(r.a,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.set_date_save(t.$refs.daily_menu,t.payload.daily_date)}}},[t._v("\n                  OK\n                ")])],1)],1)],1)]):t._e(),t._v(" "),"Daily"!==t.report_type?e(d.a,{attrs:{md:"2"}},[e("div",{staticClass:"text-left"},[e(m.a,{ref:"from_menu",attrs:{"close-on-content-click":!1,"return-value":t.from_date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.from_date=e},"update:return-value":function(e){t.from_date=e}},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,r=n.attrs;return[e("div",{staticClass:"mb-2"},[t._v("From Date")]),t._v(" "),e(D.a,t._g(t._b({attrs:{"hide-details":t.payload.from_date,outlined:"",dense:"",readonly:""},model:{value:t.payload.from_date,callback:function(e){t.$set(t.payload,"from_date",e)},expression:"payload.from_date"}},"v-text-field",r,!1),o))]}}],null,!1,217588953),model:{value:t.from_menu,callback:function(e){t.from_menu=e},expression:"from_menu"}},[t._v(" "),e(h.a,{attrs:{"no-title":"",scrollable:""},model:{value:t.payload.from_date,callback:function(e){t.$set(t.payload,"from_date",e)},expression:"payload.from_date"}},[e(f.a),t._v(" "),e(r.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.from_menu=!1}}},[t._v("\n                  Cancel\n                ")]),t._v(" "),e(r.a,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.set_date_save(t.$refs.from_menu,t.payload.from_date)}}},[t._v("\n                  OK\n                ")])],1)],1)],1)]):t._e(),t._v(" "),"Daily"!==t.report_type?e(d.a,{attrs:{md:"2"}},[e("div",{staticClass:"mb-2"},[t._v("To Date")]),t._v(" "),e("div",{staticClass:"text-left"},[e(m.a,{ref:"to_menu",attrs:{"close-on-content-click":!1,"return-value":t.to_date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.to_date=e},"update:return-value":function(e){t.to_date=e}},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,r=n.attrs;return[e(D.a,t._g(t._b({attrs:{"hide-details":t.payload.to_date,outlined:"",dense:"",readonly:""},model:{value:t.payload.to_date,callback:function(e){t.$set(t.payload,"to_date",e)},expression:"payload.to_date"}},"v-text-field",r,!1),o))]}}],null,!1,800297281),model:{value:t.to_menu,callback:function(e){t.to_menu=e},expression:"to_menu"}},[t._v(" "),e(h.a,{attrs:{max:t.max_date,"no-title":"",scrollable:""},model:{value:t.payload.to_date,callback:function(e){t.$set(t.payload,"to_date",e)},expression:"payload.to_date"}},[e(f.a),t._v(" "),e(r.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.to_menu=!1}}},[t._v("\n                  Cancel\n                ")]),t._v(" "),e(r.a,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.set_date_save(t.$refs.to_menu,t.payload.to_date)}}},[t._v("\n                  OK\n                ")])],1)],1)],1)]):t._e(),t._v(" "),e(d.a,{attrs:{md:"2"}},[e("div",[t._v("Report Templates")]),t._v(" "),e(o.a,{staticClass:"mt-2",attrs:{outlined:"",dense:"","x-small":"",items:["Template1","Template2"],"item-text":"['Daily']","hide-details":!0},model:{value:t.report_template,callback:function(e){t.report_template=e},expression:"report_template"}})],1)],1)],1)],1):t._e(),t._v(" "),t.can("attendance_report_view")?e(l.a,{staticClass:"mb-5 mt-5",attrs:{elevation:"0"}},[e(w.a,{attrs:{"background-color":"background",right:"",dark:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(O.a),t._v(" "),e(y.a,{attrs:{href:"#tab-1"}},[t._v(" Single ")]),t._v(" "),e(y.a,{attrs:{href:"#tab-2"}},[t._v(" Double ")]),t._v(" "),e(y.a,{attrs:{href:"#tab-3"}},[t._v(" Multi ")])],1),t._v(" "),e(k.a,{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(x.a,{attrs:{value:"tab-1"}},[e("AttendanceReport",{key:t.key1,attrs:{title:"General Reports",shift_type_id:"1",headers:t.generalHeaders,report_template:t.report_template,report_type:t.report_type,status:t.payload.status,department_ids:t.payload.department_ids,employee_id:t.payload.employee_id,daily_date:t.payload.daily_date,from_date:t.payload.from_date,to_date:t.payload.to_date,process_file_endpoint:"",render_endpoint:"render_general_report",key1:t.payload.key1}})],1),t._v(" "),e(x.a,{attrs:{value:"tab-2"}},[e("AttendanceReport",{key:t.key1,attrs:{title:"Split Reports",shift_type_id:"5",headers:t.doubleHeaders,report_template:t.report_template,report_type:t.report_type,status:t.payload.status,department_ids:t.payload.department_ids,employee_id:t.payload.employee_id,daily_date:t.payload.daily_date,from_date:t.payload.from_date,to_date:t.payload.to_date,process_file_endpoint:"multi_in_out_",render_endpoint:"render_multi_inout_report",key1:t.payload.key1}})],1),t._v(" "),e(x.a,{attrs:{value:"tab-3"}},[e("AttendanceReport",{key:t.key1,attrs:{title:"Multi In/Out Reports",shift_type_id:"2",headers:t.multiHeaders,report_template:t.report_template,report_type:t.report_type,status:t.payload.status,department_ids:t.payload.department_ids,employee_id:t.payload.employee_id,daily_date:t.payload.daily_date,from_date:t.payload.from_date,to_date:t.payload.to_date,key1:t.payload.key1,process_file_endpoint:"multi_in_out_",render_endpoint:"render_multi_inout_report"}})],1)],1)],1):t._e()],1):e("NoAccess")}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{AttendanceReport:n(992).default,NoAccess:n(909).default})},1176:function(t,e,n){"use strict";n(1085)},1177:function(t,e,n){var o=n(20)((function(i){return i[1]}));o.push([t.i,".center-both[data-v-5e0a6a9f]{align-items:center;display:flex;height:31vh;justify-content:center}",""]),o.locals={},t.exports=o},1230:function(t,e,n){"use strict";n.r(e);var o,r=n(117),l=n(138),c=n(79),d=n(539),h=n(903),m=n(1583),_=n(361),v=n(116),f=n(219),y=n(336),x=n(211),w=n(10),k=n(888),O=n(538),D=n(360),j=(n(33),n(12),n(14),n(11),n(18),n(9),n(19),n(17)),C=n(2);n(69),n(57),n(70),n(6),n(80),n(31),n(58),n(37),n(41),n(61),n(103),n(543);function I(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function S(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?I(Object(source),!0).forEach((function(e){Object(C.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):I(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var M={props:["system_user_id"],data:function(){return{perPage:10,cumulativeIndex:1,currentPage:1,componentKey:1,dialogEmployeeAttendance:!1,loading:!1,tableloading:!1,items:[],emptyLogmessage:"",number_of_records:5,logs:[],url:"ws://192.168.20.100:8080/WebSocket",socket:null,totalRowsCount:0,total:0,options:{},headers_table:[{text:"#",align:"left",sortable:!0,filterable:!0,value:"sno"},{text:"Employee   Id",align:"left",sortable:!0,filterable:!0,value:"employee.employee_id"},{text:"Employee Name",align:"left",sortable:!0,filterable:!0,value:"employee.first_name"},{text:"Department",align:"left",sortable:!1,filterable:!0,value:"employee.department"},{text:"Time",align:"left",sortable:!0,filterable:!0,value:"LogTime"},{text:"Device Name",align:"left",sortable:!0,filterable:!0,value:"device.device_name"},{text:"Online/Offline",align:"left",sortable:!0,filterable:!0,value:"online"}]}},watch:{options:{handler:function(){this.getRecords()},deep:!0}},mounted:function(){var t=this;setTimeout((function(){t.socketConnection()}),5e3)},created:function(){},computed:{employees:function(){return this.$store.state.employeeList.map((function(t){return{system_user_id:t.system_user_id,first_name:t.first_name,last_name:t.last_name,display_name:t.display_name}}))},devices:function(){if(this.$store.state.devices)return this.$store.state.devices.map((function(t){return t.device_id}))}},methods:(o={viewLogs:function(){this.$router.push("/attendance_report")},viewLog:function(t){this.dialogEmployeeAttendance=!0,this.componentKey=this.componentKey+1,this.system_user_id=t,console.log(this.system_user_id,this.componentKey)},caps:function(t){return""==t||null==t?"---":t.toString().replace(/\b\w/g,(function(t){return t.toUpperCase()}))},getRecords:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.tableloading=!0;var o=this.options,r=o.sortBy,l=o.sortDesc,c=o.page,d=o.itemsPerPage;1==c&&(this.loading=!0);var h=d;h||(h=5);var m={params:S({page:c,sortBy:r?r[0]:"",sortDesc:l?l[0]:"",per_page:h,filter_column:n,system_user_id:this.system_user_id},this.filters)};""!=e&&(m.params[e]=n),this.$axios.get("device/getLastRecordsHistory/".concat(this.$auth.user.company_id,"/").concat(h),m).then((function(e){var data=e.data;t.totalRowsCount=data.total,t.logs=data.data,t.loading=!1,t.tableloading=!1}))},socketConnection:function(){var t=this;this.socket=new WebSocket(this.url),this.socket.onmessage=function(e){var data=e.data,n=JSON.parse(data);200==n.Status&&n.Data.UserCode>0&&t.getDetails(n.Data)}},getDetails:function(t){var e=this;t.company_id=this.$auth.user.company_id,this.$axios.post("/device/details",t).then((function(t){var data=t.data;data.device&&e.$auth.user&&data.device.company_id==e.$auth.user.company_id&&e.logs.unshift(data)}))},getDataFromApi:function(){var t=this;this.loading=!0,this.tableloading=!0;var e=this.options,n={params:{page:e.page,per_page:e.itemsPerPage}};this.$axios.get("device/getLastRecordsHistory/".concat(this.$auth.user.company_id,"/").concat(this.number_of_records),n).then(function(){var e=Object(j.a)(regeneratorRuntime.mark((function e(n){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return data=n.data,t.loading=!1,t.tableloading=!1,t.total=data.total,e.next=6,data.data.map((function(t){return{UserCode:t.UserID,time:t.time,name:t.employee&&(t.employee.display_name||t.employee.first_name||t.employee.last_name),image:t.employee&&t.employee.profile_picture||"/no-profile-image.jpg"}}));case 6:t.logs=e.sent;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},Object(C.a)(o,"socketConnection",(function(){var t=this;this.socket=new WebSocket(this.url),this.socket.onmessage=function(e){var data=e.data,n=JSON.parse(data).Data;n&&n.UserCode>0&&t.getDetails(n)}})),Object(C.a)(o,"getDetails",(function(t){var e=t.SN,n=t.RecordImage,o=t.UserCode,r=t.RecordDate;if(this.devices&&this.devices.includes(e)){var l=this.employees.find((function(t){return t.system_user_id==o&&null!==t.first_name})),c={UserCode:o,image:"data:image;base64,"+n||!1,time:this.setTime(r),name:l&&(l.display_name||l.first_name||l.last_name)};this.logs.unshift(c)}})),Object(C.a)(o,"setTime",(function(t){var e=new Date(t),n=e.getHours().toString().padStart(2,"0"),o=e.getMinutes().toString().padStart(2,"0");return"".concat(n,":").concat(o)})),o)},$=M,A=(n(1176),n(60)),component=Object(A.a)($,(function(){var t=this,e=t._self._c;return e("div",[e(O.a,[e(d.a,{staticClass:"pl-5",attrs:{md:"10",sm:"10",xs:"10"}},[e("h4",[t._v("Recent Employee Logs on Devices")])]),t._v(" "),e(d.a,{staticClass:"text-end",attrs:{md:"2",sm:"2",xs:"2"}},[e(k.a,{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(r.a,t._g(t._b({attrs:{"dark-2":"",icon:""}},"v-btn",l,!1),o),[e(v.a,[t._v("mdi-dots-vertical")])],1)]}}])},[t._v(" "),e(y.a,{attrs:{width:"120",dense:""}},[e(x.a,{on:{click:function(e){return t.viewLogs()}}},[e(w.c,{staticStyle:{cursor:"pointer"}},[t._v("\n              View Logs\n            ")])],1)],1)],1)],1)],1),t._v(" "),e(_.a,{attrs:{persistent:"",width:"1200px"},model:{value:t.dialogEmployeeAttendance,callback:function(e){t.dialogEmployeeAttendance=e},expression:"dialogEmployeeAttendance"}},[e(l.a,[e(c.d,{staticClass:"primary white--text background",attrs:{dense:""}},[t._v("\n        Employee Attendance\n        "),e(D.a),t._v(" "),e(v.a,{attrs:{outlined:"",dark:"",color:"white"},on:{click:function(e){t.dialogEmployeeAttendance=!1}}},[t._v("\n          mdi mdi-close-circle\n        ")])],1),t._v(" "),e(c.c,[e(h.a,[e("DashboardEmployeeAttendanceLog",{key:t.componentKey,attrs:{system_user_id:t.system_user_id,key1:t.componentKey}})],1)],1)],1)],1),t._v(" "),t.loading?e("ComonPreloader",{attrs:{icon:"face-scan"}}):t._e(),t._v(" "),e(m.a,{staticClass:"elevation-0",attrs:{dense:"",headers:t.headers_table,items:t.logs,loading:t.tableloading,options:t.options,"footer-props":{itemsPerPageOptions:[5,10,50,100,500,1e3]},"server-items-length":t.totalRowsCount},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.sno",fn:function(e){var n=e.item;e.index;return[t._v("\n      "+t._s(t.currentPage?(t.currentPage-1)*t.perPage+(t.cumulativeIndex+t.logs.indexOf(n)):"")+"\n    ")]}},{key:"item.employee.first_name",fn:function(n){var o=n.item;n.index;return[e(O.a,{attrs:{"no-gutters":""}},[e(d.a,{staticStyle:{padding:"5px","padding-left":"0px",width:"40px","max-width":"40px"}},[e(f.a,{staticStyle:{"border-radius":"50%",height:"auto",width:"40px","max-width":"40px"},attrs:{src:o.employee&&o.employee.profile_picture?o.employee.profile_picture:"/no-profile-image.jpg"}})],1),t._v(" "),e(d.a,{staticStyle:{padding:"10px"}},[t._v("\n          "+t._s(o.employee?o.employee.first_name:"---")+"\n          "+t._s(o.employee?o.employee.last_name:"---")+"\n          "),e("div",{staticClass:"secondary-value"},[t._v("\n            "+t._s(o.employee&&o.employee.designation?t.caps(o.employee.designation.name):"---")+"\n          ")])])],1)]}},{key:"item.employee.department",fn:function(n){var o=n.item;return[t._v("\n      "+t._s(o.employee&&o.employee.department?t.caps(o.employee.department.name):"---")+"\n      "),e("div",{staticClass:"secondary-value"},[t._v("\n        "+t._s(o.employee&&o.employee.sub_department?t.caps(o.employee.sub_department.name):"---")+"\n      ")])]}},{key:"item.UserID",fn:function(e){var n=e.item;return[t._v(" #"+t._s(n.UserID)+" ")]}},{key:"item.employee.employee_id",fn:function(e){var n=e.item;return[t._v("\n      "+t._s(n.employee&&n.employee.employee_id)+"\n    ")]}},{key:"item.LogTime",fn:function(e){var n=e.item;return[t._v("\n      "+t._s(n.LogTime)+"\n    ")]}},{key:"item.online",fn:function(n){var o=n.item;return[o.device&&o.device.location?e(v.a,{attrs:{color:"green",fill:""}},[t._v("mdi-map-marker-radius")]):e(v.a,{attrs:{color:"red",fill:""}},[t._v("mdi-map-marker-radius")])]}},{key:"item.device.device_name",fn:function(n){var o=n.item;return[e("div",[t._v("\n        "+t._s(o.device?t.caps(o.device.name):"---")+" "),e("br"),t._v(" "),e("div",{staticClass:"secondary-value"},[t._v("\n          "+t._s(o.device&&o.device.location?o.device.location:"---")+"\n        ")])])]}}])})],1)}),[],!1,null,"5e0a6a9f",null);e.default=component.exports;installComponents(component,{DashboardEmployeeAttendanceLog:n(1096).default,ComonPreloader:n(925).default})},1344:function(t,e,n){var content=n(1557);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("10f44356",content,!0,{sourceMap:!1})},1556:function(t,e,n){"use strict";n(1344)},1557:function(t,e,n){var o=n(20)((function(i){return i[1]}));o.push([t.i,".v-slide-group__content[data-v-6f68b2f8]{background-color:#ddd}",""]),o.locals={},t.exports=o},1772:function(t,e,n){"use strict";n.r(e);var o=n(138),r=n(79),l=n(539),c=n(889),d=n(116),h=n(219),m=n(897),_=n(538),v=n(360),f=n(1014),y=n(883),x=n(885),w=n(884),k=n(359),O=n(354),D=n(99),j=(n(33),n(2)),C=(n(37),n(923),n(936)),I={components:{VueCropper:n.n(C).a},props:["employeeObject"],data:function(){var t;return t={switchValue:!0,image:"",mime_type:"",cropedImage:"",cropper:"",autoCrop:!1,selectedFile:"",upload_edit:{name:""},drawer:!1,group:null,attrs:[],dialog:!1,editDialog:!1,tab:null,m:!1,expand:!1,expand2:!1,boilerplate:!1,right:!0,rightDrawer:!1},Object(j.a)(t,"tab",null),Object(j.a)(t,"selectedItem",1),Object(j.a)(t,"on",""),Object(j.a)(t,"color","background"),Object(j.a)(t,"files",""),Object(j.a)(t,"Model","Employee"),Object(j.a)(t,"endpoint","employee"),Object(j.a)(t,"search",""),Object(j.a)(t,"loading",!1),Object(j.a)(t,"total",0),Object(j.a)(t,"next_page_url",""),Object(j.a)(t,"prev_page_url",""),Object(j.a)(t,"current_page",1),Object(j.a)(t,"per_page",8),Object(j.a)(t,"response",""),Object(j.a)(t,"ListName",""),Object(j.a)(t,"snackbar",!1),Object(j.a)(t,"btnLoader",!1),Object(j.a)(t,"max_employee",0),Object(j.a)(t,"employee",{title:"",display_name:"",employee_id:"",system_user_id:"",profile_picture:"",employee_role_id:""}),Object(j.a)(t,"upload",{name:""}),Object(j.a)(t,"previewImage",null),Object(j.a)(t,"snackbar",!1),Object(j.a)(t,"ids",[]),Object(j.a)(t,"loading",!1),Object(j.a)(t,"total",0),Object(j.a)(t,"titleItems",["Mr","Mrs","Miss","Ms","Dr"]),Object(j.a)(t,"editedIndex",-1),Object(j.a)(t,"response",""),Object(j.a)(t,"departments",[]),Object(j.a)(t,"sub_departments",[]),Object(j.a)(t,"designations",[]),Object(j.a)(t,"roles",[]),Object(j.a)(t,"data",[]),Object(j.a)(t,"errors",[]),Object(j.a)(t,"departments",[]),Object(j.a)(t,"department_id",""),Object(j.a)(t,"payloadOptions",{}),Object(j.a)(t,"last_login",{}),Object(j.a)(t,"document_list",[]),t},created:function(){this.payloadOptions={params:{per_page:1e3,company_id:this.$auth.user.company_id}},this.getDepartments(),this.getSubDepartments(),this.getDesignations(),this.getRoles(),this.getLastLogin();try{var t=this.$route.params.id;t&&this.editItemId(t)}catch(t){}this.openDocumentDrawer()},mounted:function(){},watch:{dialog:function(t){t||this.close()},options:{handler:function(){this.getDataFromApi()},deep:!0},group:function(){this.drawer=!1}},computed:{formatJoiningDate:function(){var t=new Date,e=this.employeeObject.joining_date;e&&(t=new Date(e));var n=t.getDate(),o=t.toLocaleString("default",{month:"long"}),r=t.getFullYear(),l=this.setDaySuffix(n);return"<p>DOJ: ".concat(n,"<sup>").concat(l,"</sup> ").concat(o," ").concat(r,"</p>")}},methods:{getLastLogin:function(){var t=this;this.employeeObject&&this.$axios.get("activity/".concat(this.employeeObject.user_id,"?action=Login&company_id=").concat(this.$auth.user.company_id)).then((function(e){var data=e.data;t.last_login=data.date_time}))},closeParentDialog:function(){this.$emit("close-parent-dialog")},openDocumentDrawer:function(){var t=this;this.$axios.get("documentinfo/".concat(this.employeeObject.id)).then((function(e){var data=e.data;t.document_list=data}))},formatDate:function(t){var e=new Date;t&&(e=new Date(t));var n=e.getDate(),o=e.getMonth()+1,r=e.getFullYear();return"".concat(n,"/").concat(o,"/").concat(r)},setDaySuffix:function(t){switch(t){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},getDepartments:function(){var t=this;this.$axios.get("departments",this.payloadOptions).then((function(e){var data=e.data;t.departments=data.data}))},getSubDepartments:function(){var t=this;this.$axios.get("sub-departments",this.payloadOptions).then((function(e){var data=e.data;t.sub_departments=data.data}))},getDesignations:function(){var t=this;this.$axios.get("designation",this.payloadOptions).then((function(e){var data=e.data;t.designations=data.data}))},getRoles:function(){var t=this;this.payloadOptions.params.role_type="employee",this.$axios.get("role",this.payloadOptions).then((function(e){var data=e.data;t.roles=data.data}))},can:function(){return!0},close:function(){this.dialog=!1}}},S=(n(1556),n(60)),component=Object(S.a)(I,(function(){var t,e,n,j=this,C=j._self._c;return C(o.a,[C(D.a,{staticClass:"popup_background",attrs:{dense:""}},[j._v("Profile Details\n    "),C(v.a),j._v(" "),C(d.a,{attrs:{outlined:"",dark:""},on:{click:j.closeParentDialog}},[j._v("\n      mdi mdi-close-circle\n    ")])],1),j._v(" "),C(r.c,{staticStyle:{"background-color":"#ddd"}},[C(_.a,{staticClass:"pt-5"},[C(l.a,{attrs:{cols:"3"}},[C(o.a,{attrs:{elevation:"2"}},[C(_.a,[C(l.a,{attrs:{cols:"12"}},[C("div",{staticClass:"mt-5",staticStyle:{margin:"0 auto",width:"200px"}},[C(h.a,{staticStyle:{width:"100%",height:"200px",border:"1px solid #5fafa3","border-radius":"50%",margin:"0 auto"},attrs:{src:j.employeeObject.profile_picture||"/no-profile-image.jpg"}}),j._v(" "),C("br"),j._v(" "),C("div",{staticClass:"text-center"},[C("strong",[j._v(j._s(j.employeeObject.full_name))])]),j._v(" "),C("div",{staticClass:"text-center text-center"},[C("strong",[C(d.a,{attrs:{color:"violet"}},[j._v("mdi-account-tie")]),j._v("Employee\n                    ID: "+j._s(j.employeeObject.employee_id))],1)]),j._v(" "),C("div",{staticClass:"text-center"},[C("span",{domProps:{innerHTML:j._s(j.formatJoiningDate)}})])],1),j._v(" "),C("hr")]),j._v(" "),C(l.a,{staticClass:"pl-5",attrs:{cols:"12"}},[C("table",{staticClass:"view-profile-table-lineheight"},[C("tr",[C("td",[C("strong",[j._v("Department ")]),j._v(" :\n                    "+j._s(j.employeeObject.department.name)+"\n                  ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Sub Department ")]),j._v(" :\n                    "+j._s(j.employeeObject.sub_department.name)+"\n                  ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Designation ")]),j._v(" :\n                    "+j._s(j.employeeObject.designation.name)+"\n                  ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Role ")]),j._v(" :\n                    "+j._s((null===(t=j.employeeObject)||void 0===t||null===(e=t.user)||void 0===e||null===(n=e.role)||void 0===n?void 0:n.name)||"---")+"\n                  ")])]),j._v(" "),C("tr",[C("td",[C(d.a,{attrs:{color:"violet"}},[j._v("mdi-cellphone-settings")]),j._v(" "),C("strong",[j._v("Contact")]),j._v(" :\n                    "+j._s(j.employeeObject.phone_number||"---")+"\n                  ")],1)]),j._v(" "),C("tr",[C("td",[C(d.a,{attrs:{color:"violet"}},[j._v("mdi-email-outline")]),j._v(" "),C("strong",[j._v("Email")]),j._v(" :\n\n                    "+j._s(j.employeeObject.local_email||"")+"\n                  ")],1)]),j._v(" "),C("tr",[C("td",[C(_.a,[C(l.a,{attrs:{md:"8"}},[C(d.a,{attrs:{color:"violet"}},[j._v("mdi-laptop")]),C("strong",[j._v(" Web Login")])],1),j._v(" "),C(l.a,{attrs:{md:"4"}},[C(f.a,{staticStyle:{"margin-top":"0px"},attrs:{disabled:""},model:{value:j.employeeObject.status,callback:function(t){j.$set(j.employeeObject,"status",t)},expression:"employeeObject.status"}})],1)],1)],1)]),j._v(" "),C("tr",[C("td",[C(d.a,{attrs:{color:"violet"}},[j._v("mdi-login-variant")]),C("strong",[j._v(" Last Login ")]),j._v(" :\n                    "+j._s(j.last_login?j.last_login:"---")+"\n                  ")],1)]),j._v(" "),C("tr",[C("td",[C(_.a,[C(l.a,{attrs:{md:"8"}},[C(d.a,{attrs:{color:"violet"}},[j._v("mdi-cellphone-settings")]),j._v(" "),C("strong",[j._v("Mobile Login")])],1),j._v(" "),C(l.a,{attrs:{md:"4"}},[C(f.a,{staticStyle:{"margin-top":"0px"},attrs:{disabled:""},model:{value:j.employeeObject.mobile_application,callback:function(t){j.$set(j.employeeObject,"mobile_application",t)},expression:"employeeObject.mobile_application"}})],1)],1)],1)])])])],1)],1)],1),j._v(" "),C(l.a,{attrs:{cols:"9"}},[C(o.a,[C(w.a,{attrs:{"background-color":"transparent",color:"whitebackground",grow:"",flat:""},model:{value:j.tab,callback:function(t){j.tab=t},expression:"tab"}},[C(y.a,[j._v(" Contact ")]),j._v(" "),C(y.a,[j._v(" Passport & Emirates ")]),j._v(" "),C(y.a,[j._v(" Visa & Bank ")]),j._v(" "),C(y.a,[j._v(" Documents & Qualification")]),j._v(" "),C(y.a,[j._v(" Settings ")]),j._v(" "),C(y.a,[j._v(" Payroll ")]),j._v(" "),C(O.a,{attrs:{color:"violet"}}),j._v(" "),C(k.a,{model:{value:j.tab,callback:function(t){j.tab=t},expression:"tab"}},[C(x.a,[C(o.a,[C(r.c,[C(_.a,[C(l.a,{staticStyle:{"border-right":"1px solid #ddd"},attrs:{md:"6"}},[C("h5",[j._v("Contact Details")]),j._v(" "),C("table",{staticClass:"view-profile-table-lineheight"},[C("tr",[C("td",[C("strong",[j._v("Phone Number ")]),j._v(" :\n                              "+j._s(j.employeeObject.phone_number?j.employeeObject.phone_number:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Whatsapp Number ( ex: 971XXXX)")]),j._v("\n                              :\n                              "+j._s(j.employeeObject.whatsapp_number?j.employeeObject.whatsapp_number:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Alternate Email")]),j._v(" :\n                              "+j._s(j.employeeObject.local_email?j.employeeObject.local_email:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Phone Relative Number ")]),j._v(" :\n                              "+j._s(j.employeeObject.phone_relative_number?j.employeeObject.phone_relative_number:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Relation")]),j._v(" :\n                              "+j._s(j.employeeObject.relation?j.employeeObject.relation:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Local Address")]),j._v(" :\n                              "+j._s(j.employeeObject.local_address?j.employeeObject.local_address:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Local City")]),j._v(" :\n                              "+j._s(j.employeeObject.local_city?j.employeeObject.local_city:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Local Country")]),j._v(" :\n                              "+j._s(j.employeeObject.local_country?j.employeeObject.local_country:"---")+"\n                            ")])])])]),j._v(" "),C(l.a,{attrs:{md:"6"}},[C("h5",[j._v("Home Country - Details")]),j._v(" "),C("table",{staticClass:"view-profile-table-lineheight"},[C("tr",[C("td",[C("strong",[j._v("Address")]),j._v(" :\n                              "+j._s(j.employeeObject.home_address?j.employeeObject.home_address:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Tel")]),j._v(" :\n                              "+j._s(j.employeeObject.home_tel?j.employeeObject.home_tel:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Mobile")]),j._v(" :\n                              "+j._s(j.employeeObject.home_mobile?j.employeeObject.home_mobile:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Fax")]),j._v(" :\n                              "+j._s(j.employeeObject.home_fax?j.employeeObject.home_fax:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("City")]),j._v(" :\n                              "+j._s(j.employeeObject.home_city?j.employeeObject.home_city:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("State")]),j._v(" :\n                              "+j._s(j.employeeObject.home_state?j.employeeObject.home_state:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Country")]),j._v(" :\n                              "+j._s(j.employeeObject.home_country?j.employeeObject.home_country:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Personal Email")]),j._v(" :\n                              "+j._s(j.employeeObject.home_email?j.employeeObject.home_email:"---")+"\n                            ")])])])])],1)],1)],1)],1),j._v(" "),C(x.a,[C(o.a,{attrs:{elevation:"4"}},[C(r.c,[C(_.a,[C(l.a,{staticStyle:{"border-right":"1px solid #ddd"},attrs:{md:"6"}},[C("h5",[j._v("Passport Details")]),j._v(" "),C("table",{staticClass:"view-profile-table-lineheight"},[C("tr",[C("td",[C("strong",[j._v("Passport No ")]),j._v(" :\n                              "+j._s(j.employeeObject.passport?j.employeeObject.passport.passport_no:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Place Of Issue ")]),j._v(" :\n                              "+j._s(j.employeeObject.passport?j.employeeObject.passport.place_of_issues:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Issue Date")]),j._v(" :\n                              "+j._s(j.employeeObject.passport?j.employeeObject.passport.issue_date:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Expiry Date ")]),j._v(" :\n                              "+j._s(j.employeeObject.passport?j.employeeObject.passport.expiry_date:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Country")]),j._v(" :\n                              "+j._s(j.employeeObject.passport?j.employeeObject.passport.country:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Note")]),j._v(" :\n                              "+j._s(j.employeeObject.passport?j.employeeObject.passport.note:"---")+"\n                            ")])])])]),j._v(" "),C(l.a,{attrs:{md:"6"}},[C("h5",[j._v("Emirates Details")]),j._v(" "),C("table",{staticClass:"view-profile-table-lineheight"},[C("tr",[C("td",[C("strong",[j._v("Emirate Id ")]),j._v(" :\n                              "+j._s(j.employeeObject.emirate?j.employeeObject.emirate.emirate_id:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Nationality ")]),j._v(" :\n                              "+j._s(j.employeeObject.emirate?j.employeeObject.emirate.nationality:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Issue Date")]),j._v(" :\n                              "+j._s(j.employeeObject.emirate?j.employeeObject.emirate.issue:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Expiry Date ")]),j._v(" :\n                              "+j._s(j.employeeObject.emirate?j.employeeObject.emirate.expiry:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Date of Birth")]),j._v(" :\n                              "+j._s(j.employeeObject.emirate?j.employeeObject.emirate.date_of_birth:"---")+"\n                            ")])])])])],1)],1)],1)],1),j._v(" "),C(x.a,[C(o.a,{attrs:{elevation:"2"}},[C(r.c,[C(_.a,[C(l.a,{staticStyle:{"border-right":"1px solid #ddd"},attrs:{md:"6"}},[C("h5",[j._v("Visa Details")]),j._v(" "),C("table",{staticClass:"view-profile-table-lineheight"},[C("tr",[C("td",[C("strong",[j._v("Visa Number ")]),j._v(" :\n                              "+j._s(j.employeeObject.visa?j.employeeObject.visa.visa_no:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Place Of Issue ")]),j._v(" :\n                              "+j._s(j.employeeObject.visa?j.employeeObject.visa.place_of_issues:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Issue Date")]),j._v(" :\n                              "+j._s(j.employeeObject.visa?j.employeeObject.visa.issue_date:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Expiry Date ")]),j._v(" :\n                              "+j._s(j.employeeObject.visa?j.employeeObject.visa.expiry_date:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Country")]),j._v(" :\n                              "+j._s(j.employeeObject.visa?j.employeeObject.visa.country:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Labour No")]),j._v(" :\n                              "+j._s(j.employeeObject.visa?j.employeeObject.visa.note:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Note")]),j._v(" :\n                              "+j._s(j.employeeObject.visa?j.employeeObject.visa.note:"---")+"\n                            ")])])])]),j._v(" "),C(l.a,{attrs:{md:"6"}},[C("h5",[j._v("Bank Details")]),j._v(" "),C("table",{staticClass:"view-profile-table-lineheight"},[C("tr",[C("td",[C("strong",[j._v("Bank Name")]),j._v(" :\n                              "+j._s(j.employeeObject.bank?j.employeeObject.bank.bank_name:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Bank Address ")]),j._v(" :\n                              "+j._s(j.employeeObject.bank?j.employeeObject.bank.address:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Account No")]),j._v(" :\n                              "+j._s(j.employeeObject.bank?j.employeeObject.bank.account_no:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Account Name")]),j._v(" :\n                              "+j._s(j.employeeObject.bank?j.employeeObject.bank.account_title:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("IBAN")]),j._v(" :\n                              "+j._s(j.employeeObject.bank?j.employeeObject.bank.iban:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Other Text")]),j._v(" :\n                              "+j._s(j.employeeObject.bank?j.employeeObject.bank.other_text:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Other Value")]),j._v(" :\n                              "+j._s(j.employeeObject.bank?j.employeeObject.bank.other_value:"---")+"\n                            ")])])])])],1)],1)],1)],1),j._v(" "),C(x.a,[C(o.a,{attrs:{elevation:"2"}},[C(r.c,[C("h5",[j._v("Documents("+j._s(j.document_list.length)+")")]),j._v(" "),C("table",{staticStyle:{width:"100%","border-collapse":"collapse",margin:"5px"}},[C("thead",[C("tr",[C("th",{staticStyle:{padding:"8px","text-align":"left"}},[j._v("\n                            Title\n                          ")]),j._v(" "),C("th",{staticStyle:{padding:"8px","text-align":"left"}},[j._v("\n                            Document\n                          ")])])]),j._v(" "),C("tbody",j._l(j.document_list,(function(t,e){return C("tr",{key:e},[C("td",{staticStyle:{padding:"8px","text-align":"left","border-top":"1px solid #ddd"}},[j._v("\n                            "+j._s(t.title)+"\n                          ")]),j._v(" "),C("td",{staticStyle:{padding:"8px","text-align":"left","border-top":"1px solid #ddd"}},[C("a",{attrs:{href:t.attachment,download:"",target:"_blank"}},[C(d.a,{attrs:{color:"primary"}},[j._v(" mdi-download ")])],1)])])})),0)]),j._v(" "),C(_.a,[C(l.a,{staticStyle:{"border-right":"0px solid #ddd"},attrs:{md:"6"}},[C("h5",[j._v("Qualification Details")]),j._v(" "),C("table",{staticClass:"view-profile-table-lineheight"},[C("tr",[C("td",[C("strong",[j._v("Certificate ")]),j._v(" :\n                              "+j._s(j.employeeObject.qualification.certificate?j.employeeObject.qualification.certificate:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("College ")]),j._v(" :\n                              "+j._s(j.employeeObject.qualification.collage?j.employeeObject.qualification.collage:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Start Date")]),j._v(" :\n                              "+j._s(j.employeeObject.qualification.start?j.employeeObject.qualification.start:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("End Date")]),j._v(" :\n                              "+j._s(j.employeeObject.qualification.end?j.employeeObject.qualification.end:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Type")]),j._v(" :\n                              "+j._s(j.employeeObject.qualification.type?j.employeeObject.qualification.type:"---")+"\n                            ")])])])])],1)],1)],1)],1),j._v(" "),C(x.a,[C(o.a,{attrs:{elevation:"2"}},[C(r.c,[C(_.a,[C(l.a,{staticStyle:{"border-right":"1px solid #ddd"},attrs:{md:"6"}},[C("h5",[j._v("Settings")]),j._v(" "),C("table",{staticStyle:{width:"70%"}},[C("tr",[C("td",[C("strong",[j._v("Employee Status")])]),j._v(" "),C("td",[C(f.a,{staticClass:"mt-0 ml-2",attrs:{disabled:"",color:"success"},model:{value:j.employeeObject.status,callback:function(t){j.$set(j.employeeObject,"status",t)},expression:"employeeObject.status"}})],1)]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Web Login Access")])]),j._v(" "),C("td",[C(f.a,{staticClass:"mt-0 ml-2",attrs:{disabled:"",color:"success"},model:{value:j.employeeObject.user.web_login_access,callback:function(t){j.$set(j.employeeObject.user,"web_login_access",t)},expression:"employeeObject.user.web_login_access"}})],1)]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Mobile App Login Access")])]),j._v(" "),C("td",[C(f.a,{staticClass:"mt-0 ml-2",attrs:{disabled:"",color:"success"},model:{value:j.employeeObject.user.mobile_app_login_access,callback:function(t){j.$set(j.employeeObject.user,"mobile_app_login_access",t)},expression:"\n                                  employeeObject.user.mobile_app_login_access\n                                "}})],1)]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Over Time")])]),j._v(" "),C("td",[C("div",{staticClass:"text-overline mb-1"},[C(f.a,{staticClass:"mt-0 ml-2",attrs:{disabled:"",color:"success"},model:{value:j.employeeObject.overtime,callback:function(t){j.$set(j.employeeObject,"overtime",t)},expression:"employeeObject.overtime"}})],1)])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Enable Whatsapp OTP")])]),j._v(" "),C("td",[C("div",{staticClass:"text-overline mb-1"},[C(f.a,{staticClass:"mt-0 ml-2",attrs:{disabled:"",color:"success"},model:{value:j.employeeObject.user.enable_whatsapp_otp,callback:function(t){j.$set(j.employeeObject.user,"enable_whatsapp_otp",t)},expression:"\n                                    employeeObject.user.enable_whatsapp_otp\n                                  "}})],1)])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Live Tracking Location")])]),j._v(" "),C("td",[C("div",{staticClass:"text-overline mb-1"},[C(f.a,{staticClass:"mt-0 ml-2",attrs:{disabled:"",color:"success"},model:{value:j.employeeObject.user.tracking_status,callback:function(t){j.$set(j.employeeObject.user,"tracking_status",t)},expression:"\n                                    employeeObject.user.tracking_status\n                                  "}})],1)])])]),j._v(" "),C("table",{staticClass:"view-profile-table-lineheight"},[C("tr",[C("td",[C("strong",[j._v("Leave Group ")]),j._v(" :\n                              "+j._s(j.employeeObject.leave_group?j.employeeObject.leave_group.name:"---")+"\n                            ")])]),j._v(" "),C("tr",[C("td",[C("strong",[j._v("Leave Manager/Reporting Manger ")]),j._v("\n                              :\n                              "+j._s(j.employeeObject.reporting_manager?j.employeeObject.reporting_manager.first_name+" "+j.employeeObject.reporting_manager.last_name:"---")+"\n                            ")])])])])],1)],1)],1)],1),j._v(" "),C(x.a,[C(o.a,{attrs:{elevation:"2"}},[C(r.c,[C("h5",[j._v("Salary Information")]),j._v(" "),C(_.a,[C(l.a,{staticStyle:{"border-right":"1px solid #ddd"},attrs:{md:"6"}},[j.employeeObject.payroll?C("table",{staticClass:"employee-table view-profile-table-lineheight",staticStyle:{width:"100%"}},[C("tr",{staticStyle:{border:"0px solid #ddd"}},[C("th",[j._v("Effective Date")]),j._v(" "),C("td",{staticClass:"text-left"},[j._v("\n                              :\n                              "+j._s(j.employeeObject.payroll&&j.employeeObject.payroll.effective_date_formatted?j.employeeObject.payroll.effective_date_formatted:"---")+"\n                            ")])]),j._v(" "),C("tr",{staticStyle:{border:"0px solid #ddd"}},[C("th",[j._v("Basic Salary")]),j._v(" "),C("td",{staticClass:"text-left"},[j._v("\n                              :\n                              "+j._s(j.employeeObject.payroll&&j.employeeObject.payroll.basic_salary?j.employeeObject.payroll.basic_salary:"---")+"\n                            ")])]),j._v(" "),j._l(j.employeeObject.payroll.earnings,(function(t,e){return C("tr",{key:e,staticStyle:{border:"0px solid #ddd"}},[C("th",[j._v(j._s(t.label))]),j._v(" "),C("td",{staticClass:"text-left"},[j._v(": "+j._s(t.value))])])}))],2):j._e()])],1)],1)],1)],1)],1)],1),j._v(" "),C(c.a),j._v(" "),j.employeeObject.system_user_id>0?C("DashboardRealTimeLogTableview",{key:j.employeeObject.system_user_id,attrs:{system_user_id:j.employeeObject.system_user_id}}):j._e()],1)],1),j._v(" "),C(l.a,{attrs:{cols:"2"}},[C("table")]),j._v(" "),C(l.a,{staticStyle:{"max-width":"20%"},attrs:{cols:"3"}},[C("table")]),j._v(" "),C(l.a,{attrs:{cols:"2"}},[C("table")])],1),j._v(" "),C(m.a,{attrs:{bottom:"",temporary:"",right:"",fixed:""},model:{value:j.drawer,callback:function(t){j.drawer=t},expression:"drawer"}},[C(D.a,{staticClass:"background",attrs:{dense:"",dark:""}},[j._v("Documents\n        "),C(v.a),j._v(" "),C(d.a,{attrs:{outlined:"",dark:"",color:"white"},on:{click:function(t){j.drawer=!1}}},[j._v("\n          mdi mdi-close-circle\n        ")])],1),j._v(" "),C("table",{staticStyle:{width:"100%","border-collapse":"collapse",margin:"5px"}},[C("thead",[C("tr",[C("th",{staticStyle:{padding:"8px","text-align":"left","border-bottom":"1px solid #ddd"}},[j._v("\n              Title\n            ")]),j._v(" "),C("th",{staticStyle:{padding:"8px","text-align":"left","border-bottom":"1px solid #ddd"}},[j._v("\n              Document\n            ")])])]),j._v(" "),C("tbody",j._l(j.document_list,(function(t,e){return C("tr",{key:e},[C("td",{staticStyle:{padding:"8px","text-align":"left","border-bottom":"1px solid #ddd"}},[j._v("\n              "+j._s(t.title)+"\n            ")]),j._v(" "),C("td",{staticStyle:{padding:"8px","text-align":"left","border-bottom":"1px solid #ddd"}},[C("a",{attrs:{href:t.attachment,download:"",target:"_blank"}},[C(d.a,{attrs:{color:"primary"}},[j._v(" mdi-download ")])],1)])])})),0)])],1)],1)],1)}),[],!1,null,"6f68b2f8",null);e.default=component.exports;installComponents(component,{DashboardRealTimeLogTableview:n(1230).default})},886:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l}));var o=n(99),r=n(1),l=Object(r.k)("v-toolbar__title"),c=Object(r.k)("v-toolbar__items");o.a},909:function(t,e,n){"use strict";n.r(e);var o=n(60),component=Object(o.a)({},(function(){this._self._c;return this._m(0)}),[function(){var t=this._self._c;return t("div",{staticClass:"text-center",staticStyle:{"margin-top":"25%"}},[t("b",[this._v("No Access")])])}],!1,null,null,null);e.default=component.exports},912:function(t,e,n){var content=n(913);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("1377ef10",content,!0,{sourceMap:!1})},913:function(t,e,n){var o=n(20)((function(i){return i[1]}));o.push([t.i,".v-autocomplete.v-input>.v-input__control>.v-input__slot{cursor:text}.v-autocomplete input{align-self:center}.v-autocomplete.v-select.v-input--is-focused input{min-width:64px}.v-autocomplete:not(.v-input--is-focused).v-select--chips input{max-height:0;padding:0}.v-autocomplete--is-selecting-index input{opacity:0}.v-autocomplete.v-text-field--enclosed:not(.v-text-field--solo):not(.v-text-field--single-line):not(.v-text-field--outlined) .v-select__slot>input{margin-top:24px}.v-autocomplete.v-text-field--enclosed:not(.v-text-field--solo):not(.v-text-field--single-line):not(.v-text-field--outlined).v-input--dense .v-select__slot>input{margin-top:20px}.v-autocomplete__content.v-menu__content,.v-autocomplete__content.v-menu__content .v-card{border-radius:0}",""]),o.locals={},t.exports=o},921:function(t,e,n){"use strict";n(12),n(14),n(18),n(9),n(19);var o=n(2),r=(n(70),n(6),n(11),n(92),n(103),n(223),n(41),n(61),n(912),n(920)),l=n(221),c=n(71),d=n(1);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var _=m(m({},r.b),{},{offsetY:!0,offsetOverflow:!0,transition:!1});e.a=r.a.extend({name:"v-autocomplete",props:{autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(t,e,n){return n.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}},hideNoData:Boolean,menuProps:{type:r.a.options.props.menuProps.type,default:function(){return _}},noFilter:Boolean,searchInput:{type:String}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return m(m({},r.a.options.computed.classes.call(this)),{},{"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var t=this;return this.selectedItems.map((function(e){return t.getValue(e)}))},hasDisplayedItems:function(){var t=this;return this.hideSelected?this.filteredItems.some((function(e){return!t.hasItem(e)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems:function(){var t=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(e){var n=Object(d.s)(e,t.itemText),text=null!=n?String(n):"";return t.filter(e,String(t.internalSearch),text)}))},internalSearch:{get:function(){return this.lazySearch},set:function(t){this.lazySearch!==t&&(this.lazySearch=t,this.$emit("update:search-input",t))}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var t=r.a.options.computed.$_menuProps.call(this);return t.contentClass="v-autocomplete__content ".concat(t.contentClass||"").trim(),m(m({},_),t)},searchIsDirty:function(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem:function(){var t=this;return this.multiple?null:this.selectedItems.find((function(i){return t.valueComparator(t.getValue(i),t.getValue(t.internalValue))}))},listData:function(){var data=r.a.options.computed.listData.call(this);return data.props=m(m({},data.props),{},{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),data}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused:function(t){t?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.blur(),this.updateSelf())},isMenuActive:function(t){!t&&this.hasSlot&&(this.lazySearch=null)},items:function(t,e){e&&e.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!t.length||this.activateMenu()},searchInput:function(t){this.lazySearch=t},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created:function(){this.setSearch()},destroyed:function(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged:function(t,e){var n=this;if(t!==e){if(!this.autoSelectFirst){var o=e[this.$refs.menu.listIndex];o?this.setMenuIndex(t.findIndex((function(i){return i===o}))):this.setMenuIndex(-1),this.$emit("update:list-index",this.$refs.menu.listIndex)}this.$nextTick((function(){n.internalSearch&&(1===t.length||n.autoSelectFirst)&&(n.$refs.menu.getTiles(),n.autoSelectFirst&&t.length&&(n.setMenuIndex(0),n.$emit("update:list-index",n.$refs.menu.listIndex)))}))}},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(t){this.searchIsDirty||(this.multiple&&t===d.z.left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&t===d.z.right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:t!==d.z.backspace&&t!==d.z.delete||this.deleteCurrentItem())},deleteCurrentItem:function(){var t=this.selectedIndex,e=this.selectedItems[t];if(this.isInteractive&&!this.getDisabled(e)){var n=this.selectedItems.length-1;if(-1!==this.selectedIndex||0===n){var o=t!==this.selectedItems.length-1?t:t-1;this.selectedItems[o]?this.selectItem(e):this.setValue(this.multiple?[]:null),this.selectedIndex=o}else this.selectedIndex=n}},clearableCallback:function(){this.internalSearch=null,r.a.options.methods.clearableCallback.call(this)},genInput:function(){var input=l.a.options.methods.genInput.call(this);return input.data=Object(c.a)(input.data,{attrs:{"aria-activedescendant":Object(d.q)(this.$refs.menu,"activeTile.id"),autocomplete:Object(d.q)(input.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),input},genInputSlot:function(){var slot=r.a.options.methods.genInputSlot.call(this);return slot.data.attrs.role="combobox",slot},genSelections:function(){return this.hasSlot||this.multiple?r.a.options.methods.genSelections.call(this):[]},onClick:function(t){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(t.target)||this.activateMenu())},onInput:function(t){if(!(this.selectedIndex>-1)&&t.target){var e=t.target,n=e.value;e.value&&this.activateMenu(),this.multiple||""!==n||this.deleteCurrentItem(),this.internalSearch=n,this.badInput=e.validity&&e.validity.badInput}},onKeyDown:function(t){var e=t.keyCode;!t.ctrlKey&&[d.z.home,d.z.end].includes(e)||r.a.options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onSpaceDown:function(t){},onTabDown:function(t){r.a.options.methods.onTabDown.call(this,t),this.updateSelf()},onUpDown:function(t){t.preventDefault(),this.activateMenu()},selectItem:function(t){r.a.options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems:function(){r.a.options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var t=this;this.$nextTick((function(){t.multiple&&t.internalSearch&&t.isMenuActive||(t.internalSearch=!t.selectedItems.length||t.multiple||t.hasSlot?null:t.getText(t.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.multiple||this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(t){return this.selectedValues.indexOf(this.getValue(t))>-1},onCopy:function(t){var e,n;if(-1!==this.selectedIndex){var o=this.selectedItems[this.selectedIndex],r=this.getText(o);null===(e=t.clipboardData)||void 0===e||e.setData("text/plain",r),null===(n=t.clipboardData)||void 0===n||n.setData("text/vnd.vuetify.autocomplete.item+plain",r),t.preventDefault()}}}})},923:function(t,e,n){var content=n(933);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("8f215f56",content,!0,{sourceMap:!1})},925:function(t,e,n){"use strict";n.r(e);var o=n(219),r={props:["icon"]},l=n(60),component=Object(l.a)(r,(function(){var t=this._self._c;return t("div",{staticClass:"text-center",staticStyle:{width:"80px",margin:"25% auto"}},[t(o.a,{attrs:{src:"/preloaders/".concat(this.icon,".gif")}})],1)}),[],!1,null,null,null);e.default=component.exports},926:function(t,e,n){var content=n(927);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("c54b7bb4",content,!0,{sourceMap:!1})},927:function(t,e,n){var o=n(20)((function(i){return i[1]}));o.push([t.i,".theme--light.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea{color:#fff}.theme--light.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea::-moz-placeholder{color:hsla(0,0%,100%,.5)}.theme--light.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea::placeholder{color:hsla(0,0%,100%,.5)}.theme--dark.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea{color:rgba(0,0,0,.87)}.theme--dark.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea::-moz-placeholder{color:rgba(0,0,0,.38)}.theme--dark.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea::placeholder{color:rgba(0,0,0,.38)}.v-textarea textarea{align-self:stretch;flex:1 1 auto;line-height:1.75rem;max-width:100%;min-height:32px;outline:none;padding:0;width:100%}.v-textarea .v-text-field__prefix,.v-textarea .v-text-field__suffix{align-self:start;padding-top:2px}.v-textarea.v-text-field--box .v-text-field__prefix,.v-textarea.v-text-field--box textarea,.v-textarea.v-text-field--enclosed .v-text-field__prefix,.v-textarea.v-text-field--enclosed textarea{margin-top:24px}.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) textarea,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) textarea,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) textarea,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) textarea{margin-top:10px}.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-label,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-label,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-label,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-label{top:18px}.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense textarea,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense textarea,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense textarea,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense textarea{margin-top:6px}.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__prepend-outer{align-self:flex-start;margin-top:8px}.v-textarea.v-text-field--solo{align-items:flex-start}.v-textarea.v-text-field--solo .v-input__control textarea{caret-color:auto}.v-textarea.v-text-field--solo .v-input__append-inner,.v-textarea.v-text-field--solo .v-input__append-outer,.v-textarea.v-text-field--solo .v-input__prepend-inner,.v-textarea.v-text-field--solo .v-input__prepend-outer{align-self:flex-start;margin-top:12px}.v-application--is-ltr .v-textarea.v-text-field--solo .v-input__append-inner{padding-left:12px}.v-application--is-rtl .v-textarea.v-text-field--solo .v-input__append-inner{padding-right:12px}.v-textarea--auto-grow textarea{overflow:hidden}.v-textarea--no-resize textarea{resize:none}.v-textarea.v-text-field--enclosed .v-text-field__slot{align-self:stretch}.v-application--is-ltr .v-textarea.v-text-field--enclosed .v-text-field__slot{margin-right:-12px}.v-application--is-rtl .v-textarea.v-text-field--enclosed .v-text-field__slot{margin-left:-12px}.v-application--is-ltr .v-textarea.v-text-field--enclosed .v-text-field__slot textarea{padding-right:12px}.v-application--is-rtl .v-textarea.v-text-field--enclosed .v-text-field__slot textarea{padding-left:12px}",""]),o.locals={},t.exports=o},933:function(t,e,n){var o=n(20)((function(i){return i[1]}));o.push([t.i,'/*!\n * Cropper.js v1.5.13\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2022-11-20T05:30:43.444Z\n */.cropper-container{direction:ltr;font-size:0;line-height:0;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.cropper-container img{backface-visibility:hidden;display:block;height:100%;image-orientation:0deg;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}.cropper-canvas,.cropper-crop-box,.cropper-drag-box,.cropper-modal,.cropper-wrap-box{bottom:0;left:0;position:absolute;right:0;top:0}.cropper-canvas,.cropper-wrap-box{overflow:hidden}.cropper-drag-box{background-color:#fff;opacity:0}.cropper-modal{background-color:#000;opacity:.5}.cropper-view-box{display:block;height:100%;outline:1px solid #39f;outline-color:rgba(51,153,255,.75);overflow:hidden;width:100%}.cropper-dashed{border:0 dashed #eee;display:block;opacity:.5;position:absolute}.cropper-dashed.dashed-h{border-bottom-width:1px;border-top-width:1px;height:33.33333%;left:0;top:33.33333%;width:100%}.cropper-dashed.dashed-v{border-left-width:1px;border-right-width:1px;height:100%;left:33.33333%;top:0;width:33.33333%}.cropper-center{display:block;height:0;left:50%;opacity:.75;position:absolute;top:50%;width:0}.cropper-center:after,.cropper-center:before{background-color:#eee;content:" ";display:block;position:absolute}.cropper-center:before{height:1px;left:-3px;top:0;width:7px}.cropper-center:after{height:7px;left:0;top:-3px;width:1px}.cropper-face,.cropper-line,.cropper-point{display:block;height:100%;opacity:.1;position:absolute;width:100%}.cropper-face{background-color:#fff;left:0;top:0}.cropper-line{background-color:#39f}.cropper-line.line-e{cursor:ew-resize;right:-3px;top:0;width:5px}.cropper-line.line-n{cursor:ns-resize;height:5px;left:0;top:-3px}.cropper-line.line-w{cursor:ew-resize;left:-3px;top:0;width:5px}.cropper-line.line-s{bottom:-3px;cursor:ns-resize;height:5px;left:0}.cropper-point{background-color:#39f;height:5px;opacity:.75;width:5px}.cropper-point.point-e{cursor:ew-resize;margin-top:-3px;right:-3px;top:50%}.cropper-point.point-n{cursor:ns-resize;left:50%;margin-left:-3px;top:-3px}.cropper-point.point-w{cursor:ew-resize;left:-3px;margin-top:-3px;top:50%}.cropper-point.point-s{bottom:-3px;cursor:s-resize;left:50%;margin-left:-3px}.cropper-point.point-ne{cursor:nesw-resize;right:-3px;top:-3px}.cropper-point.point-nw{cursor:nwse-resize;left:-3px;top:-3px}.cropper-point.point-sw{bottom:-3px;cursor:nesw-resize;left:-3px}.cropper-point.point-se{bottom:-3px;cursor:nwse-resize;height:20px;opacity:1;right:-3px;width:20px}@media (min-width:768px){.cropper-point.point-se{height:15px;width:15px}}@media (min-width:992px){.cropper-point.point-se{height:10px;width:10px}}@media (min-width:1200px){.cropper-point.point-se{height:5px;opacity:.75;width:5px}}.cropper-point.point-se:before{background-color:#39f;bottom:-50%;content:" ";display:block;height:200%;opacity:0;position:absolute;right:-50%;width:200%}.cropper-invisible{opacity:0}.cropper-bg{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC")}.cropper-hide{display:block;height:0;position:absolute;width:0}.cropper-hidden{display:none!important}.cropper-move{cursor:move}.cropper-crop{cursor:crosshair}.cropper-disabled .cropper-drag-box,.cropper-disabled .cropper-face,.cropper-disabled .cropper-line,.cropper-disabled .cropper-point{cursor:not-allowed}',""]),o.locals={},t.exports=o},934:function(t,e,n){"use strict";n.r(e);var o=n(921),r=n(117),l=n(539),c=n(1584),d=n(888),h=n(538),m=n(900),_=n(360),v=n(221),f=n(963),y=n(1804),x=n(17),w=(n(41),n(103),n(6),n(9),n(69),{props:["endpoint","system_user_id","shift_type_id"],data:function(){return{Model:"Manual Log",date:null,menu:!1,loading:!1,time_menu:!1,reason:null,log_payload:{user_id:null,device_id:"",date:null,time:null,shift_type_id:null,branch_id:0,log_type:"auto"},headers:[{text:"UserID",align:"center",sortable:!1,value:"UserID"},{text:"DeviceID",align:"center",sortable:!1,value:"DeviceID"},{text:"LogTime",align:"center",sortable:!1,value:"LogTime"}],ids:[],devices:[],data:[],total:0,options:{},errors:[],employees:[],response:"",snackbar:!1}},mounted:function(){this.getDeviceList()},created:function(){var t=this;return Object(x.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.log_payload.user_id=t.system_user_id,e.next=4,t.$store.dispatch("fetchDropDowns",{key:"employeeList",endpoint:"employee-list",refresh:!0});case 4:t.employees=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching data:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},methods:{getDeviceList:function(){var t=this,e={params:{company_id:this.$auth.user.company_id}};this.$axios.get("/device_list_not_manual",e).then((function(e){var data=e.data;t.devices=data}))},getLastLog:function(t){var e=this;return Object(x.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.$axios.get("attendance_logs",{params:{company_id:e.$auth.user.company_id,UserID:t}}).then((function(t){var n,data=t.data;null!=data&&null!==(n=data.data)&&void 0!==n&&n.length&&["in","auto"].includes(data.data[0].log_type)?e.log_payload.log_type="out":e.log_payload.log_type="in"}));case 1:case"end":return n.stop()}}),n)})))()},handleChangeEvent:function(t){var e=this;return Object(x.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(o=e.employees.find((function(e){return t==e.system_user_id})))&&(e.log_payload.branch_id=o.branch_id||0);case 2:case"end":return n.stop()}}),n)})))()},submit:function(){var t=this;return Object(x.a)(regeneratorRuntime.mark((function e(){var n,o,r,time,l,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getLastLog(t.log_payload.user_id);case 2:if(n=t.log_payload,o=n.user_id,r=n.date,time=n.time,l=n.branch_id,c=n.device_id,d={branch_id:l,UserID:o,LogTime:r+" "+time,DeviceID:c,company_id:t.$auth.user.company_id,log_type:t.log_payload.log_type},t.loading=!0,o&&r&&time){e.next=8;break}return alert("Please enter required fields"),e.abrupt("return");case 8:t.$axios.post("/generate_log",d).then((function(e){var data=e.data;t.loading=!1,data.status?(t.render_report(r,t.shift_type_id),t.$emit("close-popup"),t.snackbar=!0,t.response=data.message):t.errors=data.errors})).catch((function(e){var n=e.message;t.snackbar=!0,t.response=n}));case 9:case"end":return e.stop()}}),e)})))()},render_report:function(t,e){var n=this,o={params:{dates:[t,t],UserIds:[this.log_payload.user_id],company_ids:[this.$auth.user.company_id],user_id:this.$auth.user.id,updated_by:this.$auth.user.id,reason:this.reason,employee_ids:[this.log_payload.user_id],shift_type_id:e}};this.$axios.get("render_logs",o).then((function(t){var data=t.data;n.loading=!1;var e="";data.forEach((function(element){e=e+" \n \n "+element})),n.response=e,n.loading=!1,n.$emit("update-data-table")})).catch((function(t){return console.log(t)}))}}}),k=n(60),component=Object(k.a)(w,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"text-center ma-2"},[e(m.a,{attrs:{top:"top",color:"secondary",elevation:"24"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.response)+"\n    ")])],1),t._v(" "),e(h.a,[e(l.a,{attrs:{md:"3"}},[e(o.a,{staticClass:"mt-5",attrs:{label:"Employee ID",placeholder:"Employee Device Id",items:t.employees,"item-text":"name_with_user_id","item-value":"system_user_id",dense:"",outlined:""},on:{change:function(e){return t.handleChangeEvent(t.log_payload.user_id)}},model:{value:t.log_payload.user_id,callback:function(e){t.$set(t.log_payload,"user_id",e)},expression:"log_payload.user_id"}}),t._v(" "),t.errors&&t.errors.user_id?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.user_id[0]))]):t._e()],1),t._v(" "),e(l.a,{attrs:{md:"3"}},[e(d.a,{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,r=n.attrs;return[e(v.a,t._g(t._b({staticClass:"mt-5",attrs:{label:"Date",dense:"",outlined:"",placeholder:"Date",readonly:""},model:{value:t.log_payload.date,callback:function(e){t.$set(t.log_payload,"date",e)},expression:"log_payload.date"}},"v-text-field",r,!1),o))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),e(c.a,{attrs:{"no-title":"",scrollable:""},model:{value:t.log_payload.date,callback:function(e){t.$set(t.log_payload,"date",e)},expression:"log_payload.date"}},[e(_.a),t._v(" "),e(r.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" Cancel ")]),t._v(" "),e(r.a,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.log_payload.date)}}},[t._v("\n            OK\n          ")])],1)],1)],1),t._v(" "),e(l.a,{attrs:{md:"3"}},[e(d.a,{ref:"time_menu_ref",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.log_payload.time,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){return t.$set(t.log_payload,"time",e)},"update:return-value":function(e){return t.$set(t.log_payload,"time",e)}},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,r=n.attrs;return[e(v.a,t._g(t._b({staticClass:"mt-5",attrs:{label:"Time",dense:"",outlined:"",placeholder:"Time",readonly:""},model:{value:t.log_payload.time,callback:function(e){t.$set(t.log_payload,"time",e)},expression:"log_payload.time"}},"v-text-field",r,!1),o))]}}]),model:{value:t.time_menu,callback:function(e){t.time_menu=e},expression:"time_menu"}},[t._v(" "),t.time_menu?e(y.a,{attrs:{"full-width":"",format:"24hr"},model:{value:t.log_payload.time,callback:function(e){t.$set(t.log_payload,"time",e)},expression:"log_payload.time"}},[e(_.a),t._v(" "),e(r.a,{attrs:{"x-small":"",color:"primary"},on:{click:function(e){t.time_menu=!1}}},[t._v("\n            Cancel\n          ")]),t._v(" "),e(r.a,{attrs:{"x-small":"",color:"primary"},on:{click:function(e){return t.$refs.time_menu_ref.save(t.log_payload.time)}}},[t._v("\n            OK\n          ")])],1):t._e()],1),t._v(" "),t.errors&&t.errors.time?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.time[0]))]):t._e()],1),t._v(" "),e(l.a,{attrs:{md:"3"}},[e(o.a,{staticClass:"mt-5",attrs:{label:"Device Name",placeholder:"Device Name",items:t.devices,"item-text":"name","item-value":"device_id",dense:"",outlined:""},on:{change:function(e){return t.handleChangeEvent(t.log_payload.user_id)}},model:{value:t.log_payload.device_id,callback:function(e){t.$set(t.log_payload,"device_id",e)},expression:"log_payload.device_id"}}),t._v(" "),t.errors&&t.errors.user_id?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.user_id[0]))]):t._e()],1),t._v(" "),e(l.a,{attrs:{cols:"12"}},[e(f.a,{attrs:{dense:"",outlined:"",placeholder:"Reason","auto-grow":"",required:""},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}}),t._v(" "),t.errors&&t.errors.reason?e("span",{staticClass:"error--text"},[t._v("\n        "+t._s(t.errors.reason[0])+"\n      ")]):t._e()],1),t._v(" "),e(l.a,{staticClass:"text-end",attrs:{col:"2"}},[e(r.a,{attrs:{small:"",color:"primary"},on:{click:t.submit}},[t._v(" Submit ")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},936:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(1041),l=(o=r)&&o.__esModule?o:{default:o};var c="undefined"==typeof window?[String,Array]:[String,Array,Element,NodeList];e.default={render:function(t){return t("div",{style:this.containerStyle},[t("img",{ref:"img",attrs:{src:this.src,alt:this.alt||"image",style:"max-width: 100%"},style:this.imgStyle})])},props:{containerStyle:Object,src:{type:String,default:""},alt:String,imgStyle:Object,viewMode:Number,dragMode:String,aspectRatio:Number,data:Object,preview:c,responsive:{type:Boolean,default:!0},restore:{type:Boolean,default:!0},checkCrossOrigin:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},guides:{type:Boolean,default:!0},center:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0},background:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!0},autoCropArea:Number,movable:{type:Boolean,default:!0},rotatable:{type:Boolean,default:!0},scalable:{type:Boolean,default:!0},zoomable:{type:Boolean,default:!0},zoomOnTouch:{type:Boolean,default:!0},zoomOnWheel:{type:Boolean,default:!0},wheelZoomRatio:Number,cropBoxMovable:{type:Boolean,default:!0},cropBoxResizable:{type:Boolean,default:!0},toggleDragModeOnDblclick:{type:Boolean,default:!0},minCanvasWidth:Number,minCanvasHeight:Number,minCropBoxWidth:Number,minCropBoxHeight:Number,minContainerWidth:Number,minContainerHeight:Number,ready:Function,cropstart:Function,cropmove:Function,cropend:Function,crop:Function,zoom:Function},mounted:function(){var t=this.$options.props,data=(t.containerStyle,t.src,t.alt,t.imgStyle,function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}(t,["containerStyle","src","alt","imgStyle"])),e={};for(var n in data)void 0!==this[n]&&(e[n]=this[n]);this.cropper=new l.default(this.$refs.img,e)},methods:{reset:function(){return this.cropper.reset()},clear:function(){return this.cropper.clear()},initCrop:function(){return this.cropper.crop()},replace:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.cropper.replace(t,e)},enable:function(){return this.cropper.enable()},disable:function(){return this.cropper.disable()},destroy:function(){return this.cropper.destroy()},move:function(t,e){return this.cropper.move(t,e)},moveTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this.cropper.moveTo(t,e)},relativeZoom:function(t,e){return this.cropper.zoom(t,e)},zoomTo:function(t,e){return this.cropper.zoomTo(t,e)},rotate:function(t){return this.cropper.rotate(t)},rotateTo:function(t){return this.cropper.rotateTo(t)},scaleX:function(t){return this.cropper.scaleX(t)},scaleY:function(t){return this.cropper.scaleY(t)},scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this.cropper.scale(t,e)},getData:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.cropper.getData(t)},setData:function(data){return this.cropper.setData(data)},getContainerData:function(){return this.cropper.getContainerData()},getImageData:function(){return this.cropper.getImageData()},getCanvasData:function(){return this.cropper.getCanvasData()},setCanvasData:function(data){return this.cropper.setCanvasData(data)},getCropBoxData:function(){return this.cropper.getCropBoxData()},setCropBoxData:function(data){return this.cropper.setCropBoxData(data)},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.cropper.getCroppedCanvas(t)},setAspectRatio:function(t){return this.cropper.setAspectRatio(t)},setDragMode:function(t){return this.cropper.setDragMode(t)}}}},963:function(t,e,n){"use strict";n(12),n(14),n(11),n(6),n(18),n(9),n(19);var o=n(2),r=(n(28),n(57),n(926),n(221)),l=n(8);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var d=Object(l.a)(r.a);e.a=d.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},r.a.options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{autoGrow:function(t){var e=this;this.$nextTick((function(){var n;t?e.calculateInputHeight():null===(n=e.$refs.input)||void 0===n||n.style.removeProperty("height")}))},lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var input=this.$refs.input;if(input){input.style.height="0";var t=input.scrollHeight,e=parseInt(this.rows,10)*parseFloat(this.rowHeight);input.style.height=Math.max(e,t)+"px"}},genInput:function(){var input=r.a.options.methods.genInput.call(this);return input.tag="textarea",delete input.data.attrs.type,input.data.attrs.rows=this.rows,input},onInput:function(t){r.a.options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},964:function(t,e,n){"use strict";var o=n(2),r=(n(41),n(61),n(363),n(11),n(6),n(9),n(57),n(103),n(12),n(14),n(18),n(19),n(8)),l=n(121),c=n(155);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=Object(r.a)(l.a,Object(c.b)("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(input){var t=this,e=function(input){return input.$watch("hasError",(function(e){t.$set(t.errorBag,input._uid,e)}),{immediate:!0})},n={_uid:input._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?n.shouldValidate=input.$watch("shouldValidate",(function(o){o&&(t.errorBag.hasOwnProperty(input._uid)||(n.valid=e(input)))})):n.valid=e(input),n},validate:function(){return 0===this.inputs.filter((function(input){return!input.validate(!0)})).length},reset:function(){this.inputs.forEach((function(input){return input.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(input){return input.resetValidation()})),this.resetErrorBag()},register:function(input){this.inputs.push(input),this.watchers.push(this.watchInput(input))},unregister:function(input){var t=this.inputs.find((function(i){return i._uid===input._uid}));if(t){var e=this.watchers.find((function(i){return i._uid===t._uid}));e&&(e.valid(),e.shouldValidate()),this.watchers=this.watchers.filter((function(i){return i._uid!==t._uid})),this.inputs=this.inputs.filter((function(i){return i._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:h({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},980:function(t,e,n){"use strict";n.r(e);var o=n(921),r=n(117),l=n(138),c=n(79),d=n(541),h=n(539),m=n(903),_=n(964),v=n(211),f=n(338),y=n(10),x=n(538),w=n(900),k=n(360),O=(n(33),n(17)),D=(n(69),n(70),n(11),n(6),{props:["endpoint","shift_type_id","system_user_id"],data:function(){return{valid:!1,snackbar:!1,loading:!1,response:null,selectAllEmployee:!1,result:[],editItems:{attendance_logs_id:"",UserID:"",device_id:"",user_id:"",reason:"",date:"",UserIDs:[],dates:[],time:null},employees:[]}},computed:{isIndeterminateEmployee:function(){return this.editItems.UserIDs.length>0&&this.editItems.UserIDs.length<this.employees.length}},watch:{selectAllEmployee:function(t){this.editItems.UserIDs=t?this.employees.map((function(t){return t.system_user_id})):[]}},created:function(){var t=this;return Object(O.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("fetchDropDowns",{key:"employeeList",endpoint:"employee-list",refresh:!0});case 3:t.employees=e.sent,t.system_user_id&&(n=t.employees.filter((function(e){return e.system_user_id==t.system_user_id})),t.employees=n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching data:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},methods:{toggleEmployeeSelection:function(){this.selectAllEmployee=!this.selectAllEmployee},handleDatesFilter:function(t){this.editItems.dates=t},renderByType:function(t){var e=this,n=this.editItems,o=n.UserID,r=n.date,l=n.reason,c=n.UserIDs,d=n.dates;if(c.length&&d.length){this.result=["Processing..."],this.loading=!0;var h={params:{date:r,UserID:o,updated_by:this.$auth.user.id,company_ids:[this.$auth.user.company_id],manual_entry:!0,reason:l,employee_ids:c,dates:d,shift_type_id:this.shift_type_id}},m="/"+t;"render_off"!=t&&"render_absent"!=t&&(m="render_logs"),this.$axios.get(m,h).then((function(t){var data=t.data;e.loading=!1,"render_logs"===m?(e.result=data,e.$emit("update-data-table")):e.result=[h]})).catch((function(t){return console.log(t)}))}else alert("System User Id and Date field is required")}},components:{DateRangePickerCommon:n(986).default}}),j=n(60),component=Object(j.a)(D,(function(){var t=this,e=t._self._c;return e("div",[e(w.a,{attrs:{top:"top",color:"secondary",elevation:"24"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.response)+"\n  ")]),t._v(" "),e(c.c,[e(m.a,[e(x.a,[e(_.a,{ref:"form",staticStyle:{width:"100%"},attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(x.a,[e(h.a,{attrs:{md:"6"}},[e(o.a,{staticClass:"mt-5",attrs:{placeholder:"Employee Device Id",items:t.employees,"item-text":"name_with_user_id","item-value":"system_user_id",dense:"",outlined:"",multiple:""},scopedSlots:t._u([t.employees.length&&!t.system_user_id?{key:"prepend-item",fn:function(){return[e(v.a,{on:{click:t.toggleEmployeeSelection}},[e(f.a,[e(d.a,{attrs:{indeterminate:t.isIndeterminateEmployee,"true-value":!0,"false-value":!1},on:{click:t.toggleEmployeeSelection},model:{value:t.selectAllEmployee,callback:function(e){t.selectAllEmployee=e},expression:"selectAllEmployee"}})],1),t._v(" "),e(y.a,[e(y.c,[t._v("\n                        "+t._s(t.selectAllEmployee?"Unselect All":"Select All")+"\n                      ")])],1)],1)]},proxy:!0}:null,{key:"selection",fn:function(n){var o=n.item,r=n.index;return[0===r&&1==t.editItems.UserIDs.length?e("span",[t._v(t._s(o.name))]):1===r&&t.editItems.UserIDs.length==t.employees.length?e("span",{staticClass:""},[t._v("\n                    All Selected\n                  ")]):1===r?e("span",{staticClass:""},[t._v("\n                    Selected "+t._s(t.editItems.UserIDs.length)+" Employee(s)\n                  ")]):t._e()]}}],null,!0),model:{value:t.editItems.UserIDs,callback:function(e){t.$set(t.editItems,"UserIDs",e)},expression:"editItems.UserIDs"}})],1),t._v(" "),e(h.a,{staticClass:"pt-8",attrs:{md:"6"}},[e("DateRangePickerCommon",{on:{"selected-dates":t.handleDatesFilter}})],1),t._v(" "),e(h.a,{attrs:{cols:"12"}},[e(l.a,{attrs:{outlined:""}},[e("ul",{staticStyle:{height:"150px","overflow-y":"scroll"}},t._l(t.result,(function(n,o){return e("li",{key:o},[e("div",[t._v(t._s(n))])])})),0)])],1)],1)],1)],1)],1)],1),t._v(" "),e(c.a,[e(k.a),t._v(" "),e("span",{staticClass:"mx-2"},[t._v("Render As: ")]),t._v(" "),e(r.a,{staticClass:"primary",attrs:{loading:t.loading,small:""},on:{click:function(e){return t.renderByType(t.endpoint)}}},[t._v("Log")])],1)],1)}),[],!1,null,null,null);e.default=component.exports},984:function(t,e,n){var content=n(985);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("59f225a8",content,!0,{sourceMap:!1})},985:function(t,e,n){var o=n(20)((function(i){return i[1]}));o.push([t.i,".theme--light.v-input--switch .v-input--switch__thumb{color:#fff}.theme--light.v-input--switch .v-input--switch__track{color:rgba(0,0,0,.38)}.theme--light.v-input--switch.v-input--is-disabled:not(.v-input--is-dirty) .v-input--switch__thumb{color:#fafafa!important}.theme--light.v-input--switch.v-input--is-disabled:not(.v-input--is-dirty) .v-input--switch__track{color:rgba(0,0,0,.12)!important}.theme--dark.v-input--switch .v-input--switch__thumb{color:#bdbdbd}.theme--dark.v-input--switch .v-input--switch__track{color:hsla(0,0%,100%,.3)}.theme--dark.v-input--switch.v-input--is-disabled:not(.v-input--is-dirty) .v-input--switch__thumb{color:#424242!important}.theme--dark.v-input--switch.v-input--is-disabled:not(.v-input--is-dirty) .v-input--switch__track{color:hsla(0,0%,100%,.1)!important}.v-input--switch__thumb,.v-input--switch__track{background-color:currentColor;pointer-events:none;transition:inherit}.v-input--switch__track{border-radius:8px;height:14px;left:2px;opacity:.6;position:absolute;right:2px;top:calc(50% - 7px);width:36px}.v-input--switch__thumb{align-items:center;border-radius:50%;display:flex;height:20px;justify-content:center;position:relative;top:calc(50% - 10px);transition:.3s cubic-bezier(.25,.8,.5,1);width:20px}.v-input--switch .v-input--selection-controls__input{transition:opacity .3s cubic-bezier(.25,.8,.5,1);width:38px}.v-input--switch .v-input--selection-controls__ripple{top:calc(50% - 24px)}.v-input--switch.v-input--dense .v-input--switch__thumb{height:18px;width:18px}.v-input--switch.v-input--dense .v-input--switch__track{height:12px;width:32px}.v-input--switch.v-input--dense.v-input--switch--inset .v-input--switch__track{height:22px;left:-3px;top:calc(50% - 12px);width:44px}.v-input--switch.v-input--dense .v-input--selection-controls__ripple{top:calc(50% - 22px)}.v-input--switch.v-input--is-dirty.v-input--is-disabled .v-input--selection-controls__input{opacity:.6}.v-application--is-ltr .v-input--switch .v-input--selection-controls__ripple{left:-14px}.v-application--is-ltr .v-input--switch.v-input--dense .v-input--selection-controls__ripple{left:-12px}.v-application--is-ltr .v-input--switch.v-input--is-dirty .v-input--selection-controls__ripple,.v-application--is-ltr .v-input--switch.v-input--is-dirty .v-input--switch__thumb{transform:translate(20px)}.v-application--is-rtl .v-input--switch .v-input--selection-controls__ripple{right:-14px}.v-application--is-rtl .v-input--switch.v-input--dense .v-input--selection-controls__ripple{right:-12px}.v-application--is-rtl .v-input--switch.v-input--is-dirty .v-input--selection-controls__ripple,.v-application--is-rtl .v-input--switch.v-input--is-dirty .v-input--switch__thumb{transform:translate(-20px)}.v-input--switch:not(.v-input--switch--flat):not(.v-input--switch--inset) .v-input--switch__thumb{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.v-input--switch--inset .v-input--selection-controls__input,.v-input--switch--inset .v-input--switch__track{width:48px}.v-input--switch--inset .v-input--switch__track{border-radius:14px;height:28px;left:-4px;opacity:.32;top:calc(50% - 14px)}.v-application--is-ltr .v-input--switch--inset .v-input--selection-controls__ripple,.v-application--is-ltr .v-input--switch--inset .v-input--switch__thumb{transform:translate(0)!important}.v-application--is-rtl .v-input--switch--inset .v-input--selection-controls__ripple,.v-application--is-rtl .v-input--switch--inset .v-input--switch__thumb{transform:translate(-6px)!important}.v-application--is-ltr .v-input--switch--inset.v-input--is-dirty .v-input--selection-controls__ripple,.v-application--is-ltr .v-input--switch--inset.v-input--is-dirty .v-input--switch__thumb{transform:translate(20px)!important}.v-application--is-rtl .v-input--switch--inset.v-input--is-dirty .v-input--selection-controls__ripple,.v-application--is-rtl .v-input--switch--inset.v-input--is-dirty .v-input--switch__thumb{transform:translate(-26px)!important}",""]),o.locals={},t.exports=o},986:function(t,e,n){"use strict";n.r(e);var o=n(117),r=n(138),l=n(1584),c=n(888),d=n(221),h=(n(59),n(120),n(366),new Date(Date.now()-6e4*(new Date).getTimezoneOffset())),m=new Date(h);m.setMonth(m.getMonth()+1);var _=h.toISOString().slice(0,10),v=m.toISOString().slice(0,10),f={props:["column","disabled"],data:function(){return{menu:!1,menu2:!1,showPicker:!0,startDates:[_],endDates:[v],finalDates:[],min:v}},computed:{datesLabel:function(){return this.finalDates.join(" ~ ")}},methods:{firstPicker:function(){this.startDates.sort((function(a,b){return a.localeCompare(b)})),this.endDates=[],this.finalDates=this.startDates,this.$emit("selected-dates",this.finalDates)},secondPicker:function(){this.endDates.sort((function(a,b){return a.localeCompare(b)}));var t=this.endDates.length?this.endDates[this.endDates.length-1]:this.startDates[this.startDates.length-1];this.finalDates=[this.startDates[0],t],this.startDates=this.finalDates,this.endDates=this.finalDates,this.$emit("selected-dates",this.finalDates),this.min=this.startDates[0]},clearDates:function(){this.clearStartDates(),this.clearEndDates()},clearStartDates:function(){this.finalDates=[],this.startDates=[]},clearEndDates:function(){this.finalDates=[],this.endDates=[]}}},y=n(60),component=Object(y.a)(f,(function(){var t=this,e=t._self._c;return e(c.a,{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on;return[e(d.a,t._g({attrs:{"hide-details":!0,outlined:"",dense:"",readonly:"",placeholder:"Select Date Range"},model:{value:t.datesLabel,callback:function(e){t.datesLabel=e},expression:"datesLabel"}},o))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),e("div",{staticClass:"text-center",staticStyle:{padding:"0"}},[e(l.a,{attrs:{persistant:"","no-title":"",color:"primary",range:"",scrollable:""},on:{input:t.firstPicker},model:{value:t.startDates,callback:function(e){t.startDates=e},expression:"startDates"}}),t._v(" "),e(l.a,{attrs:{"no-title":"",color:"primary",range:"",min:t.min},on:{input:t.secondPicker},model:{value:t.endDates,callback:function(e){t.endDates=e},expression:"endDates"}}),t._v(" "),e(r.a,{staticClass:"text-right pa-2"},[e(o.a,{attrs:{dark:"",color:"background","x-small":""},on:{click:t.clearDates}},[t._v("\n        clear\n      ")]),t._v(" "),e(o.a,{attrs:{dark:"",color:"background","x-small":""},on:{click:function(e){t.menu=!1}}},[t._v("\n        close\n      ")]),t._v(" "),e(o.a,{attrs:{dark:"",color:"background","x-small":""},on:{click:function(e){return t.$refs.menu.save(t.secondPicker)}}},[t._v("\n        OK\n      ")])],1)],1)])}),[],!1,null,null,null);e.default=component.exports},988:function(t,e,n){var content=n(1005);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("5c1f2cc4",content,!0,{sourceMap:!1})},992:function(t,e,n){"use strict";n.r(e);var o=n(921),r=n(117),l=n(138),c=n(79),d=n(539),h=n(903),m=n(1583),_=n(1584),v=n(361),f=n(889),y=n(964),x=n(116),w=n(888),k=n(538),O=n(920),D=n(900),j=n(360),C=n(221),I=n(963),S=n(1804),M=n(99),$=n(886),A=n(882),L=(n(33),n(37),n(12),n(14),n(11),n(6),n(18),n(9),n(19),n(17)),E=n(2);n(69),n(31),n(273),n(59),n(546),n(70),n(58),n(57),n(120);function T(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function R(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(e){Object(E.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var P={props:["title","shift_type_id","headers","render_endpoint","process_file_endpoint"],data:function(){var t;return t={filters:{},attendancFilters:!1,isFilter:!1,totalRowsCount:0,datatable_search_textbox:"",datatable_filter_date:"",filter_employeeid:"",snack:!1,snackColor:"",snackText:"",date:null,menu:!1,selectedItems:[],time_table_dialog:!1,log_details:!1,overtime:!1,options:{}},Object(E.a)(t,"date",null),Object(E.a)(t,"menu",!1),Object(E.a)(t,"loading",!1),Object(E.a)(t,"time_menu",!1),Object(E.a)(t,"manual_time_menu",!1),Object(E.a)(t,"Model","Visitor  Reports"),Object(E.a)(t,"endpoint","report"),Object(E.a)(t,"search",""),Object(E.a)(t,"snackbar",!1),Object(E.a)(t,"add_manual_log",!1),Object(E.a)(t,"dialog",!1),Object(E.a)(t,"generateLogsDialog",!1),Object(E.a)(t,"reportSync",!1),Object(E.a)(t,"from_date",null),Object(E.a)(t,"from_menu",!1),Object(E.a)(t,"to_date",null),Object(E.a)(t,"to_menu",!1),Object(E.a)(t,"ids",[]),Object(E.a)(t,"departments",[]),Object(E.a)(t,"scheduled_employees",[]),Object(E.a)(t,"DateRange",!0),Object(E.a)(t,"devices",[]),Object(E.a)(t,"valid",!0),Object(E.a)(t,"nameRules",[function(t){return!!t||"reason is required"}]),Object(E.a)(t,"timeRules",[function(t){return!!t||"time is required"}]),Object(E.a)(t,"deviceRules",[function(t){return!!t||"device is required"}]),Object(E.a)(t,"main_report_type","Multi In/Out Report"),Object(E.a)(t,"daily_menu",!1),Object(E.a)(t,"daily_date",null),Object(E.a)(t,"dailyDate",!1),Object(E.a)(t,"editItems",{attendance_logs_id:"",UserID:"",device_id:"",user_id:"",reason:"",date:"",time:null,manual_entry:!1}),Object(E.a)(t,"loading",!1),Object(E.a)(t,"total",0),Object(E.a)(t,"report_type","Monthly"),Object(E.a)(t,"payload",{from_date:null,to_date:null,daily_date:null,employee_id:"",department_ids:[],status:"-1",late_early:"Select All"}),Object(E.a)(t,"log_payload",{user_id:null,device_id:"",date:null,time:null}),Object(E.a)(t,"log_list",[]),Object(E.a)(t,"snackbar",!1),Object(E.a)(t,"editedIndex",-1),Object(E.a)(t,"editedItem",{name:""}),Object(E.a)(t,"defaultItem",{name:""}),Object(E.a)(t,"response",""),Object(E.a)(t,"data",[]),Object(E.a)(t,"shifts",[]),Object(E.a)(t,"errors",[]),Object(E.a)(t,"custom_options",{}),Object(E.a)(t,"statuses",[{name:"Select All",id:"-1"},{name:"Present",id:"P"},{name:"Absent",id:"A"},{name:"Missing",id:"M"},{name:"Off",id:"O"},{name:"Leave",id:"L"},{name:"Holiday",id:"H"},{name:"Vaccation",id:"V"},{name:"Manual Entry",id:"ME"}]),Object(E.a)(t,"max_date",null),t},computed:{formTitle:function(){return-1===this.editedIndex?"New":"Edit"}},watch:{dialog:function(t){t||this.close(),this.errors=[],this.search=""},main_report_type:function(){},options:{handler:function(){this.getDataFromApi()},deep:!0}},created:function(){var t=this;return Object(L.a)(regeneratorRuntime.mark((function e(){var n,dt,o,r,dd;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.main_report_type=t.main_report_type_props,t.loading=!0,t.payload.daily_date=(new Date).toJSON().slice(0,10),t.payload.department_ids=t.$auth.user.assignedDepartments,n={params:{per_page:1e3,company_id:t.$auth.user.company_id}},t.getDepartments(n),t.getDeviceList(n),dt=new Date,o=dt.getFullYear(),r=dt.getMonth()+1,dd=new Date(dt.getFullYear(),r,0),r=r<10?"0"+r:r,t.payload.from_date="".concat(o,"-").concat(r,"-01"),t.payload.to_date="".concat(o,"-").concat(r,"-").concat(dd.getDate()),e.next=16,t.getDataFromApi();case 16:case"end":return e.stop()}}),e)})))()},methods:{datatable_cancel:function(){this.datatable_search_textbox=""},datatable_open:function(){this.datatable_search_textbox=""},datatable_close:function(){this.loading=!1},setSevenDays:function(t){var e=new Date(t);e.setDate(e.getDate()+6);var n=new Date(e),o=n.getDate();o=o<"10"?"0"+o:o;var r=n.getMonth()+1;r=r<10?"0"+r:r;var l=n.getFullYear();this.max_date="".concat(l,"-").concat(r,"-").concat(o),this.payload.to_date="".concat(l,"-").concat(r,"-").concat(o)},setThirtyDays:function(t){var e=new Date(t);e.setDate(e.getDate()+29);var n=new Date(e),o=n.getDate();o=o<"10"?"0"+o:o;var r=n.getMonth()+1;r=r<10?"0"+r:r;var l=n.getFullYear();this.max_date="".concat(l,"-").concat(r,"-").concat(o),this.payload.to_date="".concat(l,"-").concat(r,"-").concat(o)},set_date_save:function(t,e){t.save(e),"Weekly"==this.report_type?this.setSevenDays(this.payload.from_date):"Monthly"!=this.report_type&&"Custom"!=this.report_type||this.setThirtyDays(this.payload.from_date),this.getDataFromApi()},setFromDate:function(){if(null==this.payload.from_date){var dt=new Date,t=dt.getFullYear(),e=dt.getMonth()+1,n=e<10?"0"+e:e;this.payload.from_date="".concat(t,"-").concat(n,"-01")}},changeReportType:function(t){switch(this.setFromDate(),t){case"Daily":this.setDailyDate();break;case"Weekly":this.setSevenDays(this.payload.from_date);break;case"Monthly":case"Custom":this.setThirtyDays(this.payload.from_date);break;default:this.max_date=null}this.getDataFromApi()},getDeviceList:function(t){var e=this;this.$axios.get("/device_list",t).then((function(t){var data=t.data;e.devices=data}))},setDailyDate:function(){this.payload.daily_date=(new Date).toJSON().slice(0,10),delete this.payload.from_date,delete this.payload.to_date},store_schedule:function(){var t=this,e=this.log_payload,n={UserID:e.user_id,LogTime:e.date+" "+e.time,DeviceID:e.device_id,company_id:this.$auth.user.company_id};this.loading=!0,this.$axios.post("/generate_log",n).then((function(e){e.data;t.getDataFromApi(),t.add_manual_log=!1,t.loading=!1})).catch((function(e){var n=e.message;t.snackbar=!0,t.response=n}))},setEmployeeId:function(t){this.$store.commit("employee_id",t)},get_time_slots:function(){this.getShift(this.custom_options)},getShift:function(t){var e=this;this.$axios.get("/shift",t).then((function(t){var data=t.data;e.shifts=data.data.map((function(t){return{name:t.name,on_duty_time:t.time_table&&t.time_table.on_duty_time||"",off_duty_time:t.time_table&&t.time_table.off_duty_time||""}})),e.time_table_dialog=!0}))},getScheduledEmployees:function(){var t=this,e={params:{per_page:1e3,company_id:this.$auth.user.company_id,department_ids:this.payload.department_ids,shift_type_id:this.shift_type_id}};this.$axios.get("/scheduled_employees_with_type",e).then((function(e){var data=e.data;t.scheduled_employees=data,t.scheduled_employees.unshift({system_user_id:"",name_with_user_id:"Select All"}),t.getDataFromApi()}))},getDepartments:function(t){var e=this;return Object(L.a)(regeneratorRuntime.mark((function n(){var o,r,l,c,d,h,data,m,_;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=e.$auth.user,r=o.employee,l=o.user_type,c="departments",n.prev=2,"employee"!==l){n.next=13;break}return d=r.id,c="assigned-department-employee",n.next=8,e.$axios.get("".concat(c,"/").concat(d),t);case 8:h=n.sent,data=h.data,e.departments=data,n.next=18;break;case 13:return n.next=15,e.$axios.get(c,t);case 15:m=n.sent,_=m.data,e.departments=_.data;case 18:n.next=23;break;case 20:n.prev=20,n.t0=n.catch(2),console.error("Error fetching departments:",n.t0);case 23:case"end":return n.stop()}}),n,null,[[2,20]])})))()},caps:function(t){return t.replace(/_/g," ").replace(/\b\w/g,(function(t){return t.toUpperCase()}))},can:function(t){return this.$pagePermission.can(t,this)},applyFilters:function(t,e){if(e&&e.length<2)return!1;this.getDataFromApi()},toggleFilter:function(){this.isFilter=!this.isFilter},clearFilters:function(){this.filters={},this.isFilter=!1,this.getDataFromApi()},getDataFromApi:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.endpoint,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.loading=!0;var r=this.payload.late_early;if("Select All"===r)r="SA";else r=r.charAt(0);var l=this.options,c=l.sortBy,d=l.sortDesc,h=l.page,m=l.itemsPerPage,_={params:R(R({page:h,sortBy:c?c[0]:"",sortDesc:d?d[0]:"",per_page:m,company_id:this.$auth.user.company_id,report_type:this.report_type,shift_type_id:this.shift_type_id,status:this.payload.status,late_early:r,overtime:this.overtime?1:0},this.filters),this.payload)};""!=n&&(_.params[n]=o),this.$axios.get(e,_).then((function(e){var data=e.data;if(""!=n&&0==data.data.length)return t.snack=!0,t.snackColor="error",t.snackText="No Results Found",t.loading=!1,!1;t.data=data.data,t.total=data.total,t.loading=!1,t.totalRowsCount=data.total}))},editItem:function(t){this.dialog=!0,this.editItems=t,this.editItems.UserID=t.employee_id,this.editItems.date=t.edit_date},update:function(){var t=this;if(this.$refs.form.validate()){var e={UserID:this.editItems.UserID,LogTime:this.editItems.date+" "+this.editItems.time,DeviceID:this.editItems.device_id,user_id:this.editItems.UserID,company_id:this.$auth.user.company_id};this.$axios.post("/generate_manual_log",e).then((function(e){var data=e.data;t.loading=!1,data.status?(t.snackbar=!0,t.response=data.message,t.renderByType(t.render_endpoint),t.close(),t.editItems=[]):t.errors=data.errors})).catch((function(t){return console.log(t)}))}},renderByType:function(t){var e=this,n=this.editItems.UserID,o=this.editItems.date;if(n&&o){var r={params:{date:this.editItems.date,UserID:this.editItems.UserID,updated_by:this.$auth.user.id,company_id:this.$auth.user.company_id,manual_entry:!0,reason:this.editItems.reason}};this.$axios.get("/"+t,r).then((function(t){var data=t.data;e.loading=!1,e.snackbar=!0,e.response=data.message,e.getDataFromApi()})).catch((function(t){return console.log(t)}))}else alert("System User Id and Date field is required")},viewItem:function(t){var e=this;this.log_list=[];var n={params:{per_page:500,UserID:t.employee_id,LogTime:t.edit_date,company_id:this.$auth.user.company_id}};this.log_details=!0,this.$axios.get("attendance_single_list",n).then((function(t){var data=t.data;e.log_list=data.data}))},close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}),300)},pdfDownload:function(){var t=document.createElement("a");t.setAttribute("href","http://192.168.88.30:8000/api/pdf"),t.setAttribute("target","_blank"),t.click()},process_file:function(t){if(!this.data||this.data.length)if(this.payload.department_ids.length){t=t.toLowerCase().replace("custom","monthly");var path="http://192.168.88.30:8000/api/"+this.process_file_endpoint+t.toLowerCase(),e="";e+="".concat(path),e+="?main_shift_type=".concat(this.shift_type_id),e+="&shift_type_id=".concat(this.shift_type_id),e+="&company_id=".concat(this.$auth.user.company_id),e+="&status=".concat(this.payload.status),this.payload.department_ids&&this.payload.department_ids.length>0&&(e+="&department_ids=".concat(this.payload.department_ids.join(","))),e+="&employee_id=".concat(this.payload.employee_id),e+="&report_type=".concat(this.report_type),"Daily"==this.report_type?e+="&daily_date=".concat(this.payload.daily_date):e+="&from_date=".concat(this.payload.from_date,"&to_date=").concat(this.payload.to_date);var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("target","_blank"),n.click(),this.getDataFromApi()}else alert("Department Must be selected");else alert("No data found")},setStatusLabel:function(t){return{A:"Absent",P:"Present",M:"Missing",O:"Week Off",L:"Leave",H:"Holiday",V:"Vaccation"}[t]}}},B=P,N=n(60),component=Object(N.a)(B,(function(){var t=this,e=t._self._c;return t.can("attendance_report_access")?e("div",[e("div",{staticClass:"text-center ma-2"},[e(D.a,{attrs:{top:"top",color:"secondary",elevation:"24"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.response)+"\n    ")]),t._v(" "),e(D.a,{attrs:{timeout:3e3,color:t.snackColor},scopedSlots:t._u([{key:"action",fn:function(n){var o=n.attrs;return[e(r.a,t._b({attrs:{text:""},on:{click:function(e){t.snack=!1}}},"v-btn",o,!1),[t._v(" Close ")])]}}],null,!1,3090489768),model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n      "+t._s(t.snackText)+"\n\n      ")])],1),t._v(" "),t.can("attendance_report_view")?e(l.a,{attrs:{elevation:"0"}},[e(M.a,{staticClass:"background",attrs:{dense:"",flat:""}},[e("span",{staticClass:"headline white--text"},[t._v(" "+t._s(t.title)+" Filters ")]),t._v(" "),e(j.a),t._v(" "),t.can("attendance_report_view")?e(A.a,{attrs:{top:"",color:"primary"},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(r.a,t._g(t._b({staticClass:"ma-0",attrs:{"x-small":"",ripple:!1,text:""},on:{click:function(e){return t.process_file(t.report_type)}}},"v-btn",l,!1),o),[e(x.a,{staticClass:"white--text"},[t._v("mdi-printer-outline")])],1)]}}],null,!1,1615199048)},[t._v(" "),e("span",[t._v("PRINT")])]):t._e(),t._v(" "),t.can("attendance_report_view")?e(A.a,{attrs:{top:"",color:"primary"},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(r.a,t._g(t._b({attrs:{"x-small":"",ripple:!1,text:""},on:{click:function(e){return t.process_file(t.report_type+"_download_pdf")}}},"v-btn",l,!1),o),[e(x.a,{staticClass:"white--text"},[t._v("mdi-download-outline")])],1)]}}],null,!1,2416199686)},[t._v(" "),e("span",[t._v("DOWNLOAD")])]):t._e(),t._v(" "),t.can("attendance_report_view")?e(A.a,{attrs:{top:"",color:"primary"},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(r.a,t._g(t._b({attrs:{"x-small":"",ripple:!1,text:""},on:{click:function(e){return t.process_file(t.report_type+"_download_csv")}}},"v-btn",l,!1),o),[e(x.a,{staticClass:"white--text"},[t._v("mdi-file-outline")])],1)]}}],null,!1,502709856)},[t._v(" "),e("span",[t._v("CSV")])]):t._e()],1),t._v(" "),e(c.c,{staticClass:"py-3"},[e(k.a,[e(d.a,{attrs:{md:"3"}},[e("div",[t._v("Frequency")]),t._v(" "),e(o.a,{staticClass:"mt-2",attrs:{outlined:"",dense:"","x-small":"",items:["Daily","Weekly","Monthly","Custom"],"item-text":"['Daily']","hide-details":!0},on:{change:function(e){return t.changeReportType(t.report_type)}},model:{value:t.report_type,callback:function(e){t.report_type=e},expression:"report_type"}})],1),t._v(" "),e(d.a,{attrs:{md:"3"}},[t._v("\n          Status\n          "),e(O.a,{staticClass:"mt-2",attrs:{outlined:"",dense:"","x-small":"",items:t.statuses,"item-value":"id","item-text":"name","hide-details":!0},on:{change:function(e){return t.getDataFromApi("report")}},model:{value:t.payload.status,callback:function(e){t.$set(t.payload,"status",e)},expression:"payload.status"}})],1),t._v(" "),e(d.a,{attrs:{md:"3"}},[t._v("\n          Departments\n          "),e(o.a,{staticClass:"mt-2",attrs:{outlined:"",dense:"",multiple:"","x-small":"",items:t.departments,"item-value":"id","item-text":"name","hide-details":!0},on:{change:t.getScheduledEmployees},model:{value:t.payload.department_ids,callback:function(e){t.$set(t.payload,"department_ids",e)},expression:"payload.department_ids"}})],1),t._v(" "),e(d.a,{attrs:{md:"3"}},[t._v("\n          Employee ID\n          "),e(o.a,{staticClass:"mt-2",attrs:{outlined:"",dense:"","x-small":"",items:t.scheduled_employees,"item-value":"system_user_id","item-text":"name_with_user_id","hide-details":!0},on:{change:function(e){return t.getDataFromApi("report")}},model:{value:t.payload.employee_id,callback:function(e){t.$set(t.payload,"employee_id",e)},expression:"payload.employee_id"}})],1),t._v(" "),"Daily"==t.report_type?e(d.a,{attrs:{md:"3"}},[e("div",[t._v("Date")]),t._v(" "),e("div",{staticClass:"text-left mt-2"},[e(w.a,{ref:"daily_menu",staticClass:"mt-2",attrs:{"close-on-content-click":!1,"return-value":t.daily_date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.daily_date=e},"update:return-value":function(e){t.daily_date=e}},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,r=n.attrs;return[e(C.a,t._g(t._b({attrs:{"hide-details":t.payload.daily_date,outlined:"",dense:"",readonly:""},model:{value:t.payload.daily_date,callback:function(e){t.$set(t.payload,"daily_date",e)},expression:"payload.daily_date"}},"v-text-field",r,!1),o))]}}],null,!1,398604961),model:{value:t.daily_menu,callback:function(e){t.daily_menu=e},expression:"daily_menu"}},[t._v(" "),e(_.a,{attrs:{"no-title":"",scrollable:""},model:{value:t.payload.daily_date,callback:function(e){t.$set(t.payload,"daily_date",e)},expression:"payload.daily_date"}},[e(j.a),t._v(" "),e(r.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.daily_menu=!1}}},[t._v("\n                  Cancel\n                ")]),t._v(" "),e(r.a,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.set_date_save(t.$refs.daily_menu,t.payload.daily_date)}}},[t._v("\n                  OK\n                ")])],1)],1)],1)]):t._e(),t._v(" "),"Daily"!==t.report_type?e(d.a,{attrs:{md:"3"}},[e("div",{staticClass:"text-left"},[e(w.a,{ref:"from_menu",attrs:{"close-on-content-click":!1,"return-value":t.from_date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.from_date=e},"update:return-value":function(e){t.from_date=e}},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,r=n.attrs;return[e("div",{staticClass:"mb-2"},[t._v("From Date")]),t._v(" "),e(C.a,t._g(t._b({attrs:{"hide-details":t.payload.from_date,outlined:"",dense:"",readonly:""},model:{value:t.payload.from_date,callback:function(e){t.$set(t.payload,"from_date",e)},expression:"payload.from_date"}},"v-text-field",r,!1),o))]}}],null,!1,217588953),model:{value:t.from_menu,callback:function(e){t.from_menu=e},expression:"from_menu"}},[t._v(" "),e(_.a,{attrs:{"no-title":"",scrollable:""},model:{value:t.payload.from_date,callback:function(e){t.$set(t.payload,"from_date",e)},expression:"payload.from_date"}},[e(j.a),t._v(" "),e(r.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.from_menu=!1}}},[t._v("\n                  Cancel\n                ")]),t._v(" "),e(r.a,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.set_date_save(t.$refs.from_menu,t.payload.from_date)}}},[t._v("\n                  OK\n                ")])],1)],1)],1)]):t._e(),t._v(" "),"Daily"!==t.report_type?e(d.a,{attrs:{md:"3"}},[e("div",{staticClass:"mb-2"},[t._v("To Date")]),t._v(" "),e("div",{staticClass:"text-left"},[e(w.a,{ref:"to_menu",attrs:{"close-on-content-click":!1,"return-value":t.to_date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.to_date=e},"update:return-value":function(e){t.to_date=e}},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,r=n.attrs;return[e(C.a,t._g(t._b({attrs:{"hide-details":t.payload.to_date,outlined:"",dense:"",readonly:""},model:{value:t.payload.to_date,callback:function(e){t.$set(t.payload,"to_date",e)},expression:"payload.to_date"}},"v-text-field",r,!1),o))]}}],null,!1,800297281),model:{value:t.to_menu,callback:function(e){t.to_menu=e},expression:"to_menu"}},[t._v(" "),e(_.a,{attrs:{max:t.max_date,"no-title":"",scrollable:""},model:{value:t.payload.to_date,callback:function(e){t.$set(t.payload,"to_date",e)},expression:"payload.to_date"}},[e(j.a),t._v(" "),e(r.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.to_menu=!1}}},[t._v("\n                  Cancel\n                ")]),t._v(" "),e(r.a,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.set_date_save(t.$refs.to_menu,t.payload.to_date)}}},[t._v("\n                  OK\n                ")])],1)],1)],1)]):t._e()],1)],1),t._v(" "),e(f.a)],1):t._e(),t._v(" "),t.can("attendance_report_view")?e(l.a,{staticClass:"mb-5 mt-5",attrs:{elevation:"0"}},[e(M.a,{staticClass:"background",attrs:{dense:"",dark:"",flat:""}},[e($.b,[e("span",[t._v(" "+t._s(t.title)+" ")])]),t._v(" "),e(r.a,{attrs:{title:"Reload","x-small":"",ripple:!1,text:""},on:{click:function(e){return t.clearFilters()}}},[e(x.a,{attrs:{dark:"",white:""}},[t._v("mdi-reload")])],1),t._v(" "),e(j.a),t._v(" "),e(r.a,{attrs:{title:"Generate Log","x-small":"",ripple:!1,text:""},on:{click:function(e){t.generateLogsDialog=!0}}},[e(x.a,{attrs:{dark:"",white:""}},[t._v("mdi-plus-circle")])],1),t._v(" "),e(r.a,{attrs:{"x-small":"",ripple:!1,text:"",title:"Render Report"},on:{click:function(e){t.reportSync=!0}}},[e(x.a,{attrs:{dark:"",color:"white"}},[t._v("mdi-cached")])],1)],1),t._v(" "),e(m.a,{staticClass:"elevation-1",attrs:{dense:"",headers:t.headers,items:t.data,loading:t.loading,options:t.options,"footer-props":{itemsPerPageOptions:[10,50,100,500,1e3]},"model-value":"data.id","server-items-length":t.totalRowsCount},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"header",fn:function(n){var o=n.props.headers;return[t.isFilter?e("tr",t._l(o,(function(header){return e("td",{key:header.text,staticClass:"table-search-header",staticStyle:{width:"40px"}},[header.filterable?e(C.a,{staticStyle:{"padding-left":"10px"},attrs:{id:"header.value",outlined:"",height:"10px",clearable:"",autocomplete:"off"},on:{input:function(e){return t.applyFilters(header.value,e)}},model:{value:t.filters[header.value],callback:function(e){t.$set(t.filters,header.value,e)},expression:"filters[header.value]"}}):[e(C.a,{staticStyle:{display:"none"},attrs:{outlined:"",height:"10px",clearable:"",autocomplete:"off"}})]],2)})),0):t._e()]}},{key:"item.date",fn:function(e){var n=e.item;return[t._v("\n        "+t._s(n.date)+"\n      ")]}},{key:"item.employee_id",fn:function(e){var n=e.item;return[t._v("\n        "+t._s(n.employee_id)+"\n      ")]}},{key:"item.employee_name",fn:function(e){var n=e.item;return[t._v("\n        "+t._s(n.employee.first_name)+" "+t._s(n.employee.last_name)+"\n      ")]}},{key:"item.status",fn:function(n){var o,l,c,d,h=n.item;return[e(A.a,{attrs:{top:"",color:"primary"},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[t._v("\n            "+t._s(t.setStatusLabel(h.status))+"\n            "),h.is_manual_entry?e(r.a,t._g(t._b({attrs:{color:"primary",text:""}},"v-btn",l,!1),o),[t._v("\n              (ME)\n            ")]):t._e()]}}],null,!0)},[t._v(" "),e("div",[t._v("Reason: "+t._s(null===(o=h.last_reason)||void 0===o?void 0:o.reason))]),t._v(" "),e("div",[t._v("Added By: "+t._s(null===(l=h.last_reason)||void 0===l||null===(c=l.user)||void 0===c?void 0:c.email))]),t._v(" "),e("div",[t._v("Created At: "+t._s(null===(d=h.last_reason)||void 0===d?void 0:d.created_at))])])]}},{key:"item.shift",fn:function(n){var o=n.item;return[o&&o.shift?e(A.a,{attrs:{top:"",color:"primary"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[e("div",t._g(t._b({staticClass:"primary--text"},"div",l,!1),r),[t._v("\n              "+t._s(o.shift&&o.shift.name||"---")+"\n            ")])]}}],null,!0)},[t._v(" "),t._l(o.shift,(function(n,o){return e("div",{key:o},["id"!==o?e("span",[t._v("\n              "+t._s(t.caps(o))+": "+t._s(n||"---"))]):t._e()])}))],2):e("span",[t._v("---")])]}},{key:"item.device_in",fn:function(n){var o=n.item;return[o&&o.device_in?e(A.a,{attrs:{top:"",color:"primary"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[e("div",t._g(t._b({staticClass:"primary--text"},"div",l,!1),r),[t._v("\n              "+t._s(o.device_in&&o.device_in.short_name||"---")+"\n            ")])]}}],null,!0)},[t._v(" "),t._l(o.device_in,(function(n,o){return e("div",{key:o},["id"!==o?e("span",[t._v("\n              "+t._s(t.caps(o))+": "+t._s(n||"---"))]):t._e()])}))],2):e("span",[t._v("---")])]}},{key:"item.device_out",fn:function(n){var o=n.item;return[o&&o.device_out?e(A.a,{attrs:{top:"",color:"primary"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[e("div",t._g(t._b({staticClass:"primary--text"},"div",l,!1),r),[t._v("\n              "+t._s(o.device_out&&o.device_out.short_name||"---")+"\n            ")])]}}],null,!0)},[t._v(" "),t._l(o.device_out,(function(n,o){return e("div",{key:o},["id"!==o?e("span",[t._v("\n              "+t._s(t.caps(o))+": "+t._s(n||"---"))]):t._e()])}))],2):e("span",[t._v("---")])]}},{key:"item.actions",fn:function(n){var o=n.item;return[e(x.a,{staticClass:"mr-2",attrs:{"x-small":"",color:"primary"},on:{click:function(e){return t.editItem(o)}}},[t._v("\n          mdi-pencil\n        ")]),t._v(" "),t.can("attendance_report_view")?e(x.a,{staticClass:"mr-2",attrs:{"x-small":"",color:"primary"},on:{click:function(e){return t.viewItem(o)}}},[t._v("\n          mdi-eye\n        ")]):t._e()]}}],null,!1,1444115655)})],1):t._e(),t._v(" "),e(k.a,{attrs:{justify:"center"}},[e(v.a,{attrs:{persistent:"","max-width":"600px"},model:{value:t.time_table_dialog,callback:function(e){t.time_table_dialog=e},expression:"time_table_dialog"}},[e(l.a,{staticClass:"darken-1"},[e(M.a,{staticClass:"primary",attrs:{dense:"",dark:"",flat:""}},[e("span",{staticClass:"text-h5"},[t._v("Time Slots")])]),t._v(" "),e(c.c,[e("ol",{staticClass:"pa-3"},t._l(t.shifts,(function(n,o){return e("li",{key:o},[t._v("\n              "+t._s(n&&n.name||"---")+"\n              "+t._s(n.on_duty_time?"(".concat(n.on_duty_time," - ").concat(n.off_duty_time,")"):"")+"\n            ")])})),0)])],1)],1)],1),t._v(" "),e(k.a,{attrs:{justify:"center"}},[e(v.a,{attrs:{persistent:"","max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(l.a,[e(c.d,{staticClass:"popup_background"},[e("span",{staticClass:"headline"},[t._v(" Update Log ")])]),t._v(" "),e(j.a),t._v(" "),e(x.a,{attrs:{outlined:"",dark:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n          mdi mdi-close-circle\n        ")]),t._v(" "),e(c.c,[e(h.a,[e(k.a,[e(y.a,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(d.a,{attrs:{md:"12"}},[e(w.a,{ref:"time_menu_ref",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.payload.time,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){return t.$set(t.payload,"time",e)},"update:return-value":function(e){return t.$set(t.payload,"time",e)}},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,r=n.attrs;return[e(C.a,t._g(t._b({attrs:{label:"Time",readonly:"",rules:t.timeRules},model:{value:t.editItems.time,callback:function(e){t.$set(t.editItems,"time",e)},expression:"editItems.time"}},"v-text-field",r,!1),o))]}}],null,!1,519462658),model:{value:t.time_menu,callback:function(e){t.time_menu=e},expression:"time_menu"}},[t._v(" "),t.time_menu?e(S.a,{attrs:{"full-width":"",format:"24hr"},model:{value:t.editItems.time,callback:function(e){t.$set(t.editItems,"time",e)},expression:"editItems.time"}},[e(j.a),t._v(" "),e(r.a,{attrs:{"x-small":"",color:"primary"},on:{click:function(e){t.time_menu=!1}}},[t._v("\n                        Cancel\n                      ")]),t._v(" "),e(r.a,{attrs:{"x-small":"",color:"primary"},on:{click:function(e){return t.$refs.time_menu_ref.save(t.editItems.time)}}},[t._v("\n                        OK\n                      ")])],1):t._e()],1),t._v(" "),t.errors&&t.errors.time?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.time[0]))]):t._e()],1),t._v(" "),e(d.a,{attrs:{md:"12"}},[e(o.a,{attrs:{label:"Select Device",items:t.devices,"item-text":"name","item-value":"device_id",rules:t.deviceRules},model:{value:t.editItems.device_id,callback:function(e){t.$set(t.editItems,"device_id",e)},expression:"editItems.device_id"}}),t._v(" "),t.errors&&t.errors.device_id?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.device_id[0]))]):t._e()],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e(I.a,{attrs:{filled:"",label:"Reason","auto-grow":"",rules:t.nameRules,required:""},model:{value:t.editItems.reason,callback:function(e){t.$set(t.editItems,"reason",e)},expression:"editItems.reason"}}),t._v(" "),t.errors&&t.errors.reason?e("span",{staticClass:"error--text"},[t._v("\n                    "+t._s(t.errors.reason[0])+"\n                  ")]):t._e()],1)],1)],1)],1)],1),t._v(" "),e(c.a,[e(j.a),t._v(" "),e(r.a,{staticClass:"error",attrs:{small:""},on:{click:t.close}},[t._v(" Cancel ")]),t._v(" "),e(r.a,{staticClass:"primary",attrs:{small:""},on:{click:t.update}},[t._v("Save")])],1)],1)],1)],1),t._v(" "),e(k.a,{attrs:{justify:"center"}},[e(v.a,{attrs:{persistent:"","max-width":"700px"},model:{value:t.reportSync,callback:function(e){t.reportSync=e},expression:"reportSync"}},[e(l.a,[e(c.d,{staticClass:"background"},[e("span",{staticClass:"headline white--text"},[t._v(" Render Report ")]),t._v(" "),e(j.a),t._v(" "),e(x.a,{staticClass:"gray",attrs:{dark:""},on:{click:function(e){t.reportSync=!1}}},[t._v("mdi-close-box")])],1),t._v(" "),e("RenderAttendance",{attrs:{endpoint:t.render_endpoint},on:{"update-data-table":function(e){return t.getDataFromApi()}}})],1)],1)],1),t._v(" "),e(k.a,{attrs:{justify:"center"}},[e(v.a,{attrs:{persistent:"","max-width":"700px"},model:{value:t.generateLogsDialog,callback:function(e){t.generateLogsDialog=e},expression:"generateLogsDialog"}},[e(l.a,[e(c.d,{staticClass:"background"},[e("span",{staticClass:"headline white--text"},[t._v(" Generate Log ")]),t._v(" "),e(j.a),t._v(" "),e(x.a,{attrs:{dark:""},on:{click:function(e){t.generateLogsDialog=!1}}},[t._v("mdi-close-box")])],1),t._v(" "),e(c.c,[e(h.a,[e(k.a,[e("GenerateLog",{attrs:{endpoint:t.render_endpoint},on:{"update-data-table":function(e){return t.getDataFromApi()}}})],1)],1)],1)],1)],1)],1),t._v(" "),e(v.a,{attrs:{persistent:"",width:"700"},model:{value:t.add_manual_log,callback:function(e){t.add_manual_log=e},expression:"add_manual_log"}},[e(l.a,[e(c.d,{staticClass:"text-h5 primary white--text darken-2",attrs:{dark:""}},[t._v("\n        Manual Log\n      ")]),t._v(" "),e(c.c,{staticClass:"pa-3"},[e(k.a,[e(d.a,{attrs:{md:"12"}},[e(C.a,{attrs:{label:"User Id"},model:{value:t.log_payload.user_id,callback:function(e){t.$set(t.log_payload,"user_id",e)},expression:"log_payload.user_id"}}),t._v(" "),t.errors&&t.errors.user_id?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.user_id[0]))]):t._e()],1),t._v(" "),e(d.a,{attrs:{md:"12"}},[e(o.a,{attrs:{label:"Select Device",items:t.devices,"item-text":"name","item-value":"id",rules:t.deviceRules},model:{value:t.log_payload.device_id,callback:function(e){t.$set(t.log_payload,"device_id",e)},expression:"log_payload.device_id"}}),t._v(" "),t.errors&&t.errors.device_id?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.device_id[0]))]):t._e()],1),t._v(" "),e(d.a,{attrs:{md:"12"}},[e(o.a,{attrs:{label:"In/Out",items:["In","Out"],rules:t.deviceRules},model:{value:t.log_payload.log_type,callback:function(e){t.$set(t.log_payload,"log_type",e)},expression:"log_payload.log_type"}},[t._v("\n              "+t._s(t.log_payload.log_type)+"\n            ")]),t._v(" "),t.errors&&t.errors.log_type?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.log_type[0]))]):t._e()],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"6"}},[e(w.a,{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,r=n.attrs;return[e(C.a,t._g(t._b({attrs:{label:"Date",readonly:""},model:{value:t.log_payload.date,callback:function(e){t.$set(t.log_payload,"date",e)},expression:"log_payload.date"}},"v-text-field",r,!1),o))]}}],null,!1,1153165614),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),e(_.a,{attrs:{"no-title":"",scrollable:""},model:{value:t.log_payload.date,callback:function(e){t.$set(t.log_payload,"date",e)},expression:"log_payload.date"}},[e(j.a),t._v(" "),e(r.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("\n                  Cancel\n                ")]),t._v(" "),e(r.a,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.log_payload.date)}}},[t._v("\n                  OK\n                ")])],1)],1)],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"6"}},[e(w.a,{ref:"manual_time_menu_ref",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.log_payload.time,transition:"scale-transition","offset-y":"","max-width":"290px","min-height":"320px"},on:{"update:returnValue":function(e){return t.$set(t.log_payload,"time",e)},"update:return-value":function(e){return t.$set(t.log_payload,"time",e)}},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,r=n.attrs;return[e(C.a,t._g(t._b({attrs:{label:"Time",readonly:""},model:{value:t.log_payload.time,callback:function(e){t.$set(t.log_payload,"time",e)},expression:"log_payload.time"}},"v-text-field",r,!1),o))]}}],null,!1,842779310),model:{value:t.manual_time_menu,callback:function(e){t.manual_time_menu=e},expression:"manual_time_menu"}},[t._v(" "),t.manual_time_menu?e(S.a,{attrs:{"full-width":"",format:"24hr"},model:{value:t.log_payload.time,callback:function(e){t.$set(t.log_payload,"time",e)},expression:"log_payload.time"}},[e(j.a),t._v(" "),e(r.a,{attrs:{"x-small":"",color:"primary"},on:{click:function(e){t.manual_=!1}}},[t._v("\n                  Cancel\n                ")]),t._v(" "),e(r.a,{attrs:{"x-small":"",color:"primary"},on:{click:function(e){return t.$refs.manual_time_menu_ref.save(t.log_payload.time)}}},[t._v("\n                  OK\n                ")])],1):t._e()],1),t._v(" "),t.errors&&t.errors.time?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.time[0]))]):t._e()],1)],1)],1),t._v(" "),e(f.a),t._v(" "),e(c.a,[e(j.a),t._v(" "),e(r.a,{attrs:{small:"",loading:t.loading,color:"primary"},on:{click:t.store_schedule}},[t._v("\n          Submit\n        ")])],1)],1)],1),t._v(" "),e(k.a,{attrs:{justify:"center"}},[e(v.a,{attrs:{persistent:"","max-width":"600px"},model:{value:t.log_details,callback:function(e){t.log_details=e},expression:"log_details"}},[e(l.a,{staticClass:"darken-1"},[e(M.a,{staticClass:"primary",attrs:{dense:"",dark:"",flat:""}},[e("span",{staticClass:"text-h5 pa-2"},[t._v("Log Details")]),t._v(" "),e(j.a),t._v("\n          Total logs\n          "),e("b",{staticClass:"background--text mx-1"},[t._v("("+t._s(t.log_list.length)+")")])],1),t._v(" "),e(c.c,[e("div",{staticClass:"pt-5"},t._l(t.log_list,(function(n,o){return e("span",{key:o},[t._v("\n              "+t._s(n.date)+" - "+t._s(n.time)+"\n              "),e("hr")])})),0)])],1)],1)],1)],1):e("NoAccess")}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{RenderAttendance:n(980).default,GenerateLog:n(934).default,NoAccess:n(909).default})},996:function(t,e,n){"use strict";n.r(e);var o={props:["color"],methods:{goBack:function(){window.history.back()}}},r=n(60),component=Object(r.a)(o,(function(){return(0,this._self._c)("div")}),[],!1,null,null,null);e.default=component.exports}}]);