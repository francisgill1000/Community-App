(window.webpackJsonp=window.webpackJsonp||[]).push([[322,36,167,189],{1002:function(e,t,r){"use strict";r.r(t);r(117),r(12),r(6),r(11),r(89),r(351);var n={props:["data"],methods:{exportData:function(){if(0===this.data.length)return this.snackbar=!0,void(this.response="No record to download");var header=Object.keys(this.data[0]).join(",")+"\n",e="";this.data.forEach((function(t){e+=Object.values(t).join(",").trim()+"\n"}));var element=document.createElement("a");element.setAttribute("href","data:text/csv;charset=utf-8, "+encodeURIComponent(header+e)),element.setAttribute("download","download.csv"),document.body.appendChild(element),element.click(),document.body.removeChild(element)}}},o=r(116),component=Object(o.a)(n,(function(){var e=this,t=e._self._c;return t("span",{staticClass:"pa-2 text-center",on:{click:e.exportData}},[t("img",{staticStyle:{width:"20px",cursor:"pointer"},attrs:{title:"Download",src:r(995)}}),e._v(" "),t("div",{staticStyle:{"font-size":"8px",color:"black","margin-top":"-4px"}},[e._v("Download")])])}),[],!1,null,null,null);t.default=component.exports},1343:function(e,t,r){"use strict";r.r(t);var n=r(894),o=r(114),l=r(133),c=r(87),d=r(516),m=r(876),_=r(350),f=r(147),v=r(973),h=r(972),y=r(515),x=r(214),k=r(23),O=r(3),C=(r(99),r(6),r(88),{data:function(){var e;return e={payload:{parent_id:"",system_user_id:111111,first_name:"test",last_name:"test",age:"25",member_type:"Maid",nationality:"Maid",gender:"Male",rfid:"2112",pin:"0000",full_name:"",phone_number:""},imagePreview:"/no-profile-image.jpg",setImagePreview:null,imageMemberPreview:"/no-profile-image.jpg",snack:!1,snackColor:"",snackText:"",dialog:!1,current_page:1,color:"background",response:"",snackbar:!1,btnLoader:!1,max_employee:0,upload:{name:""}},Object(O.a)(e,"snackbar",!1),Object(O.a)(e,"ids",[]),Object(O.a)(e,"loading",!1),Object(O.a)(e,"response",null),Object(O.a)(e,"errors",[]),Object(O.a)(e,"formAction","Create"),Object(O.a)(e,"tanents",[]),e},created:function(){var e=this;return Object(k.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!1,e.boilerplate=!0,t.next=4,e.$axios.get("tanent-list",{params:{company_id:e.$auth.user.company_id}});case 4:r=t.sent,n=r.data,e.tanents=n;case 7:case"end":return t.stop()}}),t)})))()},methods:{setSystemUserId:function(e){var t=this.tanents.find((function(t){return t.id===e}));if(t){console.log(t);var r=t.system_user_id,n=t.members_count,o=t.cards_count;this.payload.system_user_id=parseInt(r)+n+o+1}else this.payload.system_user_id="Tenant with ID ".concat(e," not found.")},handleAttachment:function(e){this.payload.profile_picture=e},submit:function(){var e=this;this.payload.company_id=this.$auth.user.company_id,this.$axios.post("add-member",this.payload).then((function(t){var data=t.data;e.errors=[],e.assignTanent(data.record.id)})).catch((function(t){var r,n,o,l,c=t.response;e.response=null!==(r=null==c||null===(n=c.data)||void 0===n?void 0:n.message)&&void 0!==r?r:null,e.errors=null!==(o=null==c||null===(l=c.data)||void 0===l?void 0:l.errors)&&void 0!==o?o:[]}))},assignTanent:function(e){var t=this;this.$axios.post("/assign-tanents/".concat(e),{parent_ids:[this.payload.parent_id]}).then((function(e){e.data;t.$emit("response","Maid inserted successfully")})).catch((function(e){var r=e.response;t.handleErrorResponse(r)}))}}}),j=r(116),component=Object(j.a)(C,(function(){var e=this,t=e._self._c;return t(_.a,{attrs:{persistent:"",width:"900"},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on,l=r.attrs;return[t("span",e._g(e._b({staticStyle:{cursor:"pointer"}},"span",l,!1),n),[t(o.a,{staticClass:"primary",attrs:{dense:"",small:"",text:"",title:"Add Company"}},[e._v("\n        Create Maid\n        "),t(f.a,{attrs:{right:"",dark:""}},[e._v("mdi-plus-circle-outline")])],1)],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),t(l.a,[t(c.c,[e._v("Create Maid")]),e._v(" "),t(m.a,[t(y.a,[t(d.a,{attrs:{cols:"3"}},[t(y.a,[t(d.a,{attrs:{cols:"12"}},[t("CameraORUpload",{on:{imageSrc:e.handleAttachment}}),e._v(" "),e.errors&&e.errors.profile_picture?t("span",{staticClass:"text-danger mt-2"},[e._v(e._s(e.errors.profile_picture[0]))]):e._e()],1)],1)],1),e._v(" "),t(d.a,{attrs:{cols:"9"}},[t(y.a,[t(d.a,{attrs:{cols:"6"}},[t(n.a,{attrs:{label:"Tanent",outlined:"",items:e.tanents,"item-value":"id","item-text":"full_name",dense:"","hide-details":!e.errors.parent_id,"error-messages":e.errors&&e.errors.parent_id?e.errors.parent_id[0]:""},on:{change:function(t){return e.setSystemUserId(e.payload.parent_id)}},model:{value:e.payload.parent_id,callback:function(t){e.$set(e.payload,"parent_id",t)},expression:"payload.parent_id"}})],1),e._v(" "),t(d.a,{attrs:{cols:"6"}},[t(x.a,{staticClass:"text-center",attrs:{label:"Device User Id",readonly:!0,dense:"",outlined:"","hide-details":!e.errors.system_user_id,"error-messages":e.errors&&e.errors.system_user_id?e.errors.system_user_id[0]:""},model:{value:e.payload.system_user_id,callback:function(t){e.$set(e.payload,"system_user_id",t)},expression:"payload.system_user_id"}})],1),e._v(" "),t(d.a,{attrs:{cols:"6"}},[t(x.a,{staticClass:"text-center",attrs:{label:"First Name",dense:"",outlined:"","hide-details":!e.errors.first_name,"error-messages":e.errors&&e.errors.first_name?e.errors.first_name[0]:""},model:{value:e.payload.first_name,callback:function(t){e.$set(e.payload,"first_name",t)},expression:"payload.first_name"}})],1),e._v(" "),t(d.a,{attrs:{cols:"6"}},[t(x.a,{staticClass:"text-center",attrs:{label:"Last Name",dense:"",outlined:"","hide-details":!e.errors.last_name,"error-messages":e.errors&&e.errors.last_name?e.errors.last_name[0]:""},model:{value:e.payload.last_name,callback:function(t){e.$set(e.payload,"last_name",t)},expression:"payload.last_name"}})],1),e._v(" "),t(d.a,{attrs:{cols:"6"}},[t(x.a,{staticClass:"text-center",attrs:{label:"Age",dense:"",outlined:"","hide-details":!e.errors.age,"error-messages":e.errors&&e.errors.age?e.errors.age[0]:""},model:{value:e.payload.age,callback:function(t){e.$set(e.payload,"age",t)},expression:"payload.age"}})],1),e._v(" "),t(d.a,{attrs:{cols:"6"}},[t(x.a,{staticClass:"text-center",attrs:{label:"Nationality",dense:"",outlined:"","hide-details":!e.errors.nationality,"error-messages":e.errors&&e.errors.nationality?e.errors.nationality[0]:""},model:{value:e.payload.nationality,callback:function(t){e.$set(e.payload,"nationality",t)},expression:"payload.nationality"}})],1),e._v(" "),t(d.a,{attrs:{cols:"6"}},[t(x.a,{staticClass:"text-center",attrs:{label:"RFID",dense:"",outlined:"","hide-details":!e.errors.rfid,"error-messages":e.errors&&e.errors.rfid?e.errors.rfid[0]:""},model:{value:e.payload.rfid,callback:function(t){e.$set(e.payload,"rfid",t)},expression:"payload.rfid"}})],1),e._v(" "),t(d.a,{attrs:{cols:"6"}},[t(x.a,{staticClass:"text-center",attrs:{label:"Phone Number",dense:"",outlined:"","hide-details":!e.errors.phone_number,"error-messages":e.errors&&e.errors.phone_number?e.errors.phone_number[0]:""},model:{value:e.payload.phone_number,callback:function(t){e.$set(e.payload,"phone_number",t)},expression:"payload.phone_number"}})],1),e._v(" "),t(d.a,{attrs:{cols:"6"}},[t(h.a,{staticClass:"ma-0 mt-2 px-2 pa-0",attrs:{row:"","hide-details":!e.errors.gender,"error-messages":e.errors&&e.errors.gender?e.errors.gender[0]:""},model:{value:e.payload.gender,callback:function(t){e.$set(e.payload,"gender",t)},expression:"payload.gender"}},[t(v.a,{attrs:{label:"Male",value:"Male"}}),e._v(" "),t(v.a,{attrs:{label:"Female",value:"Female"}}),e._v(" "),t(v.a,{attrs:{label:"Other",value:"Other"}})],1)],1)],1)],1)],1),e._v(" "),t(y.a,[t(d.a,{staticClass:"text-right my-1",attrs:{cols:"12"}},[t(o.a,{on:{click:function(t){e.dialog=!1}}},[e._v("Close")]),e._v(" "),t(o.a,{staticClass:"primary",on:{click:e.submit}},[e._v("Submit")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CameraORUpload:r(909).default})},1344:function(e,t,r){"use strict";r.r(t);var n=r(894),o=r(114),l=r(133),c=r(87),d=r(516),m=r(876),_=r(350),f=r(147),v=r(515),h=r(23),y=r(3),x=(r(88),r(80),{props:["id"],data:function(){var e;return e={parent_ids:[],snack:!1,snackColor:"",snackText:"",dialog:!1,current_page:1,color:"background",response:"",snackbar:!1,btnLoader:!1,max_employee:0,upload:{name:""}},Object(y.a)(e,"snackbar",!1),Object(y.a)(e,"ids",[]),Object(y.a)(e,"loading",!1),Object(y.a)(e,"response",""),Object(y.a)(e,"errors",[]),Object(y.a)(e,"formAction","Create"),Object(y.a)(e,"tanents",[]),e},created:function(){var e=this;return Object(h.a)(regeneratorRuntime.mark((function t(){var r,n,o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!1,t.next=3,e.$axios.get("tanent-list",{params:{company_id:e.$auth.user.company_id}});case 3:return r=t.sent,n=r.data,e.tanents=n.map((function(e){return{id:e.id,full_name_with_room:e.full_name+" (".concat(e.room.room_number,")")}})),t.next=8,e.$axios.get("get-associated-tanent-ids/".concat(e.id));case 8:o=t.sent,l=o.data,e.parent_ids=l;case 11:case"end":return t.stop()}}),t)})))()},methods:{submit:function(){var e=this;this.$axios.post("/assign-tanents/"+this.id,{parent_ids:this.parent_ids}).then((function(t){t.data;e.handleSuccessResponse("Maid has been assigned")})).catch((function(t){var r=t.response;e.handleErrorResponse(r)}))},handleSuccessResponse:function(e){this.errors=[],this.dialog=!1,this.$emit("response",e)},handleErrorResponse:function(e){if(!e)return this.snackbar=!0,void(this.response="An unexpected error occurred.");var t=e.status,data=e.data,r=e.statusText;t&&422==t?this.errors=data.errors:(this.snackbar=!0,this.response=r)}}}),k=r(116),component=Object(k.a)(x,(function(){var e=this,t=e._self._c;return t(_.a,{attrs:{persistent:"",width:"700"},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on,o=r.attrs;return[t("span",e._g(e._b({staticStyle:{cursor:"pointer"}},"span",o,!1),n),[t(f.a,{attrs:{color:"black",small:""}},[e._v("mdi-account")]),e._v("\n      Assign Tanent(s)\n    ")],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),t(l.a,[t(c.c,[e._v("Assign Tanent(s)")]),e._v(" "),t(m.a,[t(v.a,[t(d.a,{attrs:{cols:"12"}},[t(n.a,{attrs:{label:"Tanent",multiple:"",outlined:"",items:e.tanents,"item-value":"id","item-text":"full_name_with_room",dense:"","hide-details":!e.errors.parent_ids,"error-messages":e.errors&&e.errors.parent_ids?e.errors.parent_ids[0]:""},model:{value:e.parent_ids,callback:function(t){e.parent_ids=t},expression:"parent_ids"}})],1)],1),e._v(" "),t(v.a,[t(d.a,{staticClass:"text-right my-1",attrs:{cols:"12"}},[t(o.a,{on:{click:function(t){e.dialog=!1}}},[e._v("Close")]),e._v(" "),t(o.a,{staticClass:"primary",on:{click:e.submit}},[e._v("Submit")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports},1347:function(e,t,r){"use strict";r.r(t);var n=r(894),o=r(114),l=r(133),c=r(87),d=r(516),m=r(876),_=r(350),f=r(147),v=r(973),h=r(972),y=r(515),x=r(214),k=(r(12),r(14),r(13),r(17),r(11),r(18),r(23)),O=r(3);r(99),r(6),r(88);function C(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(t){Object(O.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var w={props:["item"],data:function(){var e;return e={payload:{parent_id:"",system_user_id:111111,first_name:"",last_name:"",age:"",member_type:"",nationality:"",gender:"",rfid:"",pin:"",full_name:"",phone_number:""},PreviewImage:"/no-profile-image.jpg",snack:!1,snackColor:"",snackText:"",dialog:!1,current_page:1,color:"background",response:"",snackbar:!1,btnLoader:!1,max_employee:0,upload:{name:""}},Object(O.a)(e,"snackbar",!1),Object(O.a)(e,"ids",[]),Object(O.a)(e,"loading",!1),Object(O.a)(e,"response",""),Object(O.a)(e,"errors",[]),Object(O.a)(e,"formAction","Create"),Object(O.a)(e,"tanents",[]),e},mounted:function(){this.PreviewImage=this.item.profile_picture,this.payload=j(j({},this.item),{},{profile_picture:""})},created:function(){var e=this;return Object(k.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!1,t.next=3,e.$axios.get("tanent-list",{params:{company_id:e.$auth.user.company_id}});case 3:r=t.sent,n=r.data,e.tanents=n,e.payload.parent_id=parseInt(e.item.parent_id),e.setSystemUserId(e.payload.parent_id);case 8:case"end":return t.stop()}}),t)})))()},methods:{setSystemUserId:function(e){var t=this.tanents.find((function(t){return t.id===e}));if(t){var r=t.system_user_id,n=t.members_count;this.payload.system_user_id=parseInt(r)+n+1}else this.payload.system_user_id="Tenant with ID ".concat(e," not found.")},handleAttachment:function(e){this.payload.profile_picture=e},submit:function(e){var t=this;this.$axios.post("/update-member/"+this.item.id,e).then((function(e){e.data;t.handleSuccessResponse("Maid has been updated")})).catch((function(e){var r=e.response;t.handleErrorResponse(r)}))},handleSuccessResponse:function(e){this.errors=[],this.dialog=!1,this.$emit("response",e)},handleErrorResponse:function(e){if(!e)return this.snackbar=!0,void(this.response="An unexpected error occurred.");var t=e.status,data=e.data,r=e.statusText;t&&422==t?this.errors=data.errors:(this.snackbar=!0,this.response=r)}}},S=r(116),component=Object(S.a)(w,(function(){var e=this,t=e._self._c;return t(_.a,{attrs:{persistent:"",width:"900"},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on,o=r.attrs;return[t("span",e._g(e._b({staticStyle:{cursor:"pointer"}},"span",o,!1),n),[t(f.a,{attrs:{color:"black",small:""}},[e._v("mdi-pencil")]),e._v("\n      Edit\n    ")],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),t(l.a,[t(c.c,[e._v("Edit Maid")]),e._v(" "),t(m.a,[t(y.a,[t(d.a,{attrs:{cols:"3"}},[t(y.a,[t(d.a,{attrs:{cols:"12"}},[t("CameraORUpload",{attrs:{PreviewImage:e.PreviewImage},on:{imageSrc:e.handleAttachment}}),e._v(" "),e.errors&&e.errors.profile_picture?t("span",{staticClass:"text-danger mt-2"},[e._v(e._s(e.errors.profile_picture[0]))]):e._e()],1)],1)],1),e._v(" "),t(d.a,{attrs:{cols:"9"}},[t(y.a,[t(d.a,{attrs:{cols:"6"}},[t(n.a,{attrs:{label:"Tanent",outlined:"",items:e.tanents,"item-value":"id","item-text":"full_name",dense:"","hide-details":!e.errors.parent_id,"error-messages":e.errors&&e.errors.parent_id?e.errors.parent_id[0]:""},on:{change:function(t){return e.setSystemUserId(e.payload.parent_id)}},model:{value:e.payload.parent_id,callback:function(t){e.$set(e.payload,"parent_id",t)},expression:"payload.parent_id"}})],1),e._v(" "),t(d.a,{attrs:{cols:"6"}},[t(x.a,{staticClass:"text-center",attrs:{label:"Device User Id",readonly:!0,dense:"",outlined:"","hide-details":!e.errors.system_user_id,"error-messages":e.errors&&e.errors.system_user_id?e.errors.system_user_id[0]:""},model:{value:e.payload.system_user_id,callback:function(t){e.$set(e.payload,"system_user_id",t)},expression:"payload.system_user_id"}})],1),e._v(" "),t(d.a,{attrs:{cols:"6"}},[t(x.a,{staticClass:"text-center",attrs:{label:"First Name",dense:"",outlined:"","hide-details":!e.errors.first_name,"error-messages":e.errors&&e.errors.first_name?e.errors.first_name[0]:""},model:{value:e.payload.first_name,callback:function(t){e.$set(e.payload,"first_name",t)},expression:"payload.first_name"}})],1),e._v(" "),t(d.a,{attrs:{cols:"6"}},[t(x.a,{staticClass:"text-center",attrs:{label:"Last Name",dense:"",outlined:"","hide-details":!e.errors.last_name,"error-messages":e.errors&&e.errors.last_name?e.errors.last_name[0]:""},model:{value:e.payload.last_name,callback:function(t){e.$set(e.payload,"last_name",t)},expression:"payload.last_name"}})],1),e._v(" "),t(d.a,{attrs:{cols:"6"}},[t(x.a,{staticClass:"text-center",attrs:{label:"Age",dense:"",outlined:"","hide-details":!e.errors.age,"error-messages":e.errors&&e.errors.age?e.errors.age[0]:""},model:{value:e.payload.age,callback:function(t){e.$set(e.payload,"age",t)},expression:"payload.age"}})],1),e._v(" "),t(d.a,{attrs:{cols:"6"}},[t(x.a,{staticClass:"text-center",attrs:{label:"Nationality",dense:"",outlined:"","hide-details":!e.errors.nationality,"error-messages":e.errors&&e.errors.nationality?e.errors.nationality[0]:""},model:{value:e.payload.nationality,callback:function(t){e.$set(e.payload,"nationality",t)},expression:"payload.nationality"}})],1),e._v(" "),t(d.a,{attrs:{cols:"6"}},[t(x.a,{staticClass:"text-center",attrs:{label:"RFID",dense:"",outlined:"","hide-details":!e.errors.rfid,"error-messages":e.errors&&e.errors.rfid?e.errors.rfid[0]:""},model:{value:e.payload.rfid,callback:function(t){e.$set(e.payload,"rfid",t)},expression:"payload.rfid"}})],1),e._v(" "),t(d.a,{attrs:{cols:"6"}},[t(x.a,{staticClass:"text-center",attrs:{label:"Phone Number",dense:"",outlined:"","hide-details":!e.errors.phone_number,"error-messages":e.errors&&e.errors.phone_number?e.errors.phone_number[0]:""},model:{value:e.payload.phone_number,callback:function(t){e.$set(e.payload,"phone_number",t)},expression:"payload.phone_number"}})],1),e._v(" "),t(d.a,{attrs:{cols:"6"}},[t(h.a,{staticClass:"ma-0 mt-2 px-2 pa-0",attrs:{row:"","hide-details":!e.errors.gender,"error-messages":e.errors&&e.errors.gender?e.errors.gender[0]:""},model:{value:e.payload.gender,callback:function(t){e.$set(e.payload,"gender",t)},expression:"payload.gender"}},[t(v.a,{attrs:{label:"Male",value:"Male"}}),e._v(" "),t(v.a,{attrs:{label:"Female",value:"Female"}}),e._v(" "),t(v.a,{attrs:{label:"Other",value:"Other"}})],1)],1)],1)],1)],1),e._v(" "),t(y.a,[t(d.a,{staticClass:"text-right my-1",attrs:{cols:"12"}},[t(o.a,{on:{click:function(t){e.dialog=!1}}},[e._v("Close")]),e._v(" "),t(o.a,{staticClass:"primary",on:{click:function(t){return e.submit(e.payload)}}},[e._v("Submit")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CameraORUpload:r(909).default})},1600:function(e,t,r){"use strict";r.r(t);var n=r(329),o=r(114),l=r(133),c=r(516),d=r(1563),m=r(147),_=r(212),f=r(326),v=r(204),h=r(60),y=r(863),x=r(515),k=r(873),O=r(349),C=r(96),j=r(856),w=r(23),S=r(3);r(80),r(6),r(11),r(12),r(41),r(519),r(72),r(14),r(13),r(17),r(18),r(88);function $(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function P(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?$(Object(source),!0).forEach((function(t){Object(S.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):$(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var R={data:function(){var e;return e={snack:!1,snackColor:"",snackText:"",loadinglinear:!0,displayErrormsg:!1,dialog:!1,loading:!1,next_page_url:"",prev_page_url:"",current_page:1,per_page:1e3,ListName:"",color:"background",response:"",snackbar:!1,btnLoader:!1,options:{},Model:"Maids",endpoint:"maids",search:""},Object(S.a)(e,"snackbar",!1),Object(S.a)(e,"loading",!1),Object(S.a)(e,"data",[]),Object(S.a)(e,"totalRowsCount",0),Object(S.a)(e,"headers",[{text:"User Device Id",align:"left",sortable:!0,key:"system_user_id",value:"system_user_id",filterable:!0,filterSpecial:!1},{text:"Full Name",align:"left",sortable:!0,key:"full_name",value:"full_name",filterable:!0,filterSpecial:!1},{text:"Gender",align:"left",sortable:!0,key:"gender",value:"gender",filterable:!0,filterSpecial:!1},{text:"Phone Number",align:"left",sortable:!0,key:"phone_number",value:"phone_number",filterable:!0,filterSpecial:!1},{text:"Tanent",align:"left",sortable:!0,key:"tanent_for_maid",value:"tanent_for_maid",filterable:!0,filterSpecial:!1},{text:"Tanent Phone Number",align:"left",sortable:!0,key:"tanent_for_maid.tanent.phone_number",value:"tanent_for_maid.tanent.phone_number",filterable:!0,filterSpecial:!1},{text:"Details",align:"left",sortable:!1,key:"options",value:"options"}]),e},created:function(){var e=this;return Object(w.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loading=!1,e.boilerplate=!0,e.getDataFromApi();case 3:case"end":return t.stop()}}),t)})))()},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},methods:{exportData:function(){var e=["system_user_id","full_name","gender","phone_number","age","nationality"];return this.data.map((function(t){var r={};return Object.keys(t).forEach((function(n){var o,l,c,d,m,_,f,v,h;e.includes(n)&&(r[n]=t[n],r.tanent_full_name=null!==(o=null==t||null===(l=t.tanent_for_maid)||void 0===l||null===(c=l.tanent)||void 0===c?void 0:c.full_name)&&void 0!==o?o:"---",r.tanent_phone_number=null!==(d=null==t||null===(m=t.tanent_for_maid)||void 0===m||null===(_=m.tanent)||void 0===_?void 0:_.phone_number)&&void 0!==d?d:"---",r.tanent_term=null!==(f=null==t||null===(v=t.tanent_for_maid)||void 0===v||null===(h=v.tanent)||void 0===h?void 0:h.term)&&void 0!==f?f:"---")})),r}))},generateRandomId:function(){return Math.floor(Math.random()*Math.pow(10,8)).toString().padStart(8,"0")},can:function(e){return this.$pagePermission.can(e,this)},getDataFromApi:function(){var e=this;this.loadinglinear=!0;var t=this.options,r=t.sortBy,n=t.sortDesc,o=t.page,l=t.itemsPerPage,c={params:P({page:o,sortBy:r?r[0]:"",sortDesc:n?n[0]:"",per_page:l,company_id:this.$auth.user.company_id},this.filters)};this.$axios.get(this.endpoint,c).then((function(t){var data=t.data;e.data=data.data,e.totalRowsCount=data.total,0==e.data.length?e.displayErrormsg=!0:e.displayErrormsg=!1,e.loadinglinear=!1}))},deleteItem:function(e){var t=this;confirm("Are you sure you wish to delete , to mitigate any inconvenience in future.")&&this.$axios.delete("delete-member/".concat(e.id)).then((function(e){e.data;t.getDataFromApi(),t.snackbar=!0,t.response="Record deleted successfully"})).catch((function(e){return console.log(e)}))},handleResponse:function(e){this.snackbar=!0,this.response=e,this.dialog=!0,this.getDataFromApi()}}},D=r(116),component=Object(D.a)(R,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"text-center ma-2"},[t(k.a,{attrs:{small:"",top:"top",color:e.color},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n      "+e._s(e.response)+"\n    ")])],1),e._v(" "),e.loading?t("Preloader"):t("div",[t(k.a,{attrs:{timeout:3e3,color:e.snackColor},scopedSlots:e._u([{key:"action",fn:function(r){var n=r.attrs;return[t(o.a,e._b({attrs:{text:""},on:{click:function(t){e.snack=!1}}},"v-btn",n,!1),[e._v(" Close ")])]}}],null,!1,3090489768),model:{value:e.snack,callback:function(t){e.snack=t},expression:"snack"}},[e._v("\n      "+e._s(e.snackText)+"\n\n      ")]),e._v(" "),t(l.a,{attrs:{elevation:"0"}},[t(C.a,{staticClass:"mb-2",attrs:{dense:"",flat:""}},[t(j.b,[t("span",[e._v(e._s(e.Model)+" ")])]),e._v(" "),t("span",[t(o.a,{staticClass:"ma-0 px-0",attrs:{dense:"","x-small":"",ripple:!1,text:"",title:"Reload"}},[t(m.a,{staticClass:"ml-2",attrs:{dark:""},on:{click:e.getDataFromApi}},[e._v("mdi-reload")])],1)],1),e._v(" "),t(O.a),e._v(" "),t("ExportData",{attrs:{data:e.exportData()}}),e._v(" "),t("CommunityMaidCreate",{key:e.generateRandomId(),on:{response:e.handleResponse}})],1),e._v(" "),t(d.a,{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.data,"model-value":"data.id",loading:e.loadinglinear,options:e.options,"footer-props":{itemsPerPageOptions:[100,500,1e3]},"server-items-length":e.totalRowsCount},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"item.full_name",fn:function(r){var o=r.item;r.index;return[t(x.a,{staticClass:"pa-1",attrs:{"no-gutters":""}},[t(c.a,{attrs:{cols:"3"}},[t(n.a,{attrs:{size:"50"}},[t(_.a,{attrs:{src:o.profile_picture?o.profile_picture:"/no-profile-image.jpg"}})],1)],1),e._v(" "),t(c.a,[t("div",[t("strong",[e._v(" "+e._s(o.full_name))]),e._v(" "),t("p",[e._v(e._s(o.age)+" years old "),t("br"),e._v(e._s(o.nationality))])])])],1)]}},{key:"item.tanent_for_maid",fn:function(r){var n,o,l,c,d,m=r.item;r.index;return[t("strong",[e._v(" "+e._s(null===(n=m.tanent_for_maid)||void 0===n||null===(o=n.tanent)||void 0===o?void 0:o.full_name))]),e._v(" "),t("p",[e._v("Flat "+e._s(null===(l=m.tanent_for_maid)||void 0===l||null===(c=l.tanent)||void 0===c||null===(d=c.room)||void 0===d?void 0:d.room_number))])]}},{key:"item.options",fn:function(r){var n=r.item;return[t(y.a,{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on,l=r.attrs;return[t(o.a,e._g(e._b({attrs:{"dark-2":"",icon:""}},"v-btn",l,!1),n),[t(m.a,[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e._v(" "),t(f.a,{attrs:{width:"150",dense:""}},[t(v.a,[t(h.c,{staticStyle:{cursor:"pointer"}},[t("CommunityMaidAssignTanents",{attrs:{id:n.id},on:{response:e.handleResponse}})],1)],1),e._v(" "),t(v.a,[t(h.c,{staticStyle:{cursor:"pointer"}},[t("CommunityMaidSingle",{attrs:{item:n},on:{response:e.handleResponse}})],1)],1),e._v(" "),t(v.a,[t(h.c,{staticStyle:{cursor:"pointer"}},[t("CommunityMaidEdit",{attrs:{item:n},on:{response:e.handleResponse}})],1)],1),e._v(" "),t(v.a,{on:{click:function(t){return e.deleteItem(n)}}},[t(h.c,{staticStyle:{cursor:"pointer"}},[t(m.a,{attrs:{color:"error",small:""}},[e._v(" mdi-delete ")]),e._v("\n                  Delete\n                ")],1)],1)],1)],1)]}}],null,!1,3065231753)})],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ExportData:r(1002).default,CommunityMaidCreate:r(1343).default,CommunityMaidAssignTanents:r(1344).default,CommunityMaidSingle:r(1554).default,CommunityMaidEdit:r(1347).default,Preloader:r(898).default})},856:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return l}));var n=r(96),o=r(0),l=Object(o.k)("v-toolbar__title"),c=Object(o.k)("v-toolbar__items");n.a},898:function(e,t,r){"use strict";r.r(t);var n=r(212),o=r(116),component=Object(o.a)({},(function(){var e=this._self._c;return e("div",{staticClass:"text-center",staticStyle:{width:"50px",margin:"25% auto"}},[e(n.a,{attrs:{src:"/preloaders/1.gif"}})],1)}),[],!1,null,null,null);t.default=component.exports},909:function(e,t,r){"use strict";r.r(t);var n=r(329),o=r(147),l=r(23),c=(r(6),r(11),r(88),{auth:!1,layout:"login",props:{PreviewImage:{type:String,default:"/no-profile-image.jpg"}},data:function(){return{isClicked:!1,isCamera:!1,videoStream:null,isUpload:!0,PlaceHolderImage:null}},mounted:function(){this.setupCamera(),this.PlaceHolderImage=this.PreviewImage},methods:{setupCamera:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var r,video;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.mediaDevices.getUserMedia({video:!0});case 3:r=t.sent,(video=e.$refs.video).srcObject=r,e.videoStream=r,video.play(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("Error accessing the camera: ",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},toggleCamera:function(){this.isClicked=!0,this.isUpload=!1,this.isCamera=!this.isCamera;var video=this.$refs.video,canvas=this.$refs.canvas,e=canvas.getContext("2d");canvas.width=video.videoWidth,canvas.height=video.videoHeight,e.drawImage(video,0,0,canvas.width,canvas.height),this.$emit("imageSrc",canvas.toDataURL("image/png")),this.isCamera?video.play():this.isCamera||(this.isUpload=!1,video.pause())},uploadPicture:function(){this.$refs.fileInput.click()},handleFileUpload:function(e){var t=this,r=e.target.files[0],n=new FileReader;n.onload=function(e){t.isUpload=!0,t.PlaceHolderImage=e.target.result,t.$emit("imageSrc",e.target.result)},n.readAsDataURL(r)},beforeDestroy:function(){this.videoStream&&this.videoStream.getTracks().forEach((function(track){return track.stop()}))}}}),d=r(116),component=Object(d.a)(c,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-center"},[t(n.a,{staticStyle:{border:"1px solid #6946dd"},attrs:{size:"175"}},[t("img",{directives:[{name:"show",rawName:"v-show",value:e.isUpload,expression:"isUpload"}],ref:"img",attrs:{src:e.PlaceHolderImage,alt:""}}),e._v(" "),t("video",{directives:[{name:"show",rawName:"v-show",value:!e.isUpload,expression:"!isUpload"}],ref:"video",attrs:{width:"100%",autoplay:"",playsinline:""}}),e._v(" "),t("canvas",{ref:"canvas",staticStyle:{display:"none"}})]),e._v(" "),t("div",{staticClass:"pa-5"},[t(o.a,{attrs:{large:"",color:"primary"},on:{click:e.toggleCamera}},[e._v("mdi-camera")]),e._v(" "),t(o.a,{attrs:{large:"",color:"primary"},on:{click:e.uploadPicture}},[e._v("mdi-folder-open")])],1),e._v(" "),t("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:e.handleFileUpload}})],1)}),[],!1,null,null,null);t.default=component.exports},995:function(e,t,r){e.exports=r.p+"img/icon_excel.a89178d.png"}}]);