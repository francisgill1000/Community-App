(window.webpackJsonp=window.webpackJsonp||[]).push([[295,199],{1287:function(e,t,n){var content=n(1470);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(22).default)("ba02fe12",content,!0,{sourceMap:!1})},1469:function(e,t,n){"use strict";n(1287)},1470:function(e,t,n){var o=n(21)((function(i){return i[1]}));o.push([e.i,".employee-pic[data-v-4438694c]{border:1px solid #ddd;margin-left:-3px;position:relative;top:0;transition:top 1s ease;width:30px;z-index:7}.employee-pic[data-v-4438694c]:hover{border:2px solid #000;border-radius:50%;top:-6px;transition:top 1s ease;width:32px;z-index:9999}",""]),o.locals={},e.exports=o},1625:function(e,t,n){"use strict";n.r(t);var o=n(114),r=n(133),l=n(516),c=n(876),d=n(1561),m=n(147),f=n(212),_=n(326),v=n(204),y=n(60),h=n(863),k=n(515),x=n(873),w=n(349),O=n(214),j=n(96),z=n(856),F=(n(56),n(37),n(12),n(14),n(13),n(17),n(11),n(18),n(3));n(6),n(72),n(33),n(58),n(35);function C(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function D(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(t){Object(F.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var P={components:{Back:n(958).default},data:function(e){var t,n;return{showFilters:!1,filters:{},isFilter:!1,totalRowsCount:10,filter_employeeid:"",snack:!1,snackColor:"",snackText:"",datatable_search_textbox:"",total:0,options:{},data:[],name:"",endpoint:"gettimezonesinfo",Model:"Timezone Mapping List ",response:"",tableData:[],tableColumns:[],loading:!1,snackbar:!1,color:"black",pagination:{current:1,total:0,per_page:10},headers:[(t={text:"#",align:"left",sortable:!1,value:"sno"},Object(F.a)(t,"align","start"),Object(F.a)(t,"key","sno"),Object(F.a)(t,"value","sno"),t),(n={text:"Timezone Name",align:"left",sortable:!0},Object(F.a)(n,"align","start"),Object(F.a)(n,"key","timezoneName"),Object(F.a)(n,"filterable",!0),Object(F.a)(n,"filterSpecial",!1),Object(F.a)(n,"value","timezone.timezone_name"),n),{text:"Devices",align:"left",sortable:!1,value:"devices",filterable:!1,filterSpecial:!1,key:"device",placeHolder:"Type Device Name"},{text:"Employees",align:"left",sortable:!1,value:"employees",filterable:!1,key:"employees",placeHolder:"Type First Name"},{text:"Actions",value:"actions",sortable:!1}],branchesList:[],branch_id:""}},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},created:function(){this.loading=!0},mounted:function(){this.getDataFromApi()},methods:{applyFilters:function(){this.getDataFromApi()},toggleFilter:function(){this.isFilter=!this.isFilter},clearFilters:function(){this.filters={},this.isFilter=!1,this.getDataFromApi()},caps:function(e){return""==e||null==e?"---":e.toString().replace(/\b\w/g,(function(e){return e.toUpperCase()}))},displayView:function(e){this.$router.push("/timezonemapping/"+e)},displayEdit:function(e){this.$router.push("/community/access_control/tenant-mapping/"+e)},deleteItem:function(e,t){var n=this,o=this.$axios.defaults.baseURL+"/deletetimezone",r={timezone_id:t,id:e,company_id:this.$auth.user.company_id};confirm("Are you sure you want to delete this item?")&&this.$axios.post("".concat(o),r).then((function(e){var data=e.data;n.getDataFromApi(),data.status?(n.errors=[],n.snackbar=!0,n.response=data.message):n.errors=data.errors}))},getDataFromApi:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.endpoint,n=arguments.length>1?arguments[1]:void 0;this.data=[];var o=this.options,r=o.sortBy,l=o.sortDesc,c=o.page,d=o.itemsPerPage,m={params:D({page:c,sortBy:r?r[0]:"",sortDesc:l?l[0]:"",per_page:d,company_id:this.$auth.user.company_id,branch_id:this.branch_id,cols:["id","employee_id","display_name"]},this.filters)};""!=n&&(m.params.additional_params=n),this.loading=!0,this.$axios.get("".concat(t,"?page=").concat(c),m).then((function(t){var data=t.data;e.data=data.data,e.itemsPerPage=e.data.length,e.loading=!1}))},goToCreatePage:function(){this.$router.push("/community/access_control/tenant-mapping/new")},can:function(e){return this.$pagePermission.can(e,this)}}},S=P,A=(n(1469),n(116)),component=Object(A.a)(S,(function(){var e=this,t=e._self._c;return e.can("timezone_mapping_access")?t("div",[t("div",{staticClass:"text-center ma-2"},[t(x.a,{attrs:{small:"",top:"top",color:e.color},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n      "+e._s(e.response)+"\n    ")])],1),e._v(" "),t(k.a,{staticClass:""},[t(l.a,{attrs:{cols:"12"}},[t(r.a,{staticClass:"mb-5 mt-2 rounded-md",attrs:{elevation:"0"}},[t(j.a,{staticClass:"rounded-md",attrs:{dense:"",flat:""}},[t(z.b,[t("span",[e._v(" "+e._s(e.Model)+" ")])]),e._v(" "),t("span",[t(o.a,{staticClass:"ma-0 px-0",attrs:{dense:"","x-small":"",ripple:!1,text:"",title:"Reload"}},[t(m.a,{staticClass:"ml-2",attrs:{dark:""},on:{click:function(t){return e.getDataFromApi()}}},[e._v("mdi mdi-reload")])],1)],1),e._v(" "),t("span",[t(o.a,{attrs:{"x-small":"",ripple:!1,text:"",title:"Filter"},on:{click:function(t){e.attendancFilters=!0}}},[t(m.a,{attrs:{dark:""},on:{click:e.toggleFilter}},[e._v("mdi-filter")])],1)],1),e._v(" "),t(w.a),e._v(" "),e.can("timezone_mapping_create")?t(o.a,{attrs:{color:"primary",title:"Add Timezone"},on:{click:function(t){return e.goToCreatePage()}}},[e._v("\n            Add Mapping\n          ")]):e._e()],1),e._v(" "),t(x.a,{attrs:{timeout:3e3,color:e.snackColor},scopedSlots:e._u([{key:"action",fn:function(n){var r=n.attrs;return[t(o.a,e._b({attrs:{text:""},on:{click:function(t){e.snack=!1}}},"v-btn",r,!1),[e._v(" Close ")])]}}],null,!1,3090489768),model:{value:e.snack,callback:function(t){e.snack=t},expression:"snack"}},[e._v("\n          "+e._s(e.snackText)+"\n\n          ")]),e._v(" "),t(d.a,{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.data,loading:e.loading,options:e.options,"footer-props":{itemsPerPageOptions:[100,500,1e3]},"server-items-length":e.totalRowsCount},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"header",fn:function(n){var o=n.props.headers;return[e.isFilter?t("tr",e._l(o,(function(header){return t("td",{key:header.text},[t(c.a,[header.filterable&&!header.filterSpecial?t(O.a,{attrs:{clearable:"","hide-details":!0,id:header.key,outlined:"",dense:"",autocomplete:"off",placeholder:header.placeHolder},on:{input:function(t){return e.applyFilters(header.key,t)}},model:{value:e.filters[header.key],callback:function(t){e.$set(e.filters,header.key,t)},expression:"filters[header.key]"}}):e._e()],1)],1)})),0):e._e()]}},{key:"item.sno",fn:function(n){n.item;var o=n.index;return[t("b",[e._v(e._s(++o))])]}},{key:"item.timezone.timezone_name",fn:function(t){var n=t.item;return[e._v("\n            "+e._s(n.timezone&&n.timezone.timezone_name)+"\n          ")]}},{key:"item.devices",fn:function(n){var r=n.item;return[e._l(r.device_id.slice(0,3),(function(n,o){return t("div",{key:o,staticClass:"d-flex flex-row bg-surface-variant"},[e._v("\n              "+e._s(e.caps(n.name))+"\n              "),t("br"),e._v("\n              "+e._s(e.caps(n.location))+"\n            ")])})),e._v(" "),r.device_id.length>3?t(o.a,{attrs:{small:"",warning:""},on:{click:function(t){return e.displayView(r.id)}}},[e._v("\n              All Devices\n            ")]):e._e()]}},{key:"item.employees",fn:function(n){var r=n.item;n.index;return[e._l(r.employee_id.slice(0,10),(function(n,o){return t(f.a,{key:"employeeimg"+o,staticClass:"employee-pic",staticStyle:{float:"left","border-radius":"50%",height:"auto"},attrs:{title:e.caps(n.first_name+" "+n.last_name),src:n.profile_picture?n.profile_picture:"/no-profile-image.jpg"}})})),e._v(" "),r.employee_id.length>10?t(o.a,{attrs:{small:"",warning:""},on:{click:function(t){return e.displayView(r.id)}}},[e._v("\n              All Employees\n            ")]):e._e()]}},{key:"item.actions",fn:function(n){var r=n.item;return[t(h.a,{staticStyle:{"background-color":"#fff !important"},attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[t(o.a,e._g(e._b({attrs:{"dark-2":"",icon:""}},"v-btn",l,!1),r),[t(m.a,[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e._v(" "),t(_.a,{staticStyle:{"background-color":"#fff !important"},attrs:{width:"120",dense:""}},[e.can("timezone_mapping_view")?t(v.a,{on:{click:function(t){return e.displayView(r.id)}}},[t(y.c,{staticStyle:{cursor:"pointer"}},[t(m.a,{attrs:{color:"primary",small:""}},[e._v(" mdi-view-list ")]),e._v("\n                    View\n                  ")],1)],1):e._e(),e._v(" "),t(v.a,{on:{click:function(t){return e.displayEdit(r.id)}}},[t(y.c,{staticStyle:{cursor:"pointer"}},[t(m.a,{attrs:{color:"secondary",small:""}},[e._v(" mdi-pencil ")]),e._v("\n                    Edit\n                  ")],1)],1),e._v(" "),e.can("timezone_mapping_delete")?t(v.a,{on:{click:function(t){return e.deleteItem(r.id,r.timezone_id)}}},[t(y.c,{staticStyle:{cursor:"pointer"}},[t(m.a,{attrs:{color:"error",small:""}},[e._v(" mdi-delete ")]),e._v("\n                    Delete\n                  ")],1)],1):e._e()],1)],1)]}}],null,!1,3054520355)})],1)],1)],1)],1):e._e()}),[],!1,null,"4438694c",null);t.default=component.exports},856:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var o=n(96),r=n(1),l=Object(r.k)("v-toolbar__title"),c=Object(r.k)("v-toolbar__items");o.a},958:function(e,t,n){"use strict";n.r(t);var o={props:["color"],methods:{goBack:function(){window.history.back()}}},r=n(116),component=Object(r.a)(o,(function(){return(0,this._self._c)("div")}),[],!1,null,null,null);t.default=component.exports}}]);