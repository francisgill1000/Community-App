(window.webpackJsonp=window.webpackJsonp||[]).push([[55,90,180],{1070:function(t,e,n){"use strict";n.r(e);var r=n(114),o=n(133),l=n(518),d=n(875),c=n(1548),_=n(350),m=n(147),v=n(517),f=n(96),y=n(23),h=n(31),x=n(3),S=(n(88),n(55),n(528),n(13),n(6),n(41),n(61),n(37),n(35),n(521),n(72),n(33),n(58),n(117),n(80),n(12),n(954)),D=n(967),C={components:{VisitorAttendanceLogsPopup:S.default,TenantAttendanceLogsPopup:D.default},props:["user_type","dropdown"],data:function(){var t;return t={key:1,selectedItem:{},url:"ws://192.168.20.100:8080/WebSocket",tableHeight:750,status:"",department_ids:"",employee_id:"",daily_date:"",to_date:"",isFilter:!1,totalRowsCount:0,snack:!1,snackColor:"",snackText:"",date:null,menu:!1,options:{}},Object(x.a)(t,"date",null),Object(x.a)(t,"menu",!1),Object(x.a)(t,"loading",!1),Object(x.a)(t,"time_menu",!1),Object(x.a)(t,"Model","Attendance Reports"),Object(x.a)(t,"endpoint","access_control_report"),Object(x.a)(t,"search",""),Object(x.a)(t,"snackbar",!1),Object(x.a)(t,"add_manual_log",!1),Object(x.a)(t,"dialog",!1),Object(x.a)(t,"generateLogsDialog",!1),Object(x.a)(t,"reportSync",!1),Object(x.a)(t,"from_menu",!1),Object(x.a)(t,"to_menu",!1),Object(x.a)(t,"ids",[]),Object(x.a)(t,"departments",[]),Object(x.a)(t,"users",[]),Object(x.a)(t,"DateRange",!0),Object(x.a)(t,"devices",[]),Object(x.a)(t,"loading",!1),Object(x.a)(t,"total",0),Object(x.a)(t,"payload",{DeviceID:"",report_type:"",user_type:"",from_date:"",to_date:"",UserID:"",department_ids:[],status:"-1",branch_id:"",include_device_types:["all","Access Control"]}),Object(x.a)(t,"response",""),Object(x.a)(t,"data",[]),Object(x.a)(t,"errors",[]),Object(x.a)(t,"report_template","Template1"),Object(x.a)(t,"headers",[{text:"Name",align:"left",sortable:!0,key:"user",value:"user"},{text:"Flat",align:"left",sortable:!0,key:"flat",value:"flat"},{text:"Door",align:"left",sortable:!0,key:"door",value:"door"},{text:"DateTime",align:"left",sortable:!1,key:"dateTime",value:"dateTime",fieldType:"date_range_picker"},{text:"Mode",align:"left",sortable:!1,key:"mode",value:"mode"},{text:"In/Out",align:"left",sortable:!1,key:"in_out",value:"in_out"},{text:"User Type",align:"left",sortable:!1,key:"user_type",value:"user_type"}]),Object(x.a)(t,"max_date",null),Object(x.a)(t,"isCompany",!0),Object(x.a)(t,"branches",[]),Object(x.a)(t,"UserID",null),Object(x.a)(t,"visitor_type",null),t},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},mounted:function(){var t=this;setTimeout((function(){t.socketConnection()}),1e4)},created:function(){this.setFromDate(),this.getUsers(),this.getDeviceList(),this.payload.user_type=this.user_type,this.getDataFromApi(1)},methods:{showDialog:function(t){this.key++,this.selectedItem=t,t.visitor?this.UserID=t.visitor.id:t.tanent?this.UserID=t.tanent.id:t.owner?this.UserID=t.owner.id:t.contractor?this.UserID=t.contractor.id:t.delivery?this.UserID=t.delivery.id:t.maid?this.UserID=t.maid.id:t.primary?this.UserID=t.primary.id:t.family_member&&(this.UserID=t.family_member.id),this.visitor_type=this.getUserType(t),this.dialog=!0},getUserType:function(t){for(var e={Tanent:t.tanent,"Family Member":t.family_member,Relative:t.relative,Visitor:t.visitor,Delivery:t.delivery,Contractor:t.contractor,Maid:t.maid,Owner:t.owner,Employee:t.employee},n=0,r=Object.entries(e);n<r.length;n++){var o=Object(h.a)(r[n],2),l=o[0];if(o[1])return l}return"Unknown"},getUserPhone:function(t){for(var e={Tanent:t.tanent,"Family Member":t.family_member,Relative:t.relative,Visitor:t.visitor,Delivery:t.delivery,Contractor:t.contractor,Maid:t.maid},n=0,r=Object.entries(e);n<r.length;n++){var o=Object(h.a)(r[n],2),l=(o[0],o[1]);if(l)return l}return"---"},getUserInfo:function(t){for(var e={Tanent:t.tanent,"Family Member":t.family_member,Relative:t.relative,Visitor:t.visitor,Delivery:t.delivery,Contractor:t.contractor,Maid:t.maid,Employee:t.employee},n=0,r=Object.entries(e);n<r.length;n++){var o=Object(h.a)(r[n],2),l=(o[0],o[1]);if(l)return this.userObject=l,l}return this.userObject=!1,!1},filterAttr:function(data){this.payload.from_date=data.from,this.payload.to_date=data.to,this.getDataFromApi()},getBranches:function(){var t=this;if(this.$auth.user.branch_id)return this.payload.branch_id=this.$auth.user.branch_id,void(this.isCompany=!1);this.$axios.get("branch",{params:{per_page:1e3,company_id:this.$auth.user.company_id}}).then((function(e){var data=e.data;t.branches=data.data}))},getUsers:function(){var t=this,e={params:{per_page:1e3,company_id:this.$auth.user.company_id}};this.$axios.get("/get_users",e).then((function(e){var data=e.data;t.users=data}))},getDeviceList:function(){var t=this;this.$axios.get("/device_list",{params:{per_page:1e3,company_id:this.$auth.user.company_id}}).then((function(e){var data=e.data;t.devices=data.filter((function(t){return!t.name.includes("Mobile")}))}))},setFromDate:function(){if(null==this.payload.from_date){var dt=new Date,t=dt.getFullYear(),e=dt.getMonth()+1,n=e<10?"0"+e:e;this.payload.from_date="".concat(t,"-").concat(n,"-01")}},setThirtyDays:function(t){var e=new Date(t);e.setDate(e.getDate()+29);var n=new Date(e),r=n.getDate();r=r<"10"?"0"+r:r;var o=n.getMonth()+1;o=o<10?"0"+o:o;var l=n.getFullYear();this.max_date="".concat(l,"-").concat(o,"-").concat(r),this.payload.to_date="".concat(l,"-").concat(o,"-").concat(r)},getFirstAndLastDay:function(){var t=new Date,e=(t.getDate(),(t.getMonth()+1).toString().padStart(2,"0")),n=t.getFullYear(),r=new Date(n,e,0).getDate().toString().padStart(2,"0"),o="".concat(n,"-").concat(e,"-0",1),l=r>9?"".concat(r):"0".concat(r);return[o,"".concat(n,"-").concat(e,"-").concat(l)]},caps:function(t){if(t)return t.replace(/_/g," ").replace(/\b\w/g,(function(t){return t.toUpperCase()}))},can:function(t){return this.$pagePermission.can(t,this)},getDataFromApi:function(){var t=arguments,e=this;return Object(y.a)(regeneratorRuntime.mark((function n(){var r,data,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!=(t.length>0&&void 0!==t[0]?t[0]:0)){n.next=6;break}if(e.payload.from_date){n.next=4;break}return n.abrupt("return",!1);case 4:e.payload.from_date&&(e.payload.from_date=e.payload.from_date),e.payload.to_date&&(e.payload.to_date=e.payload.to_date);case 6:return e.loading=!0,n.next=9,e.$store.dispatch("fetchData",{key:"access_control_report",options:e.options,refresh:!0,endpoint:e.endpoint,filters:e.payload});case 9:r=n.sent,data=r.data,o=r.total,e.data=data,e.totalRowsCount=o,e.loading=!1;case 15:case"end":return n.stop()}}),n)})))()},pdfDownload:function(){var t=document.createElement("a");t.setAttribute("href","http://192.168.88.30:8000/api/pdf"),t.setAttribute("target","_blank"),t.click()},process_file:function(t){var e=this;return Object(y.a)(regeneratorRuntime.mark((function n(){var r,o,l,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,e.data&&e.data.length){n.next=4;break}return alert("No data found"),n.abrupt("return");case 4:"http://192.168.88.30:8000/api",r={company_id:e.$auth.user.company_id,branch_id:e.payload.branch_id,UserID:e.payload.UserID,DeviceID:e.payload.DeviceID,from_date:e.payload.from_date,to_date:e.payload.to_date,report_type:e.payload.report_type,user_type:e.payload.user_type},e.payload.from_date&&(r.from_date=e.payload.from_date),e.payload.to_date&&(r.to_date=e.payload.to_date),o=Object.keys(r).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(r[t]))})).join("&"),l="".concat("http://192.168.88.30:8000/api","/accessControlReport_").concat(t.toLowerCase(),"?").concat(o,"&include_device_types[]=all&include_device_types[]=Access Control"),(d=document.createElement("a")).setAttribute("href",l),d.setAttribute("target","_blank"),d.click(),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),console.error("Error processing file:",n.t0.message);case 19:case"end":return n.stop()}}),n,null,[[0,16]])})))()},socketConnection:function(){var t=this;this.socket=new WebSocket(this.url),this.socket.onmessage=function(e){var data=e.data,n=JSON.parse(data).Data,r=n.UserCode;n.SN,n.RecordDate,n.RecordNumber,n.status;r>0&&t.getDetails(n)}},getDetails:function(t){var e=t.SN;if(""!=e){var n,r=null===(n=this.$store.state.devices_list)||void 0===n?void 0:n.filter((function(t){return t.device_id==e}));if((null==r?void 0:r.length)>0){this.tableloading=!0;try{this.pushSocketEmployeeToTable(t)}catch(t){console.log(t)}this.tableloading=!1}}},pushSocketEmployeeToTable:function(t){var e=this;this.$axios.get("socket_call_attendance_logs",{params:{per_page:1e3,company_id:this.$auth.user.company_id}}).then((function(t){t.data;e.$axios.get("socket_call_attendance_logs_update_company_ids",{params:{per_page:1e3,company_id:e.$auth.user.company_id}}).then((function(t){t.data;e.getDataFromApi(1)}))}))}}},k=C,w=n(116),component=Object(w.a)(k,(function(){var t=this,e=t._self._c;return t.can("dashboard_access")?e("div",[e(_.a,{attrs:{"max-width":"1000"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(o.a,[e(d.a,[e(v.a,{staticClass:"pa-0 ma-0",attrs:{"no-gutters":""}},[e(l.a,{staticClass:"text-right"},[e(m.a,{attrs:{color:"primary"},on:{click:function(e){t.dialog=!1}}},[t._v("\n              mdi-close-circle-outline\n            ")])],1)],1),t._v(" "),null!=t.selectedItem.employee?e("EmployeeShortView",{key:t.key+1,attrs:{item:t.selectedItem}}):"Visitor"==t.visitor_type||"Contractor"==t.visitor_type||"Delivery"==t.visitor_type?e("VisitorAttendanceLogsPopup",{key:t.key+2,attrs:{UserID:t.UserID}}):"tenant"==t.visitor_type||"Tanent"==t.visitor_type||"Owner"==t.visitor_type||"Family Member"==t.visitor_type||"Maid"==t.visitor_type?e("TenantAttendanceLogsPopup",{key:t.key,attrs:{UserID:t.UserID,visitor_type:t.visitor_type}}):t._e()],1)],1)],1),t._v(" "),e(o.a,{staticClass:"mt-2",attrs:{elevation:"0"}},[e(f.a,{attrs:{dense:"",flat:""}},[e("span",{staticClass:"headline black--text"},[t._v(" Live Access Control Logs ")]),t._v(" "),e("span",[e(r.a,{staticClass:"ma-0 px-0",attrs:{dense:"","x-small":"",ripple:!1,text:"",title:"Reload"}},[e(m.a,{staticClass:"ml-2",attrs:{dark:""},on:{click:function(e){return t.getDataFromApi(1)}}},[t._v("mdi-reload")])],1)],1)])],1),t._v(" "),e(o.a,{staticClass:"mb-5",attrs:{elevation:"0"}},[t.can("dashboard_access")?e("div",[e(o.a,{staticClass:"mb-5",attrs:{elevation:"0"}},[e(c.a,{staticClass:"elevation-1",attrs:{dense:"",headers:t.headers,items:t.data,loading:t.loading,options:t.options,"footer-props":{itemsPerPageOptions:[10,50,100,500,1e3]},"model-value":"data.id","server-items-length":t.totalRowsCount,"fixed-header":"",height:t.tableHeight},on:{"click:row":t.showDialog,"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.id",fn:function(e){e.item;var n=e.index;return[t._v("\n            "+t._s(n+1)+"\n          ")]}},{key:"item.dateTime",fn:function(e){var n=e.item;e.index;return[t._v("\n            "+t._s(n.date)+" "+t._s(n.time)+"\n          ")]}},{key:"item.flat",fn:function(n){var r,o,l,d,c,_,m,v,f,y,h,x,S,D,C,k,w,O,j,I,z,U,T,R,A,$,F,M=n.item;n.index;return[M.owner?e("div",[t._v("\n              "+t._s(null!==(r=null==M||null===(o=M.owner)||void 0===o||null===(l=o.room)||void 0===l?void 0:l.room_number)&&void 0!==r?r:"---")+"\n            ")]):M.tanent?e("div",[t._v("\n              "+t._s(null!==(d=null==M||null===(c=M.tanent)||void 0===c||null===(_=c.room)||void 0===_?void 0:_.room_number)&&void 0!==d?d:"---")+"\n            ")]):M.visitor?e("div",[t._v("\n              "+t._s(null!==(m=null==M||null===(v=M.visitor.tanent)||void 0===v||null===(f=v.room)||void 0===f?void 0:f.room_number)&&void 0!==m?m:"---")+"\n              "),e("br"),t._v(" "),e("small",[t._v(t._s(null!==(y=null==M||null===(h=M.visitor.tanent)||void 0===h?void 0:h.full_name)&&void 0!==y?y:"---"))]),e("br"),t._v(" "),e("small",[t._v(t._s(null!==(x=null==M||null===(S=M.visitor.tanent)||void 0===S?void 0:S.phone_number)&&void 0!==x?x:"---"))])]):M.contractor?e("div",[t._v("\n              "+t._s(null!==(D=null==M||null===(C=M.contractor.tanent)||void 0===C||null===(k=C.room)||void 0===k?void 0:k.room_number)&&void 0!==D?D:"---")+"\n              "),e("br"),t._v(" "),e("small",[t._v(t._s(null!==(w=null==M||null===(O=M.contractor.tanent)||void 0===O?void 0:O.full_name)&&void 0!==w?w:"---"))]),e("br"),t._v(" "),e("small",[t._v(t._s(null!==(j=null==M||null===(I=M.contractor.tanent)||void 0===I?void 0:I.phone_number)&&void 0!==j?j:"---"))])]):M.delivery?e("div",[t._v("\n              "+t._s(null!==(z=null==M||null===(U=M.delivery.tanent)||void 0===U||null===(T=U.room)||void 0===T?void 0:T.room_number)&&void 0!==z?z:"---")+"\n              "),e("br"),t._v(" "),e("small",[t._v(t._s(null!==(R=null==M||null===(A=M.delivery.tanent)||void 0===A?void 0:A.full_name)&&void 0!==R?R:"---"))]),e("br"),t._v(" "),e("small",[t._v(t._s(null!==($=null==M||null===(F=M.delivery.tanent)||void 0===F?void 0:F.phone_number)&&void 0!==$?$:"---"))])]):e("div",[t._v("---")])]}},{key:"item.in",fn:function(e){var n=e.item;e.index;return[t._v("\n            "+t._s("out"!==n.device.function||"Out"!==n.device.function?"In":"---")+"\n          ")]}},{key:"item.out",fn:function(e){var n=e.item;e.index;return[t._v("\n            "+t._s("out"==n.device.function||"Out"==n.device.function?"Out":"---")+"\n          ")]}},{key:"item.user_type",fn:function(e){var n=e.item;e.index;return[t._v("\n            "+t._s(t.getUserType(n))+"\n          ")]}},{key:"item.status",fn:function(n){var r,o=n.item;n.index;return[t._v("\n            "+t._s(o.status)+"\n            "),e("br"),t._v(" "),e("small",[t._v(t._s(null!==(r=o.reason)&&void 0!==r?r:""))])]}},{key:"item.phone_number",fn:function(n){var r,o=n.item;n.index;return[t._v("\n            "+t._s(t.getUserPhone(o).phone_number)+"\n            "),e("br"),t._v(" "),e("small",[t._v(t._s(null!==(r=o.reason)&&void 0!==r?r:""))])]}},{key:"item.mode",fn:function(e){var n,r=e.item;e.index;return[t._v("\n            "+t._s(null!==(n=r.mode)&&void 0!==n?n:"---")+"\n          ")]}},{key:"item.in_out",fn:function(e){var n=e.item;e.index;return[t._v("\n            "+t._s(n.log_type&&"out"==n.log_type?"Out":"In")+"\n          ")]}},{key:"item.door",fn:function(e){var n,r=e.item;e.index;return[t._v("\n            "+t._s(null!==(n=r.device.short_name)&&void 0!==n?n:"---")+"\n          ")]}},{key:"item.user",fn:function(n){var r,o,d,c,_,m,f,y,h,x,S,D,C,k,w,O,j,I,z,U,T,R,A,$,F,M,L,N=n.item;return[N.tanent?e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(r=N.tanent.first_name)&&void 0!==r?r:"---")+"\n                  "+t._s(null!==(o=N.tanent.last_name)&&void 0!==o?o:"---")+"\n                ")])])],1):N.family_member?e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(d=N.family_member.first_name)&&void 0!==d?d:"---")+"\n                  "+t._s(null!==(c=N.family_member.last_name)&&void 0!==c?c:"---")+"\n                ")])])],1):N.relative?e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(_=N.relative.first_name)&&void 0!==_?_:"---")+"\n                  "+t._s(null!==(m=N.relative.last_name)&&void 0!==m?m:"---")+"\n                ")])])],1):N.visitor?e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(f=N.visitor.first_name)&&void 0!==f?f:"---")+"\n                  "+t._s(null!==(y=N.visitor.last_name)&&void 0!==y?y:"---")+"\n                ")]),t._v(" "),e("small",[t._v(t._s(null!==(h=N.visitor.phone_number)&&void 0!==h?h:""))])])],1):N.delivery?e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(x=N.delivery.first_name)&&void 0!==x?x:"---")+"\n                  "+t._s(null!==(S=N.delivery.last_name)&&void 0!==S?S:"---")+"\n                ")]),t._v(" "),e("small",[t._v(t._s(null!==(D=N.delivery.phone_number)&&void 0!==D?D:""))])])],1):N.contractor?e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(C=N.contractor.first_name)&&void 0!==C?C:"---")+"\n                  "+t._s(null!==(k=N.contractor.last_name)&&void 0!==k?k:"---")+"\n                ")]),t._v(" "),e("small",[t._v(t._s(null!==(w=N.contractor.phone_number)&&void 0!==w?w:""))])])],1):N.owner?e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(O=N.owner.first_name)&&void 0!==O?O:"---")+"\n                  "+t._s(null!==(j=N.owner.last_name)&&void 0!==j?j:"---")+"\n                ")]),t._v(" "),e("small",[t._v(t._s(null!==(I=N.owner.phone_number)&&void 0!==I?I:""))])])],1):N.maid?e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(z=N.maid.first_name)&&void 0!==z?z:"---")+"\n                  "+t._s(null!==(U=N.maid.last_name)&&void 0!==U?U:"---")+"\n                ")]),t._v(" "),e("small",[t._v(t._s(null!==(T=N.maid.phone_number)&&void 0!==T?T:""))])])],1):N.family_member?e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(R=N.family_member.first_name)&&void 0!==R?R:"---")+"\n                  "+t._s(null!==(A=N.family_member.last_name)&&void 0!==A?A:"---")+"\n                ")]),t._v(" "),e("small",[t._v(t._s(null!==($=N.maid.phone_number)&&void 0!==$?$:""))])])],1):N.employee?e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(F=N.employee.first_name)&&void 0!==F?F:"---")+"\n                  "+t._s(null!==(M=N.employee.last_name)&&void 0!==M?M:"---")+"\n                ")]),t._v(" "),e("small",[t._v(t._s(null!==(L=N.employee.phone_number)&&void 0!==L?L:""))])])],1):e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{md:"8"}},[e("div",[t._v("Unkown")])])],1)]}}],null,!1,2413868700)})],1)],1):t._e()])],1):e("NoAccess")}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{EmployeeShortView:n(968).default,NoAccess:n(880).default})},880:function(t,e,n){"use strict";n.r(e);var r=n(116),component=Object(r.a)({},(function(){this._self._c;return this._m(0)}),[function(){var t=this._self._c;return t("div",{staticClass:"text-center",staticStyle:{"margin-top":"25%"}},[t("b",[this._v("No Access")])])}],!1,null,null,null);e.default=component.exports},894:function(t,e,n){"use strict";n.r(e);var r=n(212),o={props:["icon"]},l=n(116),component=Object(l.a)(o,(function(){var t=this._self._c;return t("div",{staticClass:"text-center",staticStyle:{width:"80px",margin:"25% auto"}},[t(r.a,{attrs:{src:"/preloaders/".concat(this.icon,".gif")}})],1)}),[],!1,null,null,null);e.default=component.exports},954:function(t,e,n){"use strict";n.r(e);var r=n(329),o=n(133),l=n(518),d=n(875),c=n(1019),_=n(517),m=(n(37),n(23)),v=(n(88),n(33),n(266),n(58),n(933),n(521),n(35),{props:["UserID","visitor_type"],data:function(){return{loading:!1,dialog:!1,payload:{},searchCard:!0,infoCard:!1,item:{},response:null,firstItem:{},lastItem:{},errors:[]}},created:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!1,t.search();case 2:case"end":return e.stop()}}),e)})))()},methods:{caps:function(t){if(t)return t.replace(/\b\w/g,(function(t){return t.toUpperCase()}))},close:function(){this.searchCard=!0,this.infoCard=!1,this.dialog=!1},search:function(){var t=this;console.log(this.UserID),this.loading=!0,this.response=null,this.$axios.get("get_logs_by_visitor_id",{params:{per_page:100,company_id:this.$auth.user.company_id,UserID:this.UserID,id:this.UserID,user_type:this.visitor_type}}).then((function(e){var data=e.data;if(!data)return t.response="No record found",void(t.loading=!1);t.response=null,t.searchCard=!1,t.infoCard=!0,t.item=data,t.loading=!1;var n=data.attendance_logs;t.firstItem=n[0],t.lastItem=n[n.length-1]})).catch((function(e){var n=e.response;t.response=null,t.searchCard=!1,t.infoCard=!0,t.data=[],t.loading=!1,console.log("error:",n)}))},checkout:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={UserID:t.UserID,LogTime:t.getCurrentDateTime(),DeviceID:"Manual",company_id:t.$auth.user.company_id,log_type:"out",visitor_id:t.item.id},t.loading=!0,t.$axios.post("generate_log",n).then((function(e){var data=e.data;t.loading=!1,data.status?(t.$emit("success","Checkout has been recorded"),t.dialog=!1):t.errors=data.errors})).catch((function(e){e.message;t.$emit("response","Checkout cannot be done")}));case 3:case"end":return e.stop()}}),e)})))()},getCurrentDateTime:function(){var t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),o=String(t.getHours()).padStart(2,"0"),l=String(t.getMinutes()).padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(r," ").concat(o,":").concat(l)}}}),f=n(116),component=Object(f.a)(v,(function(){var t,e,n,m=this,v=m._self._c;return v(o.a,[v(d.a,[v(_.a,{attrs:{"no-gutters":""}},[v(l.a,{staticStyle:{"border-right":"1px solid #dddddd"},attrs:{cols:"4"}},[v("h3",[m._v(m._s(m.caps(null===(t=m.item)||void 0===t?void 0:t.visitor_type)))]),m._v(" "),v(_.a,{staticClass:"pa-0 ma-0"},[v(l.a,{attrs:{cols:"12"}},[v(_.a,{attrs:{"no-gutters":""}},[v(l.a,{staticClass:"text-center",attrs:{cols:"12"}},[v(r.a,{attrs:{size:"100"}},[v("img",{staticStyle:{width:"100%"},attrs:{src:"/no-profile-image.jpg",alt:"Avatar"}})])],1),m._v(" "),v(l.a,{staticClass:"text-center",attrs:{cols:"12"}},[v("div",{staticClass:"mt-1",staticStyle:{height:"15px","font-size":"12px"}},[m._v("\n                  "+m._s(m.item.full_name)+"\n                  ")]),m._v(" "),v("div",{staticStyle:{"font-size":"12px"}},[v("small",[m._v("\n                    "+m._s(m.item.phone_number)+"\n                    ")])])])],1)],1),m._v(" "),v(l.a,{attrs:{cols:"12"}},[v(c.a),m._v(" "),v(_.a,{staticStyle:{"font-size":"15px"},attrs:{"no-gutters":""}},[v(l.a,{attrs:{cols:"6"}},[v("small",[m._v(" First Name ")])]),m._v(" "),v(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[v("small",[m._v(" "+m._s(m.item.first_name)+" ")])]),m._v(" "),v(l.a,{attrs:{cols:"6"}},[v("small",[m._v(" Last Name ")])]),m._v(" "),v(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[v("small",[m._v(" "+m._s(m.item.last_name)+" ")])]),m._v(" "),v(l.a,{attrs:{cols:"6"}},[v("small",[m._v(" Emirates Id ")])]),m._v(" "),v(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[v("small",[m._v(" "+m._s(m.item.id_number)+" ")])]),m._v(" "),v(l.a,{attrs:{cols:"6"}},[v("small",[m._v(" Visitor Card Id ")])]),m._v(" "),v(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[v("small",[m._v(" "+m._s(m.item.system_user_id)+" ")])]),m._v(" "),v(l.a,{attrs:{cols:"6"}},[v("small",[m._v(" Email ")])]),m._v(" "),v(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[v("small",[m._v(" "+m._s(m.item.email)+" ")])]),m._v(" "),v(l.a,{attrs:{cols:"6"}},[v("small",[m._v(" Phone Number ")])]),m._v(" "),v(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[v("small",[m._v(" "+m._s(m.item.phone_number)+" ")])]),m._v(" "),v(l.a,{attrs:{cols:"6"}},[v("small",[m._v(" Purpose ")])]),m._v(" "),v(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[v("small",[m._v(" "+m._s((null===(e=m.item)||void 0===e||null===(n=e.purpose)||void 0===n?void 0:n.name)||"---")+" ")])]),m._v(" "),v(l.a,{attrs:{cols:"6"}},[v("small",[m._v(" Gender ")])]),m._v(" "),v(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[v("small",[m._v(" "+m._s(m.item.gender)+" ")])]),m._v(" "),v(l.a,{attrs:{cols:"6"}},[v("small",[m._v(" Visit From ")])]),m._v(" "),v(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[v("small",[m._v(" "+m._s(m.item.visit_from)+" "+m._s(m.item.time_in)+" ")])]),m._v(" "),v(l.a,{attrs:{cols:"6"}},[v("small",[m._v(" Visit To ")])]),m._v(" "),v(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[v("small",[m._v(" "+m._s(m.item.visit_to)+" "+m._s(m.item.time_out)+" ")])])],1)],1)],1)],1),m._v(" "),v(l.a,{attrs:{cols:"8"}},[v(c.a),m._v(" "),v(_.a,{staticClass:"px-3",attrs:{"no-gutters":""}},[v(l.a,{attrs:{cols:"12"}},[v("div",{staticClass:"mt-4"},[v("table",{staticStyle:{width:"100%"}},[v("tr",[v("td",{staticStyle:{"font-size":"12px"}},[v("small",[v("b",[m._v("#")])])]),m._v(" "),v("td",{staticStyle:{"font-size":"12px"}},[v("small",[v("b",[m._v("Date Time")])])]),m._v(" "),v("td",{staticStyle:{"font-size":"12px"}},[v("small",[v("b",[m._v("Tenant")])])]),m._v(" "),v("td",{staticStyle:{"font-size":"12px"}},[v("small",[v("b",[m._v("Flat")])])]),m._v(" "),v("td",{staticStyle:{"font-size":"12px"}},[v("small",[v("b",[m._v("Device")])])]),m._v(" "),v("td",{staticStyle:{"font-size":"12px"}},[v("small",[v("b",[m._v("In/Out")])])])]),m._v(" "),m._l(m.item.attendance_logs,(function(t,e){var n,r,o,l,d,c,_,f,y,h,x;return v("tr",{key:e},[v("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[v("small",[m._v(m._s(e+1))])]),m._v(" "),v("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[v("small",[m._v(m._s(t.LogTime))])]),m._v(" "),t.visitor?v("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[v("small",[m._v(m._s(null===(n=t.visitor.tanent)||void 0===n?void 0:n.full_name))]),v("br"),m._v(" "),v("small",[m._v(m._s(null===(r=t.visitor.tanent)||void 0===r?void 0:r.phone_number))])]):m._e(),m._v(" "),t.contractor?v("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[v("small",[m._v(m._s(null===(o=t.contractor.tanent)||void 0===o?void 0:o.full_name))]),v("br"),m._v(" "),v("small",[m._v(m._s(null===(l=t.contractor.tanent)||void 0===l?void 0:l.phone_number))])]):m._e(),m._v(" "),t.delivery?v("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[v("small",[m._v(m._s(null===(d=t.delivery.tanent)||void 0===d?void 0:d.full_name))]),v("br"),m._v(" "),v("small",[m._v(m._s(null===(c=t.delivery.tanent)||void 0===c?void 0:c.phone_number))])]):m._e(),m._v(" "),t.visitor?v("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[v("small",[m._v(m._s(null===(_=t.visitor.tanent)||void 0===_?void 0:_.room.room_number))]),v("br")]):t.contractor?v("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[v("small",[m._v(m._s(null===(f=t.contractor.tanent)||void 0===f?void 0:f.room.room_number))]),v("br")]):t.delivery?v("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[v("small",[m._v(m._s(null===(y=t.delivery.tanent)||void 0===y?void 0:y.room.room_number))]),v("br")]):m._e(),m._v(" "),v("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[v("small",[m._v(m._s(null!==(h=null==t||null===(x=t.device)||void 0===x?void 0:x.short_name)&&void 0!==h?h:"Manual"))])]),m._v(" "),v("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[v("small",[m._v(m._s(m.caps(null==t?void 0:t.log_type)))])])])}))],2)])])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},967:function(t,e,n){"use strict";n.r(e);var r=n(329),o=n(133),l=n(518),d=n(875),c=n(1019),_=n(212),m=n(517),v=n(23),f=(n(88),n(33),n(266),n(58),n(933),n(521),n(35),{props:["visitor_type","UserID"],data:function(){return{loading:!1,dialog:!1,payload:{},searchCard:!0,infoCard:!1,item:{},response:null,firstItem:{},lastItem:{},errors:[]}},created:function(){var t=this;return Object(v.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!1,t.search();case 2:case"end":return e.stop()}}),e)})))()},methods:{caps:function(t){if(t)return t.replace(/\b\w/g,(function(t){return t.toUpperCase()}))},close:function(){this.searchCard=!0,this.infoCard=!1,this.dialog=!1},search:function(){var t=this;this.loading=!0,this.response=null,this.$axios.get("get_logs_by_tanent_id",{params:{per_page:100,company_id:this.$auth.user.company_id,id:this.UserID,UserID:this.UserID,user_type:this.visitor_type}}).then((function(e){var data=e.data;if(!data)return t.response="No record found",void(t.loading=!1);t.response=null,t.searchCard=!1,t.infoCard=!0,t.item=data,t.loading=!1;var n=data.attendance_logs;t.firstItem=n[0],t.lastItem=n[n.length-1]})).catch((function(e){var n=e.response;t.response=null,t.searchCard=!1,t.infoCard=!0,t.data=[],t.loading=!1,console.log("error:",n)}))},checkout:function(){var t=this;return Object(v.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={UserID:t.UserID,LogTime:t.getCurrentDateTime(),DeviceID:"Manual",company_id:t.$auth.user.company_id,log_type:"out",visitor_id:t.item.id},t.loading=!0,t.$axios.post("generate_log",n).then((function(e){var data=e.data;t.loading=!1,data.status?(t.$emit("success","Checkout has been recorded"),t.dialog=!1):t.errors=data.errors})).catch((function(e){e.message;t.$emit("response","Checkout cannot be done")}));case 3:case"end":return e.stop()}}),e)})))()},getCurrentDateTime:function(){var t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),o=String(t.getHours()).padStart(2,"0"),l=String(t.getMinutes()).padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(r," ").concat(o,":").concat(l)}}}),y=n(116),component=Object(y.a)(f,(function(){var t=this,e=t._self._c;return e(o.a,[e(d.a,[e(m.a,{attrs:{"no-gutters":""}},[e(l.a,{staticStyle:{"border-right":"1px solid #dddddd"},attrs:{cols:"4"}},[e(o.a,{attrs:{elevation:"0",outlined:""}},[e(d.a,[e("h3",[t._v(t._s(t.caps(t.item.member_type)))]),t._v(" "),e(m.a,[e(l.a,{staticClass:"text-center",attrs:{cols:"12"}},[e(r.a,{staticStyle:{border:"1px solid #dddddd"},attrs:{size:"100"}},[t.item.profile_picture?e(_.a,{attrs:{src:t.item.profile_picture}}):e(_.a,{attrs:{src:"/no-profile-image.jpg"}})],1),t._v(" "),e("div",{staticClass:"mt-1",staticStyle:{"font-size":"14px",height:"10px"}},[t._v("\n                  "+t._s(t.item.member_type)+"\n                ")])],1),t._v(" "),e(l.a,{attrs:{cols:"12"}},[e(m.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("ID")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("\n                      "+t._s(t.item.system_user_id)+"\n                    ")])]),t._v(" "),e(l.a,{attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("Full Name")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("\n                      "+t._s(t.item.full_name)+"\n                    ")])]),t._v(" "),e(l.a,{attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("Phone Number")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("\n                      "+t._s(t.item.phone_number)+"\n                    ")])]),t._v(" "),e(l.a,{attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("Age")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("\n                      "+t._s(t.item.age)+" years old\n                    ")])]),t._v(" "),e(l.a,{attrs:{cols:"4"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("Nationality")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"8"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("\n                      "+t._s(t.item.nationality)+"\n                    ")])]),t._v(" "),e(l.a,{attrs:{cols:"3"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("Gender")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"9"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v(" "+t._s(t.item.gender)+" ")])]),t._v(" "),e(l.a,{attrs:{cols:"3"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("RFID")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"9"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v(" "+t._s(t.item.rfid)+" ")])]),t._v(" "),e(l.a,{attrs:{cols:"3"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("Pin")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"9"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v(" "+t._s(t.item.pin)+" ")])])],1)],1)],1)],1)],1)],1),t._v(" "),e(l.a,{attrs:{cols:"8"}},[e(c.a),t._v(" "),e(m.a,{staticClass:"px-3",attrs:{"no-gutters":""}},[e(l.a,{attrs:{cols:"12"}},[e("div",{staticClass:"mt-4"},[e("table",{staticStyle:{width:"100%"}},[e("tr",[e("td",{staticStyle:{"font-size":"12px"}},[e("small",[e("b",[t._v("#")])])]),t._v(" "),e("td",{staticStyle:{"font-size":"12px"}},[e("small",[e("b",[t._v("Date Time")])])]),t._v(" "),e("td",{staticStyle:{"font-size":"12px"}},[e("small",[e("b",[t._v("Device")])])]),t._v(" "),e("td",{staticStyle:{"font-size":"12px"}},[e("small",[e("b",[t._v("In/Out")])])])]),t._v(" "),t._l(t.item.attendance_logs,(function(n,r){var o,l;return e("tr",{key:r},[e("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[e("small",[t._v(t._s(r+1))])]),t._v(" "),e("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[e("small",[t._v(t._s(n.LogTime))])]),t._v(" "),e("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[e("small",[t._v(t._s(null!==(o=null==n||null===(l=n.device)||void 0===l?void 0:l.short_name)&&void 0!==o?o:"Manual"))])]),t._v(" "),e("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[e("small",[t._v(t._s(t.caps(null==n?void 0:n.log_type)))])])])}))],2)])])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},968:function(t,e,n){"use strict";n.r(e);var r=n(329),o=n(518),l=n(1019),d=n(517),c=(n(37),n(56),n(31)),_=n(23),m=(n(33),n(58),n(521),n(6),n(72),n(35),n(80),n(28),n(88),{props:["item"],data:function(){return{logs_data:null,loading:!1,log_endpoint:"attendance_logs",log_headers:[{text:"#",align:"left",sortable:!1,key:"id",value:"id",width:"10px"},{text:"DateTime",align:"left",sortable:!1,key:"date_range",value:"LogTime",fieldType:"date_range_picker"},{text:"Device",align:"left",sortable:!0,key:"device",value:"device",filterable:!0,filterSpecial:!0}],dialog:!1,UserID:null,profile_pictrue:"no-profile-image.jpg",company_id:0,employee_stats:[],todayAttendance:null,remainingTime:"00:00"}},created:function(){var t=this;return Object(_.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.company_id=t.$auth.user.company_id,e.next=3,t.getEmployeeStats();case 3:return e.next=5,t.getTodayAttendance();case 5:return e.next=7,t.getLogs();case 7:case"end":return e.stop()}}),e)})))()},methods:{caps:function(t){if(t)return t.replace(/\b\w/g,(function(t){return t.toUpperCase()}))},getDate:function(){var t=new Date,e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getDate().toString().padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(r)},getLogs:function(){var t=this;return Object(_.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$axios.get(t.log_endpoint,{params:{per_page:10,company_id:t.company_id,UserID:t.item.employee.system_user_id,from_date:t.getDate(),to_date:t.getDate()}}).then((function(e){var data=e.data;t.logs_data=data.data}));case 1:case"end":return e.stop()}}),e)})))()},getTodayAttendance:function(){var t=this;return Object(_.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!0,t.$axios.get("report",{params:{company_id:t.company_id,employee_id:t.item.employee.system_user_id,from_date:t.getFormattedDate(),to_date:t.getFormattedDate()}}).then((function(e){var data=e.data;if(t.loading=!1,!data.data.length)return t.getRemainingTime("00:00","00:00"),void(t.todayAttendance={total_hrs:"00:00",ot:"00:00"});var n=data.data[0],r=n.total_hrs,o=n.ot,l=n.shift;if(!l)return t.getRemainingTime("00:00","00:00"),void(t.todayAttendance={total_hrs:"00:00",ot:"00:00"});t.todayAttendance={total_hrs:t.timeHandler(r),ot:t.timeHandler(o)},t.getRemainingTime(t.timeHandler(r),t.timeHandler(l.working_hours))}));case 2:case"end":return e.stop()}}),e)})))()},timeHandler:function(t){return"---"===t?"00:00":t},getEmployeeStats:function(){var t=this;return Object(_.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$axios.get("employee-statistics",{params:{company_id:t.company_id,employee_id:t.item.employee.system_user_id}}).then((function(e){var data=e.data;t.employee_stats=data}));case 1:case"end":return e.stop()}}),e)})))()},getFormattedDate:function(){var t=new Date;return"".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0"))},getRemainingTime:function(t,e){var n=t.split(":").map(Number),r=Object(c.a)(n,2),o=r[0],l=r[1],d=e.split(":").map(Number),_=Object(c.a)(d,2),m=60*o+l-(60*_[0]+_[1]);if(m<0){var v=Math.abs(Math.ceil(m/60)),f=Math.abs(m%60);this.remainingTime="".concat(String(v).padStart(2,"0"),":").concat(String(f).padStart(2,"0"))}}}}),v=n(116),component=Object(v.a)(m,(function(){var t,e,n,c,_,m,v,f=this,y=f._self._c;return f.item&&f.item.id?y(d.a,{attrs:{"no-gutters":""}},[y(o.a,{staticStyle:{"border-right":"1px solid #dddddd"},attrs:{cols:"4"}},[y(l.a),f._v(" "),y(d.a,{staticClass:"pa-0 ma-0"},[y(o.a,{attrs:{cols:"12"}},[y("h3",[f._v("Employee")]),f._v(" "),y(d.a,{attrs:{"no-gutters":""}},[y(o.a,{staticClass:"text-center",attrs:{cols:"12"}},[f._v("\n            "+f._s(f.item.employee.profile_pictrue)+"\n            "),y(r.a,{attrs:{size:"100"}},[y("img",{staticStyle:{width:"100%"},attrs:{src:f.item.employee&&f.item.employee.profile_picture?f.item.employee.profile_picture:"/no-profile-image.jpg",alt:"Avatar"}})])],1),f._v(" "),y(o.a,{staticClass:"text-center",attrs:{cols:"12"}},[y("div",{staticClass:"mt-1",staticStyle:{height:"15px","font-size":"12px"}},[f._v("\n              "+f._s(null!==(t=f.item.employee.first_name)&&void 0!==t?t:"---")+"\n              "+f._s(null!==(e=f.item.employee.last_name)&&void 0!==e?e:"---")+"\n            ")]),f._v(" "),y("div",{staticStyle:{height:"15px","font-size":"12px"}},[y("small",[f._v("\n                "+f._s(null!==(n=null===(c=f.item)||void 0===c||null===(_=c.employee)||void 0===_||null===(m=_.designation)||void 0===m?void 0:m.name)&&void 0!==n?n:"---")+"\n              ")])]),f._v(" "),y("div",{staticStyle:{"font-size":"12px"}},[y("small",[f._v("\n                "+f._s(null!==(v=f.item.employee.phone_number)&&void 0!==v?v:"---")+"\n              ")])])])],1)],1),f._v(" "),y(o.a,{attrs:{cols:"12"}},[y(l.a),f._v(" "),f._l(f.employee_stats.slice(0,6),(function(t,e){return y(d.a,{key:e,staticStyle:{"font-size":"15px",height:"20px"},attrs:{"no-gutters":""}},[y(o.a,{attrs:{cols:"6"}},[y("small",[f._v(" "+f._s(t.title))])]),f._v(" "),y(o.a,{staticClass:"text-right",attrs:{cols:"6"}},[y("small",[f._v(" "+f._s(t.value))])])],1)}))],2)],1)],1),f._v(" "),y(o.a,{attrs:{cols:"8"}},[y(l.a),f._v(" "),y(d.a,{staticClass:"px-3",attrs:{"no-gutters":""}},[y(o.a,{attrs:{cols:"12"}},[f.loading?y("ComonPreloader",{attrs:{icon:"face-scan"}}):y("table",{staticClass:"mt-4",staticStyle:{width:"100%"}},[y("tr",[y("td",{staticStyle:{"font-size":"12px"}},[y("small",{},[y("b",[f._v("#")])])]),f._v(" "),y("td",{staticStyle:{"font-size":"12px"}},[y("small",{},[y("b",[f._v("Date Time")])])]),f._v(" "),y("td",{staticStyle:{"font-size":"12px"}},[y("small",[y("b",[f._v("Device")])])]),f._v(" "),y("td",{staticStyle:{"font-size":"12px"}},[y("small",[y("b",[f._v("In/Out")])])])]),f._v(" "),f._l(f.logs_data,(function(t,e){var n;return y("tr",{key:t.id},[y("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[y("small",[f._v(f._s(e+1))])]),f._v(" "),y("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[y("small",[f._v(f._s(t.date)+" "+f._s(t.time))])]),f._v(" "),y("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[y("small",[f._v(f._s(t.device?t.device.name:"---"))])]),f._v(" "),y("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[y("small",[f._v(f._s(f.caps(null===(n=f.log)||void 0===n?void 0:n.log_type)))])])])}))],2)],1)],1)],1)],1):f._e()}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ComonPreloader:n(894).default})}}]);