(window.webpackJsonp=window.webpackJsonp||[]).push([[345],{1204:function(e,t,r){"use strict";r.r(t);var o=r(894),n=r(114),l=r(133),c=r(87),d=r(516),m=r(876),f=r(350),v=r(1019),y=r(147),_=r(515),h=r(349),O=r(214),k=r(96),j=(r(37),{props:["item"],data:function(){return{payload:{},endpoint:"purpose",DialogBox:!1,loading:!1,errors:[]}},created:function(){this.payload=this.item},methods:{submit:function(){var e=this;this.payload.company_id=this.$auth.user.company_id,this.$axios.put(this.endpoint+"/"+this.payload.id,this.payload).then((function(t){t.data;e.errors=[],e.$emit("success","Purpose updated successfully"),e.DialogBox=!1})).catch((function(t){var r=t.response;if(!r)return!1;var o=r.status,data=r.data,n=r.statusText;o&&422==o?e.errors=data.errors:e.response=n}))}}}),x=r(116),component=Object(x.a)(j,(function(){var e=this,t=e._self._c;return t(f.a,{attrs:{persistent:"",width:"500"},scopedSlots:e._u([{key:"activator",fn:function(r){var o=r.on,n=r.attrs;return[t("span",e._g(e._b({staticStyle:{cursor:"pointer"}},"span",n,!1),o),[t(y.a,{attrs:{color:"black",small:""}},[e._v("mdi-pencil")]),e._v("\n      Edit\n    ")],1)]}}]),model:{value:e.DialogBox,callback:function(t){e.DialogBox=t},expression:"DialogBox"}},[e._v(" "),t(l.a,[t(k.a,{staticClass:"popup_background",attrs:{flat:"",dense:""}},[e._v("\n      Edit Purpose\n\n      "),t(h.a),e._v(" "),t("span",[t(y.a,{staticClass:"ml-2",attrs:{dark:""},on:{click:function(t){e.DialogBox=!1}}},[e._v("\n          mdi mdi-close-circle-outline")])],1)],1),e._v(" "),t(m.a,[t(_.a,[t(d.a,{attrs:{cols:"12"}},[t(o.a,{attrs:{label:"Type",outlined:"",items:["contractor","visitor","delivery"],dense:"","hide-details":!e.errors.type,"error-messages":e.errors&&e.errors.type?e.errors.type[0]:""},model:{value:e.payload.type,callback:function(t){e.$set(e.payload,"type",t)},expression:"payload.type"}})],1),e._v(" "),t(d.a,{attrs:{cols:"12"}},[t(O.a,{staticClass:"text-center",attrs:{label:"Purpose",dense:"",outlined:"","hide-details":!e.errors.name,error:e.errors.name,"error-messages":e.errors&&e.errors.name?e.errors.name[0]:""},model:{value:e.payload.name,callback:function(t){e.$set(e.payload,"name",t)},expression:"payload.name"}})],1)],1)],1),e._v(" "),t(v.a),e._v(" "),t(c.a,[t(h.a),e._v(" "),t("div",{staticClass:"text-right"},[t(n.a,{attrs:{small:"",color:"grey white--text"},on:{click:function(t){e.DialogBox=!1}}},[e._v("\n          Close\n        ")]),e._v(" "),t(n.a,{attrs:{small:"",loading:e.loading,color:"primary"},on:{click:e.submit}},[e._v("\n          Submit\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports},1205:function(e,t,r){"use strict";r.r(t);var o=r(894),n=r(114),l=r(133),c=r(87),d=r(516),m=r(876),f=r(350),v=r(1019),y=r(147),_=r(515),h=r(349),O=r(214),k=r(96),j=(r(37),r(23)),x=(r(88),{props:["buttonVisible"],data:function(){return{endpoint:"community-admin",payload:{},errors:[],roles:[],loading:!1,response:null,DialogBox:!1}},created:function(){var e=this;return Object(j.a)(regeneratorRuntime.mark((function t(){var r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.get("role-list",{params:{company_id:e.$auth.user.company_id}});case 3:r=t.sent,data=r.data,e.roles=data,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},methods:{submit:function(){var e=this;this.payload.company_id=this.$auth.user.company_id,this.$axios.post(this.endpoint,this.payload).then((function(t){t.data;e.errors=[],e.$emit("success","User inserted successfully"),e.DialogBox=!1})).catch((function(t){var r=t.response;if(!r)return!1;var o=r.status,data=r.data,n=r.statusText;o&&422==o?e.errors=data.errors:e.response=n}))}}}),C=r(116),component=Object(C.a)(x,(function(){var e=this,t=e._self._c;return t(f.a,{attrs:{persistent:"",width:"500"},scopedSlots:e._u([e.buttonVisible?{key:"activator",fn:function(r){var o=r.on,l=r.attrs;return[t("span",e._g(e._b({staticStyle:{cursor:"pointer"}},"span",l,!1),o),[t(n.a,{staticClass:"primary",attrs:{dense:"",small:"",text:"",title:"Create Tanent"}},[e._v("\n        Create User\n        "),t(y.a,{attrs:{right:"",dark:""}},[e._v("mdi-plus-circle-outline")])],1)],1)]}}:null],null,!0),model:{value:e.DialogBox,callback:function(t){e.DialogBox=t},expression:"DialogBox"}},[e._v(" "),t(l.a,[t(k.a,{staticClass:"popup_background",attrs:{flat:"",dense:""}},[e._v("\n      Create User\n      "),t(h.a),e._v(" "),t("span",[t(y.a,{staticClass:"ml-2",attrs:{dark:""},on:{click:function(t){e.DialogBox=!1}}},[e._v("\n          mdi-close-circle-outline")])],1)],1),e._v(" "),t(m.a,[t(_.a,[t(d.a,{attrs:{cols:"12"}},[t(O.a,{staticClass:"text-center",attrs:{label:"User",dense:"",outlined:"","hide-details":!e.errors.name,error:e.errors.name,"error-messages":e.errors&&e.errors.name?e.errors.name[0]:""},model:{value:e.payload.name,callback:function(t){e.$set(e.payload,"name",t)},expression:"payload.name"}})],1),e._v(" "),t(d.a,{attrs:{cols:"12"}},[t(O.a,{staticClass:"text-center",attrs:{label:"Email",dense:"",outlined:"","hide-details":!e.errors.email,error:e.errors.email,"error-messages":e.errors&&e.errors.email?e.errors.email[0]:""},model:{value:e.payload.email,callback:function(t){e.$set(e.payload,"email",t)},expression:"payload.email"}})],1),e._v(" "),t(d.a,{attrs:{cols:"12"}},[t(O.a,{staticClass:"text-center",attrs:{label:"Password",dense:"",outlined:"","hide-details":!e.errors.password,error:e.errors.password,"error-messages":e.errors&&e.errors.password?e.errors.password[0]:""},model:{value:e.payload.password,callback:function(t){e.$set(e.payload,"password",t)},expression:"payload.password"}})],1),e._v(" "),t(d.a,{attrs:{cols:"12"}},[t(o.a,{attrs:{label:"Roles",outlined:"",items:e.roles,"item-value":"id","item-text":"name",dense:"","hide-details":!e.errors.role_id,"error-messages":e.errors&&e.errors.role_id?e.errors.role_id[0]:""},model:{value:e.payload.role_id,callback:function(t){e.$set(e.payload,"role_id",t)},expression:"payload.role_id"}})],1)],1)],1),e._v(" "),t(v.a),e._v(" "),t(c.a,[t(h.a),e._v(" "),t("div",{staticClass:"text-right"},[t(n.a,{attrs:{small:"",color:"grey white--text"},on:{click:function(t){e.DialogBox=!1}}},[e._v("\n          Close\n        ")]),e._v(" "),t(n.a,{attrs:{small:"",loading:e.loading,color:"primary"},on:{click:e.submit}},[e._v("\n          Submit\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports},1206:function(e,t,r){"use strict";r.r(t);var o=r(894),n=r(114),l=r(133),c=r(87),d=r(516),m=r(876),f=r(350),v=r(1019),y=r(147),_=r(515),h=r(349),O=r(214),k=r(96),j=(r(37),r(23)),x=(r(88),{props:["item"],data:function(){return{payload:{},endpoint:"community-admin",DialogBox:!1,loading:!1,errors:[],roles:[]}},created:function(){var e=this;return Object(j.a)(regeneratorRuntime.mark((function t(){var r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.payload=e.item,t.prev=1,t.next=4,e.$axios.get("role-list",{params:{company_id:e.$auth.user.company_id}});case 4:r=t.sent,data=r.data,e.roles=data,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},methods:{submit:function(){var e=this;this.payload.company_id=this.$auth.user.company_id,this.$axios.put(this.endpoint+"/"+this.payload.id,this.payload).then((function(t){t.data;e.errors=[],e.$emit("success","User updated successfully"),e.DialogBox=!1})).catch((function(t){var r=t.response;if(!r)return!1;var o=r.status,data=r.data,n=r.statusText;o&&422==o?e.errors=data.errors:e.response=n}))}}}),C=r(116),component=Object(C.a)(x,(function(){var e=this,t=e._self._c;return t(f.a,{attrs:{persistent:"",width:"500"},scopedSlots:e._u([{key:"activator",fn:function(r){var o=r.on,n=r.attrs;return[t("span",e._g(e._b({staticStyle:{cursor:"pointer"}},"span",n,!1),o),[t(y.a,{attrs:{color:"black",small:""}},[e._v("mdi-pencil")]),e._v("\n      Edit\n    ")],1)]}}]),model:{value:e.DialogBox,callback:function(t){e.DialogBox=t},expression:"DialogBox"}},[e._v(" "),t(l.a,[t(k.a,{staticClass:"popup_background",attrs:{flat:"",dense:""}},[e._v("\n      Edit User\n\n      "),t(h.a),e._v(" "),t("span",[t(y.a,{staticClass:"ml-2",attrs:{dark:""},on:{click:function(t){e.DialogBox=!1}}},[e._v("\n          mdi mdi-close-circle-outline")])],1)],1),e._v(" "),t(m.a,[t(_.a,[t(d.a,{attrs:{cols:"12"}},[t(O.a,{staticClass:"text-center",attrs:{label:"User",dense:"",outlined:"","hide-details":!e.errors.name,error:e.errors.name,"error-messages":e.errors&&e.errors.name?e.errors.name[0]:""},model:{value:e.payload.name,callback:function(t){e.$set(e.payload,"name",t)},expression:"payload.name"}})],1),e._v(" "),t(d.a,{attrs:{cols:"12"}},[t(O.a,{staticClass:"text-center",attrs:{label:"Email",dense:"",outlined:"","hide-details":!e.errors.email,error:e.errors.email,"error-messages":e.errors&&e.errors.email?e.errors.email[0]:""},model:{value:e.payload.email,callback:function(t){e.$set(e.payload,"email",t)},expression:"payload.email"}})],1),e._v(" "),t(d.a,{attrs:{cols:"12"}},[t(O.a,{staticClass:"text-center",attrs:{label:"Password",dense:"",outlined:"","hide-details":!e.errors.password,error:e.errors.password,"error-messages":e.errors&&e.errors.password?e.errors.password[0]:""},model:{value:e.payload.password,callback:function(t){e.$set(e.payload,"password",t)},expression:"payload.password"}})],1),e._v(" "),t(d.a,{attrs:{cols:"12"}},[t(o.a,{attrs:{label:"Roles",outlined:"",items:e.roles,"item-value":"id","item-text":"name",dense:"","hide-details":!e.errors.role_id,"error-messages":e.errors&&e.errors.role_id?e.errors.role_id[0]:""},model:{value:e.payload.role_id,callback:function(t){e.$set(e.payload,"role_id",t)},expression:"payload.role_id"}})],1)],1)],1),e._v(" "),t(v.a),e._v(" "),t(c.a,[t(h.a),e._v(" "),t("div",{staticClass:"text-right"},[t(n.a,{attrs:{small:"",color:"grey white--text"},on:{click:function(t){e.DialogBox=!1}}},[e._v("\n          Close\n        ")]),e._v(" "),t(n.a,{attrs:{small:"",loading:e.loading,color:"primary"},on:{click:e.submit}},[e._v("\n          Submit\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports},1363:function(e,t,r){"use strict";r.r(t);var o,n=r(114),l=r(133),c=r(87),d=r(516),m=r(876),f=r(1571),v=r(350),y=r(1019),_=r(147),h=r(326),O=r(204),k=r(60),j=r(863),x=r(515),C=r(873),D=r(349),w=r(214),P=r(96),F=r(856),S=(r(12),r(14),r(13),r(17),r(11),r(18),r(23)),I=r(3),A=(r(6),r(72),r(33),r(58),r(55),r(35),r(88),r(898),r(914));function R(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function $(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?R(Object(source),!0).forEach((function(t){Object(I.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):R(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var B={props:["id"],auth:!1,components:{VueCropper:r.n(A).a},data:function(){var e;return e={originalURL:"https://mytime2cloud.com/register/visitor/",fullCompanyLink:"",encryptedID:"",fullLink:"",qrCodeDataURL:"",qrCompanyCodeDataURL:"",disabled:!1,openTimePicker:!1,closeTimePicker:!1,menu:!1,payload:{flat_number:"",floor_number:"",manager_name:"",number:"",emergency_phone:"",email:"",open_time:"",close_time:"",zone_id:1,weekend:1,webaccess:1},tab:null,totalRowsCount:0,filters:{},isFilter:!1,sortBy:"id",sortDesc:!1,snack:!1,snackColor:"",snackText:"",loadinglinear:!0,displayErrormsg:!1,image:"",mime_type:"",cropedImage:"",cropper:"",autoCrop:!1,dialogCropping:!1,tabMenu:[]},Object(I.a)(e,"tab","0"),Object(I.a)(e,"employeeId",0),Object(I.a)(e,"employeeObject",{}),Object(I.a)(e,"attrs",[]),Object(I.a)(e,"dialog",!1),Object(I.a)(e,"editDialog",!1),Object(I.a)(e,"viewDialog",!1),Object(I.a)(e,"selectedFile",""),Object(I.a)(e,"DialogBox",!1),Object(I.a)(e,"m",!1),Object(I.a)(e,"expand",!1),Object(I.a)(e,"expand2",!1),Object(I.a)(e,"boilerplate",!1),Object(I.a)(e,"right",!0),Object(I.a)(e,"rightDrawer",!1),Object(I.a)(e,"drawer",!0),Object(I.a)(e,"tab",null),Object(I.a)(e,"selectedItem",1),Object(I.a)(e,"on",""),Object(I.a)(e,"files",""),Object(I.a)(e,"search",""),Object(I.a)(e,"loading",!1),Object(I.a)(e,"next_page_url",""),Object(I.a)(e,"prev_page_url",""),Object(I.a)(e,"current_page",1),Object(I.a)(e,"per_page",1e3),Object(I.a)(e,"ListName",""),Object(I.a)(e,"color","background"),Object(I.a)(e,"response",""),Object(I.a)(e,"snackbar",!1),Object(I.a)(e,"btnLoader",!1),Object(I.a)(e,"max_employee",0),Object(I.a)(e,"employee",{title:"Mr",display_name:"",employee_id:"",system_user_id:""}),Object(I.a)(e,"upload",{name:""}),Object(I.a)(e,"previewImage",null),Object(I.a)(e,"pagination",{current:1,total:0,per_page:10}),Object(I.a)(e,"options",{}),Object(I.a)(e,"Model","Floor"),Object(I.a)(e,"endpoint","floor"),Object(I.a)(e,"search",""),Object(I.a)(e,"snackbar",!1),Object(I.a)(e,"ids",[]),Object(I.a)(e,"loading",!1),Object(I.a)(e,"titleItems",["Mr","Mrs","Miss","Ms","Dr"]),Object(I.a)(e,"editedIndex",-1),Object(I.a)(e,"editedItem",{name:""}),Object(I.a)(e,"defaultItem",{name:""}),Object(I.a)(e,"response",""),Object(I.a)(e,"data",[]),Object(I.a)(e,"errors",[]),Object(I.a)(e,"designations",[]),Object(I.a)(e,"roles",[]),Object(I.a)(e,"employees",[]),Object(I.a)(e,"department_filter_id",""),Object(I.a)(e,"dialogVisible",!1),Object(I.a)(e,"payloadOptions",{}),Object(I.a)(e,"headers",[{text:"Floor No",align:"left",sortable:!0,key:"floor_number",value:"floor_number",filterable:!0,filterSpecial:!1},{text:"Details",align:"left",sortable:!1,key:"options",value:"options"}]),Object(I.a)(e,"formAction","Create"),e},created:function(){var e=this;return Object(S.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loading=!1,e.boilerplate=!0,e.payloadOptions={params:{per_page:10,company_id:e.$auth.user.company_id}},e.getDataFromApi();case 4:case"end":return t.stop()}}),t)})))()},mounted:function(){},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},methods:(o={encrypt:function(){this.encryptedID=this.$crypto.encrypt(id)},closeViewDialog:function(){this.viewDialog=!1},caps:function(e){return""==e||null==e?"---":e.toString().replace(/\b\w/g,(function(e){return e.toUpperCase()}))},closePopup:function(){this.$refs.attachment_input.value=null,this.dialogCropping=!1},saveCroppedImageStep2:function(){this.cropedImage=this.$refs.cropper.getCroppedCanvas().toDataURL(),this.image_name=this.cropedImage,this.previewImage=this.cropedImage,this.dialogCropping=!1},close:function(){this.dialog=!1,this.errors=[],setTimeout((function(){}),300)},can:function(e){return this.$pagePermission.can(e,this)},onPageChange:function(){this.getDataFromApi()},applyFilters:function(){this.getDataFromApi()},toggleFilter:function(){this.isFilter=!this.isFilter},clearFilters:function(){this.filters={},this.isFilter=!1,this.getDataFromApi()},getDataFromApi:function(){var e=this;arguments.length>0&&void 0!==arguments[0]||this.endpoint;this.loadinglinear=!0;var t=this.options,r=t.sortBy,o=t.sortDesc,n=t.page,l=t.itemsPerPage,c={params:$({page:n,sortBy:r?r[0]:"",sortDesc:o?o[0]:"",per_page:l,company_id:this.id},this.filters)};this.$axios.get(this.endpoint,c).then((function(t){var data=t.data;e.data=data.data,e.pagination.current=data.current_page,e.pagination.total=data.last_page,e.totalRowsCount=data.total,0==e.data.length?e.displayErrormsg=!0:e.displayErrormsg=!1,e.loadinglinear=!1}))},addItem:function(){this.disabled=!1,this.formAction="Create",this.DialogBox=!0,this.payload={}},editItem:function(e){this.disabled=!1,this.formAction="Edit",this.DialogBox=!0,this.payload=e,this.previewImage=e.logo},viewItem:function(e){this.disabled=!0,this.formAction="View",this.DialogBox=!0,this.payload=e},deleteItem:function(e){var t=this;confirm("Are you sure you wish to delete , to mitigate any inconvenience in future.")&&this.$axios.delete("".concat(this.endpoint,"/").concat(e.id)).then((function(e){e.data;t.getDataFromApi(),t.snackbar=!0,t.response="Record deleted successfully"})).catch((function(e){return console.log(e)}))}},Object(I.a)(o,"close",(function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}),300)})),Object(I.a)(o,"submit",(function(){var e=this;this.payload.company_id=this.$auth.user.company_id,this.$axios.post(this.endpoint,this.payload).then((function(t){t.data;e.errors=[],e.snackbar=!0,e.response="Floor inserted successfully",e.getDataFromApi(),e.DialogBox=!1,e.dialog=!0})).catch((function(t){var r=t.response;if(!r)return!1;var o=r.status,data=r.data,n=r.statusText;o&&422==o?e.errors=data.errors:(e.snackbar=!0,e.response=n)}))})),Object(I.a)(o,"update_data",(function(){var e=this;this.payload.company_id=this.$auth.user.company_id,this.$axios.put(this.endpoint+"/"+this.payload.id,this.payload).then((function(t){t.data;e.errors=[],e.snackbar=!0,e.response="Floor updated successfully",e.getDataFromApi(),e.DialogBox=!1})).catch((function(t){var r=t.response;if(!r)return!1;var o=r.status,data=r.data,n=r.statusText;o&&422==o?e.errors=data.errors:(e.snackbar=!0,e.response=n)}))})),o)},E=B,L=r(116),component=Object(L.a)(E,(function(){var e=this,t=e._self._c;return e.can("employee_access")?t("div",[t("div",{staticClass:"text-center ma-2"},[t(C.a,{attrs:{small:"",top:"top",color:e.color},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n      "+e._s(e.response)+"\n    ")])],1),e._v(" "),e.loading?t("Preloader"):t("div",[t(v.a,{attrs:{persistent:"",width:"500"},model:{value:e.DialogBox,callback:function(t){e.DialogBox=t},expression:"DialogBox"}},[t(l.a,[t(P.a,{staticClass:"popup_background",attrs:{flat:"",dense:""}},[e._v("\n          "+e._s(e.formAction)+" Floor\n\n          "),t(D.a),e._v(" "),t("span",[t(_.a,{staticClass:"ml-2",attrs:{dark:""},on:{click:function(t){e.DialogBox=!1}}},[e._v("\n              mdi mdi-close-circle-outline")])],1)],1),e._v(" "),t(m.a,[t(x.a,[t(d.a,{attrs:{cols:"12"}},[t(w.a,{staticClass:"text-center",attrs:{label:"Floor Number",disabled:e.disabled,dense:"",outlined:"","hide-details":!e.errors.floor_number,error:e.errors.floor_number,"error-messages":e.errors&&e.errors.floor_number?e.errors.floor_number[0]:""},model:{value:e.payload.floor_number,callback:function(t){e.$set(e.payload,"floor_number",t)},expression:"payload.floor_number"}})],1)],1)],1),e._v(" "),t(y.a),e._v(" "),t(c.a,[t(D.a),e._v(" "),t("div",{staticClass:"text-right"},[t(n.a,{attrs:{small:"",color:"grey white--text"},on:{click:function(t){e.DialogBox=!1}}},[e._v("\n              Close\n            ")]),e._v(" "),e.can("employee_create")&&"Create"==e.formAction?t(n.a,{attrs:{small:"",loading:e.loading,color:"primary"},on:{click:e.submit}},[e._v("\n              Submit\n            ")]):e.can("employee_create")&&"Edit"==e.formAction?t(n.a,{attrs:{small:"",loading:e.loading,color:"primary"},on:{click:e.update_data}},[e._v("\n              Update\n            ")]):e._e()],1)],1)],1)],1),e._v(" "),t(C.a,{attrs:{timeout:3e3,color:e.snackColor},scopedSlots:e._u([{key:"action",fn:function(r){var o=r.attrs;return[t(n.a,e._b({attrs:{text:""},on:{click:function(t){e.snack=!1}}},"v-btn",o,!1),[e._v(" Close ")])]}}],null,!1,3090489768),model:{value:e.snack,callback:function(t){e.snack=t},expression:"snack"}},[e._v("\n      "+e._s(e.snackText)+"\n\n      ")]),e._v(" "),e.can("employee_view")?t("div",[t(l.a,{attrs:{elevation:"0"}},[t(P.a,{staticClass:"mb-2",attrs:{dense:"",flat:""}},[t(F.b,[t("span",[e._v(e._s(e.Model)+"s ")])]),e._v(" "),t("span",[t(n.a,{staticClass:"ma-0 px-0",attrs:{dense:"","x-small":"",ripple:!1,text:"",title:"Reload"}},[t(_.a,{staticClass:"ml-2",attrs:{dark:""},on:{click:e.clearFilters}},[e._v("mdi mdi-reload")])],1)],1),e._v(" "),t(D.a),e._v(" "),t("span",[t(n.a,{staticClass:"primary",attrs:{dense:"",small:"",text:"",title:"Create Floor"},on:{click:e.addItem}},[e._v("\n                Create Floor\n                "),t(_.a,{attrs:{right:"",dark:""}},[e._v("mdi-plus-circle-outline")])],1)],1)],1),e._v(" "),t(f.a,{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.data,"model-value":"data.id",loading:e.loadinglinear,options:e.options,"footer-props":{itemsPerPageOptions:[10,50,100,500,1e3]},"server-items-length":e.totalRowsCount},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"header",fn:function(r){var o=r.props.headers;return[e.isFilter?t("tr",e._l(o,(function(header){return t("td",{key:header.text},[t(m.a,[header.filterable&&!header.filterSpecial?t(w.a,{attrs:{clearable:"","hide-details":!0,id:header.value,outlined:"",dense:"",autocomplete:"off"},on:{"click:clear":function(t){e.filters[header.value]="",e.applyFilters()},input:function(t){return e.applyFilters(header.key,t)}},model:{value:e.filters[header.value],callback:function(t){e.$set(e.filters,header.value,t)},expression:"filters[header.value]"}}):e._e()],1)],1)})),0):e._e()]}},{key:"item.options",fn:function(r){var o=r.item;return[t(j.a,{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(r){var o=r.on,l=r.attrs;return[t(n.a,e._g(e._b({attrs:{"dark-2":"",icon:""}},"v-btn",l,!1),o),[t(_.a,[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e._v(" "),t(h.a,{attrs:{width:"120",dense:""}},[t(O.a,{on:{click:function(t){return e.viewItem(o)}}},[t(k.c,{staticStyle:{cursor:"pointer"}},[t(_.a,{attrs:{color:"secondary",small:""}},[e._v(" mdi-eye ")]),e._v("\n                      View\n                    ")],1)],1),e._v(" "),t(O.a,{on:{click:function(t){return e.editItem(o)}}},[t(k.c,{staticStyle:{cursor:"pointer"}},[t(_.a,{attrs:{color:"secondary",small:""}},[e._v(" mdi-pencil ")]),e._v("\n                      Edit\n                    ")],1)],1),e._v(" "),t(O.a,{on:{click:function(t){return e.deleteItem(o)}}},[t(k.c,{staticStyle:{cursor:"pointer"}},[t(_.a,{attrs:{color:"error",small:""}},[e._v(" mdi-delete ")]),e._v("\n                      Delete\n                    ")],1)],1)],1)],1)]}}],null,!1,4141217634)})],1)],1):e._e()],1)],1):t("NoAccess")}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Preloader:r(896).default,NoAccess:r(881).default})},1364:function(e,t,r){"use strict";r.r(t);var o,n=r(114),l=r(133),c=r(87),d=r(516),m=r(876),f=r(1571),v=r(350),y=r(1019),_=r(147),h=r(326),O=r(204),k=r(60),j=r(863),x=r(515),C=r(873),D=r(349),w=r(214),P=r(96),F=r(856),S=(r(37),r(12),r(14),r(13),r(17),r(11),r(18),r(23)),I=r(3),A=(r(6),r(72),r(33),r(58),r(55),r(35),r(88),r(898),r(914));function R(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function $(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?R(Object(source),!0).forEach((function(t){Object(I.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):R(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var B={props:["id"],components:{VueCropper:r.n(A).a},data:function(){var e;return e={originalURL:"https://mytime2cloud.com/register/visitor/",fullCompanyLink:"",encryptedID:"",fullLink:"",qrCodeDataURL:"",qrCompanyCodeDataURL:"",disabled:!1,openTimePicker:!1,closeTimePicker:!1,menu:!1,payload:{flat_number:"",room_category:"",manager_name:"",number:"",emergency_phone:"",email:"",open_time:"",close_time:"",zone_id:1,weekend:1,webaccess:1},tab:null,totalRowsCount:0,filters:{},isFilter:!1,sortBy:"id",sortDesc:!1,snack:!1,snackColor:"",snackText:"",loadinglinear:!0,displayErrormsg:!1,image:"",mime_type:"",cropedImage:"",cropper:"",autoCrop:!1,dialogCropping:!1,tabMenu:[]},Object(I.a)(e,"tab","0"),Object(I.a)(e,"employeeId",0),Object(I.a)(e,"employeeObject",{}),Object(I.a)(e,"attrs",[]),Object(I.a)(e,"dialog",!1),Object(I.a)(e,"editDialog",!1),Object(I.a)(e,"viewDialog",!1),Object(I.a)(e,"selectedFile",""),Object(I.a)(e,"DialogBox",!1),Object(I.a)(e,"m",!1),Object(I.a)(e,"expand",!1),Object(I.a)(e,"expand2",!1),Object(I.a)(e,"boilerplate",!1),Object(I.a)(e,"right",!0),Object(I.a)(e,"rightDrawer",!1),Object(I.a)(e,"drawer",!0),Object(I.a)(e,"tab",null),Object(I.a)(e,"selectedItem",1),Object(I.a)(e,"on",""),Object(I.a)(e,"files",""),Object(I.a)(e,"search",""),Object(I.a)(e,"loading",!1),Object(I.a)(e,"next_page_url",""),Object(I.a)(e,"prev_page_url",""),Object(I.a)(e,"current_page",1),Object(I.a)(e,"per_page",1e3),Object(I.a)(e,"ListName",""),Object(I.a)(e,"color","background"),Object(I.a)(e,"response",""),Object(I.a)(e,"snackbar",!1),Object(I.a)(e,"btnLoader",!1),Object(I.a)(e,"max_employee",0),Object(I.a)(e,"employee",{title:"Mr",display_name:"",employee_id:"",system_user_id:""}),Object(I.a)(e,"upload",{name:""}),Object(I.a)(e,"previewImage",null),Object(I.a)(e,"pagination",{current:1,total:0,per_page:10}),Object(I.a)(e,"options",{}),Object(I.a)(e,"Model","Room Category"),Object(I.a)(e,"endpoint","room-category"),Object(I.a)(e,"search",""),Object(I.a)(e,"snackbar",!1),Object(I.a)(e,"ids",[]),Object(I.a)(e,"loading",!1),Object(I.a)(e,"editedIndex",-1),Object(I.a)(e,"response",""),Object(I.a)(e,"data",[]),Object(I.a)(e,"errors",[]),Object(I.a)(e,"designations",[]),Object(I.a)(e,"roles",[]),Object(I.a)(e,"employees",[]),Object(I.a)(e,"department_filter_id",""),Object(I.a)(e,"dialogVisible",!1),Object(I.a)(e,"payloadOptions",{}),Object(I.a)(e,"headers",[{text:"Room Category",align:"left",sortable:!0,key:"name",value:"name",filterable:!0,filterSpecial:!1},{text:"Details",align:"left",sortable:!1,key:"options",value:"options"}]),Object(I.a)(e,"formAction","Create"),e},created:function(){var e=this;return Object(S.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loading=!1,e.boilerplate=!0,e.payloadOptions={params:{per_page:10,company_id:e.id}},e.getDataFromApi();case 4:case"end":return t.stop()}}),t)})))()},mounted:function(){},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},methods:(o={encrypt:function(){this.encryptedID=this.$crypto.encrypt(id)},closeViewDialog:function(){this.viewDialog=!1},caps:function(e){return""==e||null==e?"---":e.toString().replace(/\b\w/g,(function(e){return e.toUpperCase()}))},closePopup:function(){this.$refs.attachment_input.value=null,this.dialogCropping=!1},close:function(){this.dialog=!1,this.errors=[],setTimeout((function(){}),300)},can:function(e){return this.$pagePermission.can(e,this)},onPageChange:function(){this.getDataFromApi()},applyFilters:function(){this.getDataFromApi()},toggleFilter:function(){this.isFilter=!this.isFilter},clearFilters:function(){this.filters={},this.isFilter=!1,this.getDataFromApi()},getDataFromApi:function(){var e=this;arguments.length>0&&void 0!==arguments[0]||this.endpoint;this.loadinglinear=!0;var t=this.options,r=t.sortBy,o=t.sortDesc,n=t.page,l=t.itemsPerPage,c={params:$({page:n,sortBy:r?r[0]:"",sortDesc:o?o[0]:"",per_page:l,company_id:this.$auth.user.company_id},this.filters)};this.$axios.get(this.endpoint,c).then((function(t){var data=t.data;e.data=data.data,e.pagination.current=data.current_page,e.pagination.total=data.last_page,e.totalRowsCount=data.total,0==e.data.length?e.displayErrormsg=!0:e.displayErrormsg=!1,e.loadinglinear=!1}))},addItem:function(){this.disabled=!1,this.formAction="Create",this.DialogBox=!0,this.payload={}},editItem:function(e){this.disabled=!1,this.formAction="Edit",this.DialogBox=!0,this.payload=e,this.previewImage=e.logo},viewItem:function(e){this.disabled=!0,this.formAction="View",this.DialogBox=!0,this.payload=e,this.previewImage=e.logo,this.fullLink=this.originalURL+this.$auth.user.company_id+"-"+e.id,this.fullCompanyLink=this.originalURL+this.$auth.user.company_id,this.generateQRCode(this.fullLink),this.generateCompanyQRCode(this.fullCompanyLink)},deleteItem:function(e){var t=this;confirm("Are you sure you wish to delete , to mitigate any inconvenience in future.")&&this.$axios.delete("".concat(this.endpoint,"/").concat(e.id)).then((function(e){e.data;t.getDataFromApi(),t.snackbar=!0,t.response="Record deleted successfully"})).catch((function(e){return console.log(e)}))}},Object(I.a)(o,"close",(function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}),300)})),Object(I.a)(o,"submit",(function(){var e=this;this.payload.company_id=this.$auth.user.company_id,this.$axios.post(this.endpoint,this.payload).then((function(t){t.data;e.errors=[],e.snackbar=!0,e.response="Room Category inserted successfully",e.getDataFromApi(),e.DialogBox=!1,e.dialog=!0})).catch((function(t){var r=t.response;if(!r)return!1;var o=r.status,data=r.data,n=r.statusText;o&&422==o?e.errors=data.errors:(e.snackbar=!0,e.response=n)}))})),Object(I.a)(o,"update_data",(function(){var e=this;this.payload.company_id=this.$auth.user.company_id,this.$axios.put(this.endpoint+"/"+this.payload.id,this.payload).then((function(t){t.data;e.errors=[],e.snackbar=!0,e.response="Room Category updated successfully",e.getDataFromApi(),e.DialogBox=!1})).catch((function(t){var r=t.response;if(!r)return!1;var o=r.status,data=r.data,n=r.statusText;o&&422==o?e.errors=data.errors:(e.snackbar=!0,e.response=n)}))})),o)},E=B,L=r(116),component=Object(L.a)(E,(function(){var e=this,t=e._self._c;return e.can("employee_access")?t("div",[t("div",{staticClass:"text-center ma-2"},[t(C.a,{attrs:{small:"",top:"top",color:e.color},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n      "+e._s(e.response)+"\n    ")])],1),e._v(" "),e.loading?t("Preloader"):t("div",[t(v.a,{attrs:{persistent:"",width:"500"},model:{value:e.DialogBox,callback:function(t){e.DialogBox=t},expression:"DialogBox"}},[t(l.a,[t(P.a,{staticClass:"popup_background",attrs:{flat:"",dense:""}},[e._v("\n          "+e._s(e.formAction)+" Room Category\n\n          "),t(D.a),e._v(" "),t("span",[t(_.a,{staticClass:"ml-2",attrs:{dark:""},on:{click:function(t){e.DialogBox=!1}}},[e._v("\n              mdi mdi-close-circle-outline")])],1)],1),e._v(" "),t(m.a,[t(x.a,[t(d.a,{attrs:{cols:"12"}},[t(w.a,{staticClass:"text-center",attrs:{label:"Room Category",disabled:e.disabled,dense:"",outlined:"","hide-details":!e.errors.name,error:e.errors.name,"error-messages":e.errors&&e.errors.name?e.errors.name[0]:""},model:{value:e.payload.name,callback:function(t){e.$set(e.payload,"name",t)},expression:"payload.name"}})],1)],1)],1),e._v(" "),t(y.a),e._v(" "),t(c.a,[t(D.a),e._v(" "),t("div",{staticClass:"text-right"},[t(n.a,{attrs:{small:"",color:"grey white--text"},on:{click:function(t){e.DialogBox=!1}}},[e._v("\n              Close\n            ")]),e._v(" "),e.can("employee_create")&&"Create"==e.formAction?t(n.a,{attrs:{small:"",loading:e.loading,color:"primary"},on:{click:e.submit}},[e._v("\n              Submit\n            ")]):e.can("employee_create")&&"Edit"==e.formAction?t(n.a,{attrs:{small:"",loading:e.loading,color:"primary"},on:{click:e.update_data}},[e._v("\n              Update\n            ")]):e._e()],1)],1)],1)],1),e._v(" "),t(C.a,{attrs:{timeout:3e3,color:e.snackColor},scopedSlots:e._u([{key:"action",fn:function(r){var o=r.attrs;return[t(n.a,e._b({attrs:{text:""},on:{click:function(t){e.snack=!1}}},"v-btn",o,!1),[e._v(" Close ")])]}}],null,!1,3090489768),model:{value:e.snack,callback:function(t){e.snack=t},expression:"snack"}},[e._v("\n      "+e._s(e.snackText)+"\n\n      ")]),e._v(" "),e.can("employee_view")?t("div",[t(l.a,{attrs:{elevation:"0"}},[t(P.a,{staticClass:"mb-2",attrs:{dense:"",flat:""}},[t(F.b,[t("span",[e._v(e._s(e.Model)+" ")])]),e._v(" "),t("span",[t(n.a,{staticClass:"ma-0 px-0",attrs:{dense:"","x-small":"",ripple:!1,text:"",title:"Reload"}},[t(_.a,{staticClass:"ml-2",attrs:{dark:""},on:{click:e.clearFilters}},[e._v("mdi mdi-reload")])],1)],1),e._v(" "),t(D.a),e._v(" "),t("span",[t(n.a,{staticClass:"primary",attrs:{dense:"",small:"",text:"",title:"Create Room Category"},on:{click:e.addItem}},[e._v("\n              Create Room Category\n              "),t(_.a,{attrs:{right:"",dark:""}},[e._v("mdi-plus-circle-outline")])],1)],1)],1),e._v(" "),t(f.a,{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.data,"model-value":"data.id",loading:e.loadinglinear,options:e.options,"footer-props":{itemsPerPageOptions:[100,500,1e3]},"server-items-length":e.totalRowsCount},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"header",fn:function(r){var o=r.props.headers;return[e.isFilter?t("tr",e._l(o,(function(header){return t("td",{key:header.text},[t(m.a,[header.filterable&&!header.filterSpecial?t(w.a,{attrs:{clearable:"","hide-details":!0,id:header.value,outlined:"",dense:"",autocomplete:"off"},on:{"click:clear":function(t){e.filters[header.value]="",e.applyFilters()},input:function(t){return e.applyFilters(header.key,t)}},model:{value:e.filters[header.value],callback:function(t){e.$set(e.filters,header.value,t)},expression:"filters[header.value]"}}):e._e()],1)],1)})),0):e._e()]}},{key:"item.options",fn:function(r){var o=r.item;return[t(j.a,{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(r){var o=r.on,l=r.attrs;return[t(n.a,e._g(e._b({attrs:{"dark-2":"",icon:""}},"v-btn",l,!1),o),[t(_.a,[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e._v(" "),t(h.a,{attrs:{width:"120",dense:""}},[t(O.a,{on:{click:function(t){return e.viewItem(o)}}},[t(k.c,{staticStyle:{cursor:"pointer"}},[t(_.a,{attrs:{color:"secondary",small:""}},[e._v(" mdi-eye ")]),e._v("\n                    View\n                  ")],1)],1),e._v(" "),t(O.a,{on:{click:function(t){return e.editItem(o)}}},[t(k.c,{staticStyle:{cursor:"pointer"}},[t(_.a,{attrs:{color:"secondary",small:""}},[e._v(" mdi-pencil ")]),e._v("\n                    Edit\n                  ")],1)],1),e._v(" "),t(O.a,{on:{click:function(t){return e.deleteItem(o)}}},[t(k.c,{staticStyle:{cursor:"pointer"}},[t(_.a,{attrs:{color:"error",small:""}},[e._v(" mdi-delete ")]),e._v("\n                    Delete\n                  ")],1)],1)],1)],1)]}}],null,!1,4171518178)})],1)],1):e._e()],1)],1):t("NoAccess")}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Preloader:r(896).default,NoAccess:r(881).default})},1365:function(e,t,r){"use strict";r.r(t);var o,n=r(894),l=r(114),c=r(133),d=r(87),m=r(516),f=r(876),v=r(1571),y=r(350),_=r(1019),h=r(147),O=r(326),k=r(204),j=r(60),x=r(863),C=r(515),D=r(873),w=r(349),P=r(214),F=r(96),S=r(856),I=(r(37),r(12),r(14),r(13),r(17),r(11),r(18),r(23)),A=r(3),R=(r(6),r(72),r(33),r(58),r(55),r(35),r(88),r(898),r(914));function $(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function B(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?$(Object(source),!0).forEach((function(t){Object(A.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):$(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var E={props:["id"],components:{VueCropper:r.n(R).a},data:function(){var e;return e={room_categories:[],originalURL:"https://mytime2cloud.com/register/visitor/",fullCompanyLink:"",encryptedID:"",fullLink:"",qrCodeDataURL:"",qrCompanyCodeDataURL:"",disabled:!1,openTimePicker:!1,closeTimePicker:!1,menu:!1,payload:{name:"",room_category_id:null},tab:null,totalRowsCount:0,filters:{},isFilter:!1,sortBy:"id",sortDesc:!1,snack:!1,snackColor:"",snackText:"",loadinglinear:!0,displayErrormsg:!1,image:"",mime_type:"",cropedImage:"",cropper:"",autoCrop:!1,dialogCropping:!1,tabMenu:[]},Object(A.a)(e,"tab","0"),Object(A.a)(e,"employeeId",0),Object(A.a)(e,"employeeObject",{}),Object(A.a)(e,"attrs",[]),Object(A.a)(e,"dialog",!1),Object(A.a)(e,"editDialog",!1),Object(A.a)(e,"viewDialog",!1),Object(A.a)(e,"selectedFile",""),Object(A.a)(e,"DialogBox",!1),Object(A.a)(e,"m",!1),Object(A.a)(e,"expand",!1),Object(A.a)(e,"expand2",!1),Object(A.a)(e,"boilerplate",!1),Object(A.a)(e,"right",!0),Object(A.a)(e,"rightDrawer",!1),Object(A.a)(e,"drawer",!0),Object(A.a)(e,"tab",null),Object(A.a)(e,"selectedItem",1),Object(A.a)(e,"on",""),Object(A.a)(e,"files",""),Object(A.a)(e,"search",""),Object(A.a)(e,"loading",!1),Object(A.a)(e,"next_page_url",""),Object(A.a)(e,"prev_page_url",""),Object(A.a)(e,"current_page",1),Object(A.a)(e,"per_page",1e3),Object(A.a)(e,"ListName",""),Object(A.a)(e,"color","background"),Object(A.a)(e,"response",""),Object(A.a)(e,"snackbar",!1),Object(A.a)(e,"btnLoader",!1),Object(A.a)(e,"max_employee",0),Object(A.a)(e,"employee",{title:"Mr",display_name:"",employee_id:"",system_user_id:""}),Object(A.a)(e,"upload",{name:""}),Object(A.a)(e,"previewImage",null),Object(A.a)(e,"pagination",{current:1,total:0,per_page:10}),Object(A.a)(e,"options",{}),Object(A.a)(e,"Model","Room Sub Category"),Object(A.a)(e,"endpoint","room-sub-category"),Object(A.a)(e,"search",""),Object(A.a)(e,"snackbar",!1),Object(A.a)(e,"ids",[]),Object(A.a)(e,"loading",!1),Object(A.a)(e,"editedIndex",-1),Object(A.a)(e,"response",""),Object(A.a)(e,"data",[]),Object(A.a)(e,"errors",[]),Object(A.a)(e,"designations",[]),Object(A.a)(e,"roles",[]),Object(A.a)(e,"employees",[]),Object(A.a)(e,"department_filter_id",""),Object(A.a)(e,"dialogVisible",!1),Object(A.a)(e,"payloadOptions",{}),Object(A.a)(e,"headers",[{text:"Room Sub Category",align:"left",sortable:!0,key:"name",value:"name",filterable:!0,filterSpecial:!1},{text:"Room Category",align:"left",sortable:!0,key:"room_category.name",value:"room_category.name",filterable:!0,filterSpecial:!1},{text:"Details",align:"left",sortable:!1,key:"options",value:"options"}]),Object(A.a)(e,"formAction","Create"),e},created:function(){var e=this;return Object(I.a)(regeneratorRuntime.mark((function t(){var r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!1,e.boilerplate=!0,e.payloadOptions={params:{per_page:10,company_id:e.id}},e.getDataFromApi(),t.next=6,e.$axios.get("room-category-list",{params:{company_id:e.id}});case 6:r=t.sent,data=r.data,e.room_categories=data;case 9:case"end":return t.stop()}}),t)})))()},mounted:function(){},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},methods:(o={encrypt:function(){this.encryptedID=this.$crypto.encrypt(id)},closeViewDialog:function(){this.viewDialog=!1},caps:function(e){return""==e||null==e?"---":e.toString().replace(/\b\w/g,(function(e){return e.toUpperCase()}))},closePopup:function(){this.$refs.attachment_input.value=null,this.dialogCropping=!1},close:function(){this.dialog=!1,this.errors=[],setTimeout((function(){}),300)},can:function(e){return this.$pagePermission.can(e,this)},onPageChange:function(){this.getDataFromApi()},applyFilters:function(){this.getDataFromApi()},toggleFilter:function(){this.isFilter=!this.isFilter},clearFilters:function(){this.filters={},this.isFilter=!1,this.getDataFromApi()},getDataFromApi:function(){var e=this;arguments.length>0&&void 0!==arguments[0]||this.endpoint;this.loadinglinear=!0;var t=this.options,r=t.sortBy,o=t.sortDesc,n=t.page,l=t.itemsPerPage,c={params:B({page:n,sortBy:r?r[0]:"",sortDesc:o?o[0]:"",per_page:l,company_id:this.$auth.user.company_id},this.filters)};this.$axios.get(this.endpoint,c).then((function(t){var data=t.data;e.data=data.data,e.pagination.current=data.current_page,e.pagination.total=data.last_page,e.totalRowsCount=data.total,0==e.data.length?e.displayErrormsg=!0:e.displayErrormsg=!1,e.loadinglinear=!1}))},addItem:function(){this.disabled=!1,this.formAction="Create",this.DialogBox=!0,this.payload={}},editItem:function(e){this.disabled=!1,this.formAction="Edit",this.DialogBox=!0,this.payload=e,this.previewImage=e.logo},viewItem:function(e){this.disabled=!0,this.formAction="View",this.DialogBox=!0,this.payload=e,this.previewImage=e.logo,this.fullLink=this.originalURL+this.$auth.user.company_id+"-"+e.id,this.fullCompanyLink=this.originalURL+this.$auth.user.company_id,this.generateQRCode(this.fullLink),this.generateCompanyQRCode(this.fullCompanyLink)},deleteItem:function(e){var t=this;confirm("Are you sure you wish to delete , to mitigate any inconvenience in future.")&&this.$axios.delete("".concat(this.endpoint,"/").concat(e.id)).then((function(e){e.data;t.getDataFromApi(),t.snackbar=!0,t.response="Record deleted successfully"})).catch((function(e){return console.log(e)}))}},Object(A.a)(o,"close",(function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}),300)})),Object(A.a)(o,"submit",(function(){var e=this;this.payload.company_id=this.$auth.user.company_id,this.$axios.post(this.endpoint,this.payload).then((function(t){t.data;e.errors=[],e.snackbar=!0,e.response="Room Sub Category inserted successfully",e.getDataFromApi(),e.DialogBox=!1,e.dialog=!0})).catch((function(t){var r=t.response;if(!r)return!1;var o=r.status,data=r.data,n=r.statusText;o&&422==o?e.errors=data.errors:(e.snackbar=!0,e.response=n)}))})),Object(A.a)(o,"update_data",(function(){var e=this;this.payload.company_id=this.$auth.user.company_id,this.$axios.put(this.endpoint+"/"+this.payload.id,this.payload).then((function(t){t.data;e.errors=[],e.snackbar=!0,e.response="Room Sub Category updated successfully",e.getDataFromApi(),e.DialogBox=!1})).catch((function(t){var r=t.response;if(!r)return!1;var o=r.status,data=r.data,n=r.statusText;o&&422==o?e.errors=data.errors:(e.snackbar=!0,e.response=n)}))})),o)},L=E,T=r(116),component=Object(T.a)(L,(function(){var e=this,t=e._self._c;return e.can("employee_access")?t("div",[t("div",{staticClass:"text-center ma-2"},[t(D.a,{attrs:{small:"",top:"top",color:e.color},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n      "+e._s(e.response)+"\n    ")])],1),e._v(" "),e.loading?t("Preloader"):t("div",[t(y.a,{attrs:{persistent:"",width:"500"},model:{value:e.DialogBox,callback:function(t){e.DialogBox=t},expression:"DialogBox"}},[t(c.a,[t(F.a,{staticClass:"popup_background",attrs:{flat:"",dense:""}},[e._v("\n          "+e._s(e.formAction)+" Room Sub Category\n\n          "),t(w.a),e._v(" "),t("span",[t(h.a,{staticClass:"ml-2",attrs:{dark:""},on:{click:function(t){e.DialogBox=!1}}},[e._v("\n              mdi mdi-close-circle-outline")])],1)],1),e._v(" "),t(f.a,[t(C.a,[t(m.a,{attrs:{cols:"12"}},[t(n.a,{attrs:{label:"Room Category",outlined:"",items:e.room_categories,dense:"","item-text":"name","item-value":"id","hide-details":!e.errors.room_category_id,"error-messages":e.errors&&e.errors.room_category_id?e.errors.room_category_id[0]:""},model:{value:e.payload.room_category_id,callback:function(t){e.$set(e.payload,"room_category_id",t)},expression:"payload.room_category_id"}})],1),e._v(" "),t(m.a,{attrs:{cols:"12"}},[t(P.a,{staticClass:"text-center",attrs:{label:"Room Sub Category",disabled:e.disabled,dense:"",outlined:"","hide-details":!e.errors.name,error:e.errors.name,"error-messages":e.errors&&e.errors.name?e.errors.name[0]:""},model:{value:e.payload.name,callback:function(t){e.$set(e.payload,"name",t)},expression:"payload.name"}})],1)],1)],1),e._v(" "),t(_.a),e._v(" "),t(d.a,[t(w.a),e._v(" "),t("div",{staticClass:"text-right"},[t(l.a,{attrs:{small:"",color:"grey white--text"},on:{click:function(t){e.DialogBox=!1}}},[e._v("\n              Close\n            ")]),e._v(" "),e.can("employee_create")&&"Create"==e.formAction?t(l.a,{attrs:{small:"",loading:e.loading,color:"primary"},on:{click:e.submit}},[e._v("\n              Submit\n            ")]):e.can("employee_create")&&"Edit"==e.formAction?t(l.a,{attrs:{small:"",loading:e.loading,color:"primary"},on:{click:e.update_data}},[e._v("\n              Update\n            ")]):e._e()],1)],1)],1)],1),e._v(" "),t(D.a,{attrs:{timeout:3e3,color:e.snackColor},scopedSlots:e._u([{key:"action",fn:function(r){var o=r.attrs;return[t(l.a,e._b({attrs:{text:""},on:{click:function(t){e.snack=!1}}},"v-btn",o,!1),[e._v(" Close ")])]}}],null,!1,3090489768),model:{value:e.snack,callback:function(t){e.snack=t},expression:"snack"}},[e._v("\n      "+e._s(e.snackText)+"\n\n      ")]),e._v(" "),e.can("employee_view")?t("div",[t(c.a,{attrs:{elevation:"0"}},[t(F.a,{staticClass:"mb-2",attrs:{dense:"",flat:""}},[t(S.b,[t("span",[e._v(e._s(e.Model)+" ")])]),e._v(" "),t("span",[t(l.a,{staticClass:"ma-0 px-0",attrs:{dense:"","x-small":"",ripple:!1,text:"",title:"Reload"}},[t(h.a,{staticClass:"ml-2",attrs:{dark:""},on:{click:e.clearFilters}},[e._v("mdi mdi-reload")])],1)],1),e._v(" "),t(w.a),e._v(" "),t("span",[t(l.a,{staticClass:"primary",attrs:{dense:"",small:"",text:"",title:"Create Room Sub Category"},on:{click:e.addItem}},[e._v("\n              Create Room Sub Category\n              "),t(h.a,{attrs:{right:"",dark:""}},[e._v("mdi-plus-circle-outline")])],1)],1)],1),e._v(" "),t(v.a,{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.data,"model-value":"data.id",loading:e.loadinglinear,options:e.options,"footer-props":{itemsPerPageOptions:[100,500,1e3]},"server-items-length":e.totalRowsCount},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"header",fn:function(r){var o=r.props.headers;return[e.isFilter?t("tr",e._l(o,(function(header){return t("td",{key:header.text},[t(f.a,[header.filterable&&!header.filterSpecial?t(P.a,{attrs:{clearable:"","hide-details":!0,id:header.value,outlined:"",dense:"",autocomplete:"off"},on:{"click:clear":function(t){e.filters[header.value]="",e.applyFilters()},input:function(t){return e.applyFilters(header.key,t)}},model:{value:e.filters[header.value],callback:function(t){e.$set(e.filters,header.value,t)},expression:"filters[header.value]"}}):e._e()],1)],1)})),0):e._e()]}},{key:"item.options",fn:function(r){var o=r.item;return[t(x.a,{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(r){var o=r.on,n=r.attrs;return[t(l.a,e._g(e._b({attrs:{"dark-2":"",icon:""}},"v-btn",n,!1),o),[t(h.a,[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e._v(" "),t(O.a,{attrs:{width:"120",dense:""}},[t(k.a,{on:{click:function(t){return e.viewItem(o)}}},[t(j.c,{staticStyle:{cursor:"pointer"}},[t(h.a,{attrs:{color:"secondary",small:""}},[e._v(" mdi-eye ")]),e._v("\n                    View\n                  ")],1)],1),e._v(" "),t(k.a,{on:{click:function(t){return e.editItem(o)}}},[t(j.c,{staticStyle:{cursor:"pointer"}},[t(h.a,{attrs:{color:"secondary",small:""}},[e._v(" mdi-pencil ")]),e._v("\n                    Edit\n                  ")],1)],1),e._v(" "),t(k.a,{on:{click:function(t){return e.deleteItem(o)}}},[t(j.c,{staticStyle:{cursor:"pointer"}},[t(h.a,{attrs:{color:"error",small:""}},[e._v(" mdi-delete ")]),e._v("\n                    Delete\n                  ")],1)],1)],1)],1)]}}],null,!1,4171518178)})],1)],1):e._e()],1)],1):t("NoAccess")}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Preloader:r(896).default,NoAccess:r(881).default})},1366:function(e,t,r){"use strict";r.r(t);var o,n=r(894),l=r(114),c=r(133),d=r(87),m=r(516),f=r(876),v=r(1571),y=r(350),_=r(1019),h=r(147),O=r(326),k=r(204),j=r(60),x=r(863),C=r(515),D=r(873),w=r(349),P=r(214),F=r(96),S=r(856),I=(r(12),r(14),r(13),r(17),r(11),r(18),r(23)),A=r(3),R=(r(6),r(72),r(33),r(58),r(55),r(35),r(88),r(898),r(914));function $(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function B(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?$(Object(source),!0).forEach((function(t){Object(A.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):$(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var E={props:["id"],components:{VueCropper:r.n(R).a},data:function(){var e;return e={originalURL:"https://mytime2cloud.com/register/visitor/",fullCompanyLink:"",encryptedID:"",fullLink:"",qrCodeDataURL:"",qrCompanyCodeDataURL:"",disabled:!1,openTimePicker:!1,closeTimePicker:!1,menu:!1,payload:{parking_number:""},tab:null,totalRowsCount:0,filters:{},isFilter:!1,sortBy:"id",sortDesc:!1,snack:!1,snackColor:"",snackText:"",loadinglinear:!0,displayErrormsg:!1,image:"",mime_type:"",cropedImage:"",cropper:"",autoCrop:!1,dialogCropping:!1,tabMenu:[]},Object(A.a)(e,"tab","0"),Object(A.a)(e,"employeeId",0),Object(A.a)(e,"employeeObject",{}),Object(A.a)(e,"attrs",[]),Object(A.a)(e,"dialog",!1),Object(A.a)(e,"editDialog",!1),Object(A.a)(e,"viewDialog",!1),Object(A.a)(e,"selectedFile",""),Object(A.a)(e,"DialogBox",!1),Object(A.a)(e,"m",!1),Object(A.a)(e,"expand",!1),Object(A.a)(e,"expand2",!1),Object(A.a)(e,"boilerplate",!1),Object(A.a)(e,"right",!0),Object(A.a)(e,"rightDrawer",!1),Object(A.a)(e,"drawer",!0),Object(A.a)(e,"tab",null),Object(A.a)(e,"selectedItem",1),Object(A.a)(e,"on",""),Object(A.a)(e,"files",""),Object(A.a)(e,"search",""),Object(A.a)(e,"loading",!1),Object(A.a)(e,"next_page_url",""),Object(A.a)(e,"prev_page_url",""),Object(A.a)(e,"current_page",1),Object(A.a)(e,"per_page",1e3),Object(A.a)(e,"ListName",""),Object(A.a)(e,"color","background"),Object(A.a)(e,"response",""),Object(A.a)(e,"snackbar",!1),Object(A.a)(e,"btnLoader",!1),Object(A.a)(e,"max_employee",0),Object(A.a)(e,"employee",{title:"Mr",display_name:"",employee_id:"",system_user_id:""}),Object(A.a)(e,"upload",{name:""}),Object(A.a)(e,"previewImage",null),Object(A.a)(e,"pagination",{current:1,total:0,per_page:10}),Object(A.a)(e,"options",{}),Object(A.a)(e,"Model","Parking"),Object(A.a)(e,"endpoint","parking"),Object(A.a)(e,"search",""),Object(A.a)(e,"snackbar",!1),Object(A.a)(e,"ids",[]),Object(A.a)(e,"loading",!1),Object(A.a)(e,"editedIndex",-1),Object(A.a)(e,"response",""),Object(A.a)(e,"data",[]),Object(A.a)(e,"errors",[]),Object(A.a)(e,"designations",[]),Object(A.a)(e,"roles",[]),Object(A.a)(e,"employees",[]),Object(A.a)(e,"department_filter_id",""),Object(A.a)(e,"dialogVisible",!1),Object(A.a)(e,"payloadOptions",{}),Object(A.a)(e,"headers",[{text:"Category",align:"left",sortable:!0,key:"category",value:"category",filterable:!0,filterSpecial:!1},{text:"Parking Number",align:"left",sortable:!0,key:"parking_number",value:"parking_number",filterable:!0,filterSpecial:!1},{text:"Floor",align:"left",sortable:!0,key:"floor.floor_number",value:"floor.floor_number",filterable:!0,filterSpecial:!1},{text:"Status",align:"left",sortable:!0,key:"status_id",value:"status_id",filterable:!0,filterSpecial:!1},{text:"Details",align:"left",sortable:!1,key:"options",value:"options"}]),Object(A.a)(e,"floors",[]),Object(A.a)(e,"formAction","Create"),e},created:function(){var e=this;return Object(I.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!1,e.boilerplate=!0,e.payloadOptions={params:{per_page:10,company_id:e.id}},e.getDataFromApi(),t.next=6,e.getFloors();case 6:case"end":return t.stop()}}),t)})))()},mounted:function(){},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},methods:(o={getFloors:function(){var e=this;return Object(I.a)(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("floor",{params:{company_id:e.$auth.user.company_id}});case 2:r=t.sent,o=r.data,e.floors=o.data;case 5:case"end":return t.stop()}}),t)})))()},encrypt:function(){this.encryptedID=this.$crypto.encrypt(id)},closeViewDialog:function(){this.viewDialog=!1},caps:function(e){return""==e||null==e?"---":e.toString().replace(/\b\w/g,(function(e){return e.toUpperCase()}))},closePopup:function(){this.$refs.attachment_input.value=null,this.dialogCropping=!1},close:function(){this.dialog=!1,this.errors=[],setTimeout((function(){}),300)},can:function(e){return this.$pagePermission.can(e,this)},onPageChange:function(){this.getDataFromApi()},applyFilters:function(){this.getDataFromApi()},toggleFilter:function(){this.isFilter=!this.isFilter},clearFilters:function(){this.filters={},this.isFilter=!1,this.getDataFromApi()},getDataFromApi:function(){var e=this;arguments.length>0&&void 0!==arguments[0]||this.endpoint;this.loadinglinear=!0;var t=this.options,r=t.sortBy,o=t.sortDesc,n=t.page,l=t.itemsPerPage,c={params:B({page:n,sortBy:r?r[0]:"",sortDesc:o?o[0]:"",per_page:l,company_id:this.$auth.user.company_id},this.filters)};this.$axios.get(this.endpoint,c).then((function(t){var data=t.data;e.data=data.data,e.pagination.current=data.current_page,e.pagination.total=data.last_page,e.totalRowsCount=data.total,0==e.data.length?e.displayErrormsg=!0:e.displayErrormsg=!1,e.loadinglinear=!1}))},addItem:function(){this.disabled=!1,this.formAction="Create",this.DialogBox=!0,this.payload={}},editItem:function(e){this.disabled=!1,this.formAction="Edit",this.DialogBox=!0,this.payload=e},viewItem:function(e){this.disabled=!0,this.formAction="View",this.DialogBox=!0,this.payload=e,this.previewImage=e.logo},deleteItem:function(e){var t=this;confirm("Are you sure you wish to delete , to mitigate any inconvenience in future.")&&this.$axios.delete("".concat(this.endpoint,"/").concat(e.id)).then((function(e){e.data;t.getDataFromApi(),t.snackbar=!0,t.response="Record deleted successfully"})).catch((function(e){return console.log(e)}))}},Object(A.a)(o,"close",(function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}),300)})),Object(A.a)(o,"submit",(function(){var e=this;this.payload.company_id=this.$auth.user.company_id,this.$axios.post(this.endpoint,this.payload).then((function(t){t.data;e.errors=[],e.snackbar=!0,e.response="Parking inserted successfully",e.getDataFromApi(),e.DialogBox=!1,e.dialog=!0})).catch((function(t){var r=t.response;if(!r)return!1;var o=r.status,data=r.data,n=r.statusText;o&&422==o?e.errors=data.errors:(e.snackbar=!0,e.response=n)}))})),Object(A.a)(o,"update_data",(function(){var e=this;this.$axios.put(this.endpoint+"/"+this.payload.id,this.payload).then((function(t){t.data;e.errors=[],e.snackbar=!0,e.response="Parking updated successfully",e.getDataFromApi(),e.DialogBox=!1})).catch((function(t){var r=t.response;if(!r)return!1;var o=r.status,data=r.data,n=r.statusText;o&&422==o?e.errors=data.errors:(e.snackbar=!0,e.response=n)}))})),o)},L=E,T=r(116),component=Object(T.a)(L,(function(){var e=this,t=e._self._c;return e.can("employee_access")?t("div",[t("div",{staticClass:"text-center ma-2"},[t(D.a,{attrs:{small:"",top:"top",color:e.color},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n      "+e._s(e.response)+"\n    ")])],1),e._v(" "),e.loading?t("Preloader"):t("div",[t(y.a,{attrs:{persistent:"",width:"500"},model:{value:e.DialogBox,callback:function(t){e.DialogBox=t},expression:"DialogBox"}},[t(c.a,[t(F.a,{staticClass:"popup_background",attrs:{flat:"",dense:""}},[e._v("\n          "+e._s(e.formAction)+" Parking\n\n          "),t(w.a),e._v(" "),t("span",[t(h.a,{staticClass:"ml-2",attrs:{dark:""},on:{click:function(t){e.DialogBox=!1}}},[e._v("\n              mdi mdi-close-circle-outline")])],1)],1),e._v(" "),t(f.a,[t(C.a,[t(m.a,{attrs:{cols:"6"}},[t(n.a,{attrs:{label:"Category",outlined:"",disabled:e.disabled,items:["Commercial","Residence","VIP","Guest","Green","Special Needs"],dense:"","hide-details":!e.errors.category,"error-messages":e.errors&&e.errors.category?e.errors.category[0]:""},model:{value:e.payload.category,callback:function(t){e.$set(e.payload,"category",t)},expression:"payload.category"}})],1),e._v(" "),t(m.a,{attrs:{cols:"6"}},[t(n.a,{attrs:{label:"Floor Number",outlined:"",readonly:e.disabled,items:e.floors,dense:"","item-text":"floor_number","item-value":"id","hide-details":!e.errors.floor_id,"error-messages":e.errors&&e.errors.floor_id?e.errors.floor_id[0]:""},model:{value:e.payload.floor_id,callback:function(t){e.$set(e.payload,"floor_id",t)},expression:"payload.floor_id"}})],1),e._v(" "),t(m.a,{attrs:{cols:"6"}},[t(P.a,{staticClass:"text-center",attrs:{label:"Parking Number",disabled:e.disabled,dense:"",outlined:"","hide-details":!e.errors.parking_number,"error-messages":e.errors&&e.errors.parking_number?e.errors.parking_number[0]:""},model:{value:e.payload.parking_number,callback:function(t){e.$set(e.payload,"parking_number",t)},expression:"payload.parking_number"}})],1),e._v(" "),t(m.a,{attrs:{cols:"6"}},[t(n.a,{attrs:{label:"Status",outlined:"",disabled:e.disabled,items:[{id:1,status:"Active"},{id:2,status:"InActive"}],dense:"","item-text":"status","item-value":"id","hide-details":!e.errors.status,"error-messages":e.errors&&e.errors.status?e.errors.status[0]:""},model:{value:e.payload.status_id,callback:function(t){e.$set(e.payload,"status_id",t)},expression:"payload.status_id"}})],1)],1)],1),e._v(" "),t(_.a),e._v(" "),t(d.a,[t(w.a),e._v(" "),t("div",{staticClass:"text-right"},[t(l.a,{attrs:{small:"",color:"grey white--text"},on:{click:function(t){e.DialogBox=!1}}},[e._v("\n              Close\n            ")]),e._v(" "),e.can("employee_create")&&"Create"==e.formAction?t(l.a,{attrs:{small:"",loading:e.loading,color:"primary"},on:{click:e.submit}},[e._v("\n              Submit\n            ")]):e.can("employee_create")&&"Edit"==e.formAction?t(l.a,{attrs:{small:"",loading:e.loading,color:"primary"},on:{click:e.update_data}},[e._v("\n              Update\n            ")]):e._e()],1)],1)],1)],1),e._v(" "),t(D.a,{attrs:{timeout:3e3,color:e.snackColor},scopedSlots:e._u([{key:"action",fn:function(r){var o=r.attrs;return[t(l.a,e._b({attrs:{text:""},on:{click:function(t){e.snack=!1}}},"v-btn",o,!1),[e._v(" Close ")])]}}],null,!1,3090489768),model:{value:e.snack,callback:function(t){e.snack=t},expression:"snack"}},[e._v("\n      "+e._s(e.snackText)+"\n\n      ")]),e._v(" "),e.can("employee_view")?t("div",[t(c.a,{attrs:{elevation:"0"}},[t(F.a,{staticClass:"mb-2",attrs:{dense:"",flat:""}},[t(S.b,[t("span",[e._v(e._s(e.Model)+" ")])]),e._v(" "),t("span",[t(l.a,{staticClass:"ma-0 px-0",attrs:{dense:"","x-small":"",ripple:!1,text:"",title:"Reload"}},[t(h.a,{staticClass:"ml-2",attrs:{dark:""},on:{click:e.clearFilters}},[e._v("mdi mdi-reload")])],1)],1),e._v(" "),t(w.a),e._v(" "),t("span",[t(l.a,{staticClass:"primary",attrs:{dense:"",small:"",text:"",title:"Create Parking"},on:{click:e.addItem}},[e._v("\n              Create Parking\n              "),t(h.a,{attrs:{right:"",dark:""}},[e._v("mdi-plus-circle-outline")])],1)],1)],1),e._v(" "),t(v.a,{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.data,"model-value":"data.id",loading:e.loadinglinear,options:e.options,"footer-props":{itemsPerPageOptions:[100,500,1e3]},"server-items-length":e.totalRowsCount},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"header",fn:function(r){var o=r.props.headers;return[e.isFilter?t("tr",e._l(o,(function(header){return t("td",{key:header.text},[t(f.a,[header.filterable&&!header.filterSpecial?t(P.a,{attrs:{clearable:"","hide-details":!0,id:header.value,outlined:"",dense:"",autocomplete:"off"},on:{"click:clear":function(t){e.filters[header.value]="",e.applyFilters()},input:function(t){return e.applyFilters(header.key,t)}},model:{value:e.filters[header.value],callback:function(t){e.$set(e.filters,header.value,t)},expression:"filters[header.value]"}}):e._e()],1)],1)})),0):e._e()]}},{key:"item.status_id",fn:function(t){var r=t.item;return[e._v("\n            "+e._s(1==(null==r?void 0:r.status_id)?"Active":"In Active")+"\n          ")]}},{key:"item.options",fn:function(r){var o=r.item;return[t(x.a,{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(r){var o=r.on,n=r.attrs;return[t(l.a,e._g(e._b({attrs:{"dark-2":"",icon:""}},"v-btn",n,!1),o),[t(h.a,[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e._v(" "),t(O.a,{attrs:{width:"120",dense:""}},[t(k.a,{on:{click:function(t){return e.viewItem(o)}}},[t(j.c,{staticStyle:{cursor:"pointer"}},[t(h.a,{attrs:{color:"secondary",small:""}},[e._v(" mdi-eye ")]),e._v("\n                    View\n                  ")],1)],1),e._v(" "),t(k.a,{on:{click:function(t){return e.editItem(o)}}},[t(j.c,{staticStyle:{cursor:"pointer"}},[t(h.a,{attrs:{color:"secondary",small:""}},[e._v(" mdi-pencil ")]),e._v("\n                    Edit\n                  ")],1)],1),e._v(" "),t(k.a,{on:{click:function(t){return e.deleteItem(o)}}},[t(j.c,{staticStyle:{cursor:"pointer"}},[t(h.a,{attrs:{color:"error",small:""}},[e._v(" mdi-delete ")]),e._v("\n                    Delete\n                  ")],1)],1)],1)],1)]}}],null,!1,3578647496)})],1)],1):e._e()],1)],1):t("NoAccess")}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Preloader:r(896).default,NoAccess:r(881).default})},1367:function(e,t,r){"use strict";r.r(t);var o=r(114),n=r(133),l=r(1571),c=r(147),d=r(326),m=r(204),f=r(60),v=r(863),y=r(873),_=r(349),h=r(96),O=r(856),k=(r(12),r(14),r(13),r(6),r(17),r(11),r(18),r(23)),j=r(3);r(35),r(88);function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function C(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(j.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var D={props:["id"],data:function(){var e;return e={loading:!0,totalRowsCount:0,color:"background",response:"",snackbar:!1,options:{},Model:"Purpose",endpoint:"purpose"},Object(j.a)(e,"response",""),Object(j.a)(e,"data",[]),Object(j.a)(e,"headers",[{text:"Purpose",align:"left",sortable:!0,key:"name",value:"name",filterable:!0,filterSpecial:!1},{text:"Type",align:"left",sortable:!0,key:"type",value:"type",filterable:!0,filterSpecial:!1},{text:"Details",align:"left",sortable:!1,key:"options",value:"options"}]),e},created:function(){var e=this;return Object(k.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loading=!1,e.getDataFromApi();case 2:case"end":return t.stop()}}),t)})))()},mounted:function(){},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},methods:{handleSuccessResponse:function(e){this.snackbar=!0,this.response=e,this.getDataFromApi()},can:function(e){return this.$pagePermission.can(e,this)},getDataFromApi:function(){var e=this,t=this.options,r=t.sortBy,o=t.sortDesc,n=t.page,l=t.itemsPerPage,c={params:C({page:n,sortBy:r?r[0]:"",sortDesc:o?o[0]:"",per_page:l,company_id:this.$auth.user.company_id},this.filters)};this.$axios.get(this.endpoint,c).then((function(t){var data=t.data;e.data=data.data,e.totalRowsCount=data.total,e.loading=!1}))},deleteItem:function(e){var t=this;confirm("Are you sure you wish to delete , to mitigate any inconvenience in future.")&&this.$axios.delete("".concat(this.endpoint,"/").concat(e.id)).then((function(e){e.data;t.getDataFromApi(),t.snackbar=!0,t.response="Record deleted successfully"})).catch((function(e){return console.log(e)}))}}},w=r(116),component=Object(w.a)(D,(function(){var e=this,t=e._self._c;return e.can("employee_access")?t("div",[t("div",{staticClass:"text-center ma-2"},[t(y.a,{attrs:{small:"",top:"top",color:e.color},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n      "+e._s(e.response)+"\n    ")])],1),e._v(" "),e.loading?t("Preloader"):t("div",[e.can("employee_view")?t("div",[t(n.a,{attrs:{elevation:"0"}},[t(h.a,{staticClass:"mb-2",attrs:{dense:"",flat:""}},[t(O.b,[t("span",[e._v(e._s(e.Model)+" ")])]),e._v(" "),t("span",[t(o.a,{staticClass:"ma-0 px-0",attrs:{dense:"","x-small":"",ripple:!1,text:"",title:"Reload"}},[t(c.a,{staticClass:"ml-2",attrs:{dark:""},on:{click:e.getDataFromApi}},[e._v("mdi mdi-reload")])],1)],1),e._v(" "),t(_.a),e._v(" "),t("CommunityPurposeCreate",{attrs:{buttonVisible:!0},on:{success:e.handleSuccessResponse}})],1),e._v(" "),t(l.a,{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.data,"model-value":"data.id",loading:e.loading,options:e.options,"footer-props":{itemsPerPageOptions:[100,500,1e3]},"server-items-length":e.totalRowsCount},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"item.options",fn:function(r){var n=r.item;return[t(v.a,{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on,l=r.attrs;return[t(o.a,e._g(e._b({attrs:{"dark-2":"",icon:""}},"v-btn",l,!1),n),[t(c.a,[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e._v(" "),t(d.a,{attrs:{width:"120",dense:""}},[t(m.a,{on:{click:function(t){return e.viewItem(n)}}},[t(f.c,{staticStyle:{cursor:"pointer"}},[t(c.a,{attrs:{color:"secondary",small:""}},[e._v(" mdi-eye ")]),e._v("\n                    View\n                  ")],1)],1),e._v(" "),t(m.a,[t(f.c,{staticStyle:{cursor:"pointer"}},[t("CommunityPurposeEdit",{attrs:{item:n},on:{success:e.handleSuccessResponse}})],1)],1),e._v(" "),t(m.a,{on:{click:function(t){return e.deleteItem(n)}}},[t(f.c,{staticStyle:{cursor:"pointer"}},[t(c.a,{attrs:{color:"error",small:""}},[e._v(" mdi-delete ")]),e._v("\n                    Delete\n                  ")],1)],1)],1)],1)]}}],null,!1,1410468698)})],1)],1):e._e()])],1):t("NoAccess")}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CommunityPurposeCreate:r(939).default,CommunityPurposeEdit:r(1204).default,Preloader:r(896).default,NoAccess:r(881).default})},1368:function(e,t,r){"use strict";r.r(t);var o=r(114),n=r(133),l=r(1571),c=r(147),d=r(326),m=r(204),f=r(60),v=r(863),y=r(873),_=r(349),h=r(96),O=r(856),k=(r(12),r(14),r(13),r(6),r(17),r(11),r(18),r(23)),j=r(3);r(35),r(88);function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function C(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(j.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var D={props:["id"],data:function(){var e;return e={loading:!0,data_table_loading:!1,totalRowsCount:0,color:"background",response:"",snackbar:!1,options:{},Model:"User",endpoint:"community-admin"},Object(j.a)(e,"response",""),Object(j.a)(e,"data",[]),Object(j.a)(e,"headers",[{text:"Name",align:"left",sortable:!0,key:"name",value:"name",filterable:!0,filterSpecial:!1},{text:"Email",align:"left",sortable:!0,key:"email",value:"email",filterable:!0,filterSpecial:!1},{text:"Role",align:"left",sortable:!0,key:"role.name",value:"role.name",filterable:!0,filterSpecial:!1},{text:"Details",align:"left",sortable:!1,key:"options",value:"options"}]),e},created:function(){var e=this;return Object(k.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loading=!1,e.getDataFromApi();case 2:case"end":return t.stop()}}),t)})))()},mounted:function(){},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},methods:{handleSuccessResponse:function(e){this.snackbar=!0,this.response=e,this.getDataFromApi()},can:function(e){return this.$pagePermission.can(e,this)},getDataFromApi:function(){var e=this;this.data_table_loading=!0;var t=this.options,r=t.sortBy,o=t.sortDesc,n=t.page,l=t.itemsPerPage,c={params:C({page:n,sortBy:r?r[0]:"",sortDesc:o?o[0]:"",per_page:l,company_id:this.$auth.user.company_id},this.filters)};this.$axios.get(this.endpoint,c).then((function(t){var data=t.data;e.data=data.data,e.totalRowsCount=data.total,e.data_table_loading=!1})).catch((function(t){return e.data_table_loading=!1}))},deleteItem:function(e){var t=this;confirm("Are you sure you wish to delete , to mitigate any inconvenience in future.")&&this.$axios.delete("".concat(this.endpoint,"/").concat(e.id)).then((function(e){e.data;t.getDataFromApi(),t.snackbar=!0,t.response="Record deleted successfully"})).catch((function(e){return console.log(e)}))}}},w=r(116),component=Object(w.a)(D,(function(){var e=this,t=e._self._c;return e.can("employee_access")?t("div",[t("div",{staticClass:"text-center ma-2"},[t(y.a,{attrs:{small:"",top:"top",color:e.color},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n      "+e._s(e.response)+"\n    ")])],1),e._v(" "),e.loading?t("Preloader"):t("div",[e.can("employee_view")?t("div",[t(n.a,{attrs:{elevation:"0"}},[t(h.a,{staticClass:"mb-2",attrs:{dense:"",flat:""}},[t(O.b,[t("span",[e._v(e._s(e.Model)+" ")])]),e._v(" "),t("span",[t(o.a,{staticClass:"ma-0 px-0",attrs:{dense:"","x-small":"",ripple:!1,text:"",title:"Reload"}},[t(c.a,{staticClass:"ml-2",attrs:{dark:""},on:{click:e.getDataFromApi}},[e._v("mdi mdi-reload")])],1)],1),e._v(" "),t(_.a),e._v(" "),t("CommunityUserCreate",{attrs:{buttonVisible:!0},on:{success:e.handleSuccessResponse}})],1),e._v(" "),t(l.a,{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.data,"model-value":"data.id",loading:e.data_table_loading,options:e.options,"footer-props":{itemsPerPageOptions:[100,500,1e3]},"server-items-length":e.totalRowsCount},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"item.options",fn:function(r){var n=r.item;return[t(v.a,{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on,l=r.attrs;return[t(o.a,e._g(e._b({attrs:{"dark-2":"",icon:""}},"v-btn",l,!1),n),[t(c.a,[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e._v(" "),t(d.a,{attrs:{width:"120",dense:""}},[t(m.a,{on:{click:function(t){return e.viewItem(n)}}},[t(f.c,{staticStyle:{cursor:"pointer"}},[t(c.a,{attrs:{color:"secondary",small:""}},[e._v(" mdi-eye ")]),e._v("\n                    View\n                  ")],1)],1),e._v(" "),t(m.a,[t(f.c,{staticStyle:{cursor:"pointer"}},[t("CommunityUserEdit",{attrs:{item:n},on:{success:e.handleSuccessResponse}})],1)],1),e._v(" "),t(m.a,{on:{click:function(t){return e.deleteItem(n)}}},[t(f.c,{staticStyle:{cursor:"pointer"}},[t(c.a,{attrs:{color:"error",small:""}},[e._v(" mdi-delete ")]),e._v("\n                    Delete\n                  ")],1)],1)],1)],1)]}}],null,!1,4236775765)})],1)],1):e._e()])],1):t("NoAccess")}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CommunityUserCreate:r(1205).default,CommunityUserEdit:r(1206).default,Preloader:r(896).default,NoAccess:r(881).default})},1614:function(e,t,r){"use strict";r.r(t);var o=r(853),n=r(855),l=r(854),c=(r(519),r(6),r(72),{data:function(){return{companyId:0}},created:function(){this.companyId=this.$auth.user.company_id},methods:{generateRandomId:function(){return Math.floor(Math.random()*Math.pow(10,8)).toString().padStart(8,"0")}}}),d=r(116),component=Object(d.a)(c,(function(){var e=this,t=e._self._c;return t(l.a,{attrs:{color:"deep-purple accent-4",right:""}},[t(o.a,[e._v("Floor")]),e._v(" "),t(o.a,[e._v("Category")]),e._v(" "),t(o.a,[e._v("Sub Category")]),e._v(" "),t(o.a,[e._v("Room")]),e._v(" "),t(o.a,[e._v("Parking")]),e._v(" "),t(o.a,[e._v("Purpose")]),e._v(" "),t(o.a,[e._v("Users")]),e._v(" "),t(n.a,[t("CommunityFloor",{attrs:{id:e.companyId}})],1),e._v(" "),t(n.a,[t("CommunityCategory",{attrs:{id:e.companyId}})],1),e._v(" "),t(n.a,[t("CommunitySubCategory",{key:e.generateRandomId(),attrs:{id:e.companyId}})],1),e._v(" "),t(n.a,[t("CommunityRoom",{attrs:{id:e.companyId}})],1),e._v(" "),t(n.a,[t("CommunityParking")],1),e._v(" "),t(n.a,[t("CommunityPurpose",{attrs:{id:e.companyId}})],1),e._v(" "),t(n.a,[t("CommunityUser",{attrs:{id:e.companyId}})],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CommunityFloor:r(1363).default,CommunityCategory:r(1364).default,CommunitySubCategory:r(1365).default,CommunityRoom:r(1563).default,CommunityParking:r(1366).default,CommunityPurpose:r(1367).default,CommunityUser:r(1368).default})},939:function(e,t,r){"use strict";r.r(t);var o=r(894),n=r(114),l=r(133),c=r(87),d=r(516),m=r(876),f=r(350),v=r(1019),y=r(147),_=r(515),h=r(349),O=r(214),k=r(96),j=(r(37),{props:["buttonVisible","type"],data:function(){return{endpoint:"purpose",payload:{},errors:[],loading:!1,response:null,DialogBox:!1}},mounted:function(){this.type&&(this.payload.type=this.type)},methods:{submit:function(){var e=this;this.payload.company_id=this.$auth.user.company_id,this.$axios.post(this.endpoint,this.payload).then((function(t){var data=t.data,r="contractor"==e.type?"Activity":"Purpose";e.errors=[],e.$emit("success",e.type?data.record.id:r+" inserted successfully"),e.DialogBox=!1})).catch((function(t){var r=t.response;if(!r)return!1;var o=r.status,data=r.data,n=r.statusText;o&&422==o?e.errors=data.errors:e.response=n}))}}}),x=r(116),component=Object(x.a)(j,(function(){var e=this,t=e._self._c;return t(f.a,{attrs:{persistent:"",width:"500"},scopedSlots:e._u([e.buttonVisible?{key:"activator",fn:function(r){var o=r.on,l=r.attrs;return[t("span",e._g(e._b({staticStyle:{cursor:"pointer"}},"span",l,!1),o),[t(n.a,{staticClass:"primary",attrs:{dense:"",small:"",text:"",title:"Create Tanent"}},[e._v("\n        Create "+e._s("contractor"==e.type?"Activity":"Purpose")+"\n        "),t(y.a,{attrs:{right:"",dark:""}},[e._v("mdi-plus-circle-outline")])],1)],1)]}}:null],null,!0),model:{value:e.DialogBox,callback:function(t){e.DialogBox=t},expression:"DialogBox"}},[e._v(" "),t(l.a,[t(k.a,{staticClass:"popup_background",attrs:{flat:"",dense:""}},[e._v("\n      Create "+e._s("contractor"==e.type?"Activity":"Purpose")+"\n      "),t(h.a),e._v(" "),t("span",[t(y.a,{staticClass:"ml-2",attrs:{dark:""},on:{click:function(t){e.DialogBox=!1}}},[e._v("\n          mdi-close-circle-outline")])],1)],1),e._v(" "),t(m.a,[t(_.a,[e.type?e._e():t(d.a,{attrs:{cols:"12"}},[t(o.a,{attrs:{label:"Type",outlined:"",items:["contractor","visitor","delivery"],dense:"","hide-details":!e.errors.type,"error-messages":e.errors&&e.errors.type?e.errors.type[0]:""},model:{value:e.payload.type,callback:function(t){e.$set(e.payload,"type",t)},expression:"payload.type"}})],1),e._v(" "),t(d.a,{attrs:{cols:"12"}},[t(O.a,{staticClass:"text-center",attrs:{label:"".concat("contractor"==e.type?"Activity":"Purpose"),dense:"",outlined:"","hide-details":!e.errors.name,error:e.errors.name,"error-messages":e.errors&&e.errors.name?e.errors.name[0]:""},model:{value:e.payload.name,callback:function(t){e.$set(e.payload,"name",t)},expression:"payload.name"}})],1)],1)],1),e._v(" "),t(v.a),e._v(" "),t(c.a,[t(h.a),e._v(" "),t("div",{staticClass:"text-right"},[t(n.a,{attrs:{small:"",color:"grey white--text"},on:{click:function(t){e.DialogBox=!1}}},[e._v("\n          Close\n        ")]),e._v(" "),t(n.a,{attrs:{small:"",loading:e.loading,color:"primary"},on:{click:e.submit}},[e._v("\n          Submit\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);