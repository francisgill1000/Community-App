(window.webpackJsonp=window.webpackJsonp||[]).push([[402,38,76,78,87,92,102,182,236,253],{1791:function(t,e,n){"use strict";n.r(e);var r=n(116),component=Object(r.a)({},(function(){return(0,this._self._c)("CommunityReport",{attrs:{label:"Employee Report",user_type:"employee",showFilters:!0}})}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CommunityReport:n(989).default})},881:function(t,e,n){"use strict";n.r(e);var r=n(116),component=Object(r.a)({},(function(){this._self._c;return this._m(0)}),[function(){var t=this._self._c;return t("div",{staticClass:"text-center",staticStyle:{"margin-top":"25%"}},[t("b",[this._v("No Access")])])}],!1,null,null,null);e.default=component.exports},884:function(t,e,n){var content=n(885);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("1377ef10",content,!0,{sourceMap:!1})},885:function(t,e,n){var r=n(21)((function(i){return i[1]}));r.push([t.i,".v-autocomplete.v-input>.v-input__control>.v-input__slot{cursor:text}.v-autocomplete input{align-self:center}.v-autocomplete.v-select.v-input--is-focused input{min-width:64px}.v-autocomplete:not(.v-input--is-focused).v-select--chips input{max-height:0;padding:0}.v-autocomplete--is-selecting-index input{opacity:0}.v-autocomplete.v-text-field--enclosed:not(.v-text-field--solo):not(.v-text-field--single-line):not(.v-text-field--outlined) .v-select__slot>input{margin-top:24px}.v-autocomplete.v-text-field--enclosed:not(.v-text-field--solo):not(.v-text-field--single-line):not(.v-text-field--outlined).v-input--dense .v-select__slot>input{margin-top:20px}.v-autocomplete__content.v-menu__content,.v-autocomplete__content.v-menu__content .v-card{border-radius:0}",""]),r.locals={},t.exports=r},894:function(t,e,n){"use strict";n(12),n(14),n(17),n(11),n(18);var r=n(3),o=(n(80),n(6),n(13),n(89),n(99),n(215),n(41),n(61),n(884),n(893)),l=n(214),c=n(65),d=n(1);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var _=v(v({},o.b),{},{offsetY:!0,offsetOverflow:!0,transition:!1});e.a=o.a.extend({name:"v-autocomplete",props:{autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(t,e,n){return n.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}},hideNoData:Boolean,menuProps:{type:o.a.options.props.menuProps.type,default:function(){return _}},noFilter:Boolean,searchInput:{type:String}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return v(v({},o.a.options.computed.classes.call(this)),{},{"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var t=this;return this.selectedItems.map((function(e){return t.getValue(e)}))},hasDisplayedItems:function(){var t=this;return this.hideSelected?this.filteredItems.some((function(e){return!t.hasItem(e)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems:function(){var t=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(e){var n=Object(d.s)(e,t.itemText),text=null!=n?String(n):"";return t.filter(e,String(t.internalSearch),text)}))},internalSearch:{get:function(){return this.lazySearch},set:function(t){this.lazySearch!==t&&(this.lazySearch=t,this.$emit("update:search-input",t))}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var t=o.a.options.computed.$_menuProps.call(this);return t.contentClass="v-autocomplete__content ".concat(t.contentClass||"").trim(),v(v({},_),t)},searchIsDirty:function(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem:function(){var t=this;return this.multiple?null:this.selectedItems.find((function(i){return t.valueComparator(t.getValue(i),t.getValue(t.internalValue))}))},listData:function(){var data=o.a.options.computed.listData.call(this);return data.props=v(v({},data.props),{},{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),data}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused:function(t){t?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.blur(),this.updateSelf())},isMenuActive:function(t){!t&&this.hasSlot&&(this.lazySearch=null)},items:function(t,e){e&&e.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!t.length||this.activateMenu()},searchInput:function(t){this.lazySearch=t},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created:function(){this.setSearch()},destroyed:function(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged:function(t,e){var n=this;if(t!==e){if(!this.autoSelectFirst){var r=e[this.$refs.menu.listIndex];r?this.setMenuIndex(t.findIndex((function(i){return i===r}))):this.setMenuIndex(-1),this.$emit("update:list-index",this.$refs.menu.listIndex)}this.$nextTick((function(){n.internalSearch&&(1===t.length||n.autoSelectFirst)&&(n.$refs.menu.getTiles(),n.autoSelectFirst&&t.length&&(n.setMenuIndex(0),n.$emit("update:list-index",n.$refs.menu.listIndex)))}))}},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(t){this.searchIsDirty||(this.multiple&&t===d.z.left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&t===d.z.right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:t!==d.z.backspace&&t!==d.z.delete||this.deleteCurrentItem())},deleteCurrentItem:function(){var t=this.selectedIndex,e=this.selectedItems[t];if(this.isInteractive&&!this.getDisabled(e)){var n=this.selectedItems.length-1;if(-1!==this.selectedIndex||0===n){var r=t!==this.selectedItems.length-1?t:t-1;this.selectedItems[r]?this.selectItem(e):this.setValue(this.multiple?[]:null),this.selectedIndex=r}else this.selectedIndex=n}},clearableCallback:function(){this.internalSearch=null,o.a.options.methods.clearableCallback.call(this)},genInput:function(){var input=l.a.options.methods.genInput.call(this);return input.data=Object(c.a)(input.data,{attrs:{"aria-activedescendant":Object(d.q)(this.$refs.menu,"activeTile.id"),autocomplete:Object(d.q)(input.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),input},genInputSlot:function(){var slot=o.a.options.methods.genInputSlot.call(this);return slot.data.attrs.role="combobox",slot},genSelections:function(){return this.hasSlot||this.multiple?o.a.options.methods.genSelections.call(this):[]},onClick:function(t){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(t.target)||this.activateMenu())},onInput:function(t){if(!(this.selectedIndex>-1)&&t.target){var e=t.target,n=e.value;e.value&&this.activateMenu(),this.multiple||""!==n||this.deleteCurrentItem(),this.internalSearch=n,this.badInput=e.validity&&e.validity.badInput}},onKeyDown:function(t){var e=t.keyCode;!t.ctrlKey&&[d.z.home,d.z.end].includes(e)||o.a.options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onSpaceDown:function(t){},onTabDown:function(t){o.a.options.methods.onTabDown.call(this,t),this.updateSelf()},onUpDown:function(t){t.preventDefault(),this.activateMenu()},selectItem:function(t){o.a.options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems:function(){o.a.options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var t=this;this.$nextTick((function(){t.multiple&&t.internalSearch&&t.isMenuActive||(t.internalSearch=!t.selectedItems.length||t.multiple||t.hasSlot?null:t.getText(t.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.multiple||this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(t){return this.selectedValues.indexOf(this.getValue(t))>-1},onCopy:function(t){var e,n;if(-1!==this.selectedIndex){var r=this.selectedItems[this.selectedIndex],o=this.getText(r);null===(e=t.clipboardData)||void 0===e||e.setData("text/plain",o),null===(n=t.clipboardData)||void 0===n||n.setData("text/vnd.vuetify.autocomplete.item+plain",o),t.preventDefault()}}}})},895:function(t,e,n){"use strict";n.r(e);var r=n(212),o={props:["icon"]},l=n(116),component=Object(l.a)(o,(function(){var t=this._self._c;return t("div",{staticClass:"text-center",staticStyle:{width:"80px",margin:"25% auto"}},[t(r.a,{attrs:{src:"/preloaders/".concat(this.icon,".gif")}})],1)}),[],!1,null,null,null);e.default=component.exports},908:function(t,e,n){"use strict";n.r(e);var r=n(329),o=n(147),l=n(23),c=(n(6),n(11),n(88),{auth:!1,layout:"login",props:{PreviewImage:{type:String,default:"/no-profile-image.jpg"}},data:function(){return{isClicked:!1,isCamera:!1,videoStream:null,isUpload:!0,PlaceHolderImage:null}},mounted:function(){this.setupCamera(),this.PlaceHolderImage=this.PreviewImage},methods:{setupCamera:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,video;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({video:!0});case 3:n=e.sent,(video=t.$refs.video).srcObject=n,t.videoStream=n,video.play(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error accessing the camera: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},toggleCamera:function(){this.isClicked=!0,this.isUpload=!1,this.isCamera=!this.isCamera;var video=this.$refs.video,canvas=this.$refs.canvas,t=canvas.getContext("2d");canvas.width=video.videoWidth,canvas.height=video.videoHeight,t.drawImage(video,0,0,canvas.width,canvas.height),this.$emit("imageSrc",canvas.toDataURL("image/png")),this.isCamera?video.play():this.isCamera||(this.isUpload=!1,video.pause())},uploadPicture:function(){this.$refs.fileInput.click()},handleFileUpload:function(t){var e=this,n=t.target.files[0],r=new FileReader;r.onload=function(t){e.isUpload=!0,e.PlaceHolderImage=t.target.result,e.$emit("imageSrc",t.target.result)},r.readAsDataURL(n)},beforeDestroy:function(){this.videoStream&&this.videoStream.getTracks().forEach((function(track){return track.stop()}))}}}),d=n(116),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center"},[e(r.a,{staticStyle:{border:"1px solid #6946dd"},attrs:{size:"175"}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.isUpload,expression:"isUpload"}],ref:"img",attrs:{src:t.PlaceHolderImage,alt:""}}),t._v(" "),e("video",{directives:[{name:"show",rawName:"v-show",value:!t.isUpload,expression:"!isUpload"}],ref:"video",attrs:{width:"100%",autoplay:"",playsinline:""}}),t._v(" "),e("canvas",{ref:"canvas",staticStyle:{display:"none"}})]),t._v(" "),e("div",{staticClass:"pa-5"},[e(o.a,{attrs:{large:"",color:"primary"},on:{click:t.toggleCamera}},[t._v("mdi-camera")]),t._v(" "),e(o.a,{attrs:{large:"",color:"primary"},on:{click:t.uploadPicture}},[t._v("mdi-folder-open")])],1),t._v(" "),e("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.handleFileUpload}})],1)}),[],!1,null,null,null);e.default=component.exports},910:function(t,e,n){var content=n(911);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("e09e1dc8",content,!0,{sourceMap:!1})},911:function(t,e,n){var r=n(21)((function(i){return i[1]}));r.push([t.i,".v-input--radio-group legend.v-label{cursor:text;font-size:14px;height:auto}.v-input--radio-group__input{border:none;cursor:default;display:flex;width:100%}.v-input--radio-group--column .v-input--radio-group__input>.v-label{padding-bottom:8px}.v-input--radio-group--row .v-input--radio-group__input>.v-label{padding-right:8px}.v-input--radio-group--row legend{align-self:center;display:inline-block}.v-input--radio-group--row .v-input--radio-group__input{flex-direction:row;flex-wrap:wrap}.v-input--radio-group--column legend{padding-bottom:8px}.v-input--radio-group--column .v-radio:not(:last-child):not(:only-child){margin-bottom:8px}.v-input--radio-group--column .v-input--radio-group__input{flex-direction:column}",""]),r.locals={},t.exports=r},912:function(t,e,n){var content=n(913);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("78a1b980",content,!0,{sourceMap:!1})},913:function(t,e,n){var r=n(21)((function(i){return i[1]}));r.push([t.i,".theme--light.v-radio--is-disabled label{color:rgba(0,0,0,.38)}.theme--dark.v-radio--is-disabled label{color:hsla(0,0%,100%,.5)}.v-radio{align-items:center;display:flex;height:auto;outline:none}.v-radio--is-disabled{cursor:default;pointer-events:none}.v-input--radio-group.v-input--radio-group--row .v-radio{margin-right:16px}",""]),r.locals={},t.exports=r},932:function(t,e,n){"use strict";n.r(e);var r=n(114),o=n(516),l=n(326),c=n(204),d=n(60),m=n(330),v=n(863),_=n(515),h=n(214),f=(n(62),n(45),n(35),{props:["label","default_value"],data:function(){return{menu:!1,selectedHour:1,selectedMinute:0,selectedPeriod:null,hours:[1,2,3,4,5,6,7,8,9,10,11,12],minutes:Array.from({length:60},(function(t,i){return i})),periods:["AM","PM"],finalTime:null}},created:function(){this.finalTime=this.default_value,this.$emit("getTime",this.default_value)},methods:{setPeriod:function(t){this.selectedHour="PM"==this.periods[t]?12+this.selectedHour:this.selectedHour-12,this.setFinalTime()},setHour:function(t){this.selectedPeriod&&"PM"==this.periods[t]?this.selectedHour=12+t:this.selectedHour=t,this.setFinalTime()},setMinute:function(t){this.selectedMinute=t,this.setFinalTime()},setFinalTime:function(){this.selectedHour>23?this.selectedHour=this.selectedHour-12:this.selectedHour<0&&(this.selectedHour=this.selectedHour+12);var t=this.selectedHour,e=this.selectedMinute;this.finalTime="".concat(t<10?"0".concat(t):t,":").concat(e<10?"0".concat(e):e),this.$emit("getTime",this.finalTime)}}}),y=n(116),component=Object(y.a)(f,(function(){var t=this,e=t._self._c;return e(v.a,{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(h.a,t._g(t._b({attrs:{"append-icon":"mdi-clock-time-four-outline",outlined:"",dense:"",readonly:"","hide-details":"",label:t.label},model:{value:t.finalTime,callback:function(e){t.finalTime=e},expression:"finalTime"}},"v-text-field",o,!1),r))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),e(_.a,{staticClass:"pa-2 mx-auto",attrs:{witdh:"",align:"center","no-gutters":"",justify:"center"}},[e(o.a,[e(l.a,{staticClass:"text-center",staticStyle:{overflow:"scroll"},attrs:{outlined:"",dense:"",height:"200"}},[e("div",{staticClass:"mx-auto"},[e("b",[t._v("Hours ")])]),t._v(" "),e(m.a,{attrs:{color:"primary"}},t._l(t.hours,(function(n,i){return e(c.a,{key:i},[e(d.a,[e(d.c,{on:{click:function(e){return t.setHour(n)}}},[t._v(t._s(n))])],1)],1)})),1)],1)],1),t._v(" "),e(o.a,[e(l.a,{staticClass:"text-center",staticStyle:{overflow:"scroll"},attrs:{outlined:"",dense:"",height:"200"}},[e("div",{staticClass:"mx-auto"},[e("b",[t._v("Minutes ")])]),t._v(" "),e(m.a,{attrs:{color:"primary"}},t._l(t.minutes,(function(n,i){return e(c.a,{key:i},[e(d.a,[e(d.c,{on:{click:function(e){return t.setMinute(n)}}},[t._v(t._s(n))])],1)],1)})),1)],1)],1),t._v(" "),e(o.a,[e(l.a,{staticClass:"text-center",staticStyle:{overflow:"scroll"},attrs:{outlined:"",dense:"",height:"200"}},[e(m.a,{attrs:{color:"primary"}},[t._l(t.periods,(function(n,r){return e(c.a,{key:r},[e(d.a,[e(d.c,{on:{click:function(e){return t.setPeriod(r)}}},[e("b",[t._v("\n                  "+t._s(n)+"\n                ")])])],1)],1)})),t._v(" "),e(c.a,[e(d.a,[e(d.c,[e("b")])],1)],1),t._v(" "),e(r.a,{staticClass:"primary",attrs:{large:""},on:{click:function(e){t.menu=!1}}},[t._v("Ok")])],2)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},939:function(t,e,n){"use strict";n.r(e);var r=n(894),o=n(114),l=n(133),c=n(87),d=n(516),m=n(876),v=n(350),_=n(1019),h=n(147),f=n(515),y=n(349),x=n(214),S=n(96),C=(n(37),{props:["buttonVisible","type"],data:function(){return{endpoint:"purpose",payload:{},errors:[],loading:!1,response:null,DialogBox:!1}},mounted:function(){this.type&&(this.payload.type=this.type)},methods:{submit:function(){var t=this;this.payload.company_id=this.$auth.user.company_id,this.$axios.post(this.endpoint,this.payload).then((function(e){var data=e.data,n="contractor"==t.type?"Activity":"Purpose";t.errors=[],t.$emit("success",t.type?data.record.id:n+" inserted successfully"),t.DialogBox=!1})).catch((function(e){var n=e.response;if(!n)return!1;var r=n.status,data=n.data,o=n.statusText;r&&422==r?t.errors=data.errors:t.response=o}))}}}),D=n(116),component=Object(D.a)(C,(function(){var t=this,e=t._self._c;return e(v.a,{attrs:{persistent:"",width:"500"},scopedSlots:t._u([t.buttonVisible?{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[e("span",t._g(t._b({staticStyle:{cursor:"pointer"}},"span",l,!1),r),[e(o.a,{staticClass:"primary",attrs:{dense:"",small:"",text:"",title:"Create Tanent"}},[t._v("\n        Create "+t._s("contractor"==t.type?"Activity":"Purpose")+"\n        "),e(h.a,{attrs:{right:"",dark:""}},[t._v("mdi-plus-circle-outline")])],1)],1)]}}:null],null,!0),model:{value:t.DialogBox,callback:function(e){t.DialogBox=e},expression:"DialogBox"}},[t._v(" "),e(l.a,[e(S.a,{staticClass:"popup_background",attrs:{flat:"",dense:""}},[t._v("\n      Create "+t._s("contractor"==t.type?"Activity":"Purpose")+"\n      "),e(y.a),t._v(" "),e("span",[e(h.a,{staticClass:"ml-2",attrs:{dark:""},on:{click:function(e){t.DialogBox=!1}}},[t._v("\n          mdi-close-circle-outline")])],1)],1),t._v(" "),e(m.a,[e(f.a,[t.type?t._e():e(d.a,{attrs:{cols:"12"}},[e(r.a,{attrs:{label:"Type",outlined:"",items:["contractor","visitor","delivery"],dense:"","hide-details":!t.errors.type,"error-messages":t.errors&&t.errors.type?t.errors.type[0]:""},model:{value:t.payload.type,callback:function(e){t.$set(t.payload,"type",e)},expression:"payload.type"}})],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e(x.a,{staticClass:"text-center",attrs:{label:"".concat("contractor"==t.type?"Activity":"Purpose"),dense:"",outlined:"","hide-details":!t.errors.name,error:t.errors.name,"error-messages":t.errors&&t.errors.name?t.errors.name[0]:""},model:{value:t.payload.name,callback:function(e){t.$set(t.payload,"name",e)},expression:"payload.name"}})],1)],1)],1),t._v(" "),e(_.a),t._v(" "),e(c.a,[e(y.a),t._v(" "),e("div",{staticClass:"text-right"},[e(o.a,{attrs:{small:"",color:"grey white--text"},on:{click:function(e){t.DialogBox=!1}}},[t._v("\n          Close\n        ")]),t._v(" "),e(o.a,{attrs:{small:"",loading:t.loading,color:"primary"},on:{click:t.submit}},[t._v("\n          Submit\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},949:function(t,e,n){"use strict";n.r(e);var r=n(329),o=n(133),l=n(516),c=n(876),d=n(1019),m=n(515),v=(n(37),n(23)),_=(n(88),n(33),n(266),n(58),n(935),n(519),n(35),{props:["UserID","visitor_type"],data:function(){return{loading:!1,dialog:!1,payload:{},searchCard:!0,infoCard:!1,item:{},response:null,firstItem:{},lastItem:{},errors:[]}},created:function(){var t=this;return Object(v.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!1,t.search();case 2:case"end":return e.stop()}}),e)})))()},methods:{caps:function(t){if(t)return t.replace(/\b\w/g,(function(t){return t.toUpperCase()}))},close:function(){this.searchCard=!0,this.infoCard=!1,this.dialog=!1},search:function(){var t=this;console.log(this.UserID),this.loading=!0,this.response=null,this.$axios.get("get_logs_by_visitor_id",{params:{per_page:100,company_id:this.$auth.user.company_id,UserID:this.UserID,id:this.UserID,user_type:this.visitor_type}}).then((function(e){var data=e.data;if(!data)return t.response="No record found",void(t.loading=!1);t.response=null,t.searchCard=!1,t.infoCard=!0,t.item=data,t.loading=!1;var n=data.attendance_logs;t.firstItem=n[0],t.lastItem=n[n.length-1]})).catch((function(e){var n=e.response;t.response=null,t.searchCard=!1,t.infoCard=!0,t.data=[],t.loading=!1,console.log("error:",n)}))},checkout:function(){var t=this;return Object(v.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={UserID:t.UserID,LogTime:t.getCurrentDateTime(),DeviceID:"Manual",company_id:t.$auth.user.company_id,log_type:"out",visitor_id:t.item.id},t.loading=!0,t.$axios.post("generate_log",n).then((function(e){var data=e.data;t.loading=!1,data.status?(t.$emit("success","Checkout has been recorded"),t.dialog=!1):t.errors=data.errors})).catch((function(e){e.message;t.$emit("response","Checkout cannot be done")}));case 3:case"end":return e.stop()}}),e)})))()},getCurrentDateTime:function(){var t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),o=String(t.getHours()).padStart(2,"0"),l=String(t.getMinutes()).padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(r," ").concat(o,":").concat(l)}}}),h=n(116),component=Object(h.a)(_,(function(){var t,e,n,v=this,_=v._self._c;return _(o.a,[_(c.a,[_(m.a,{attrs:{"no-gutters":""}},[_(l.a,{staticStyle:{"border-right":"1px solid #dddddd"},attrs:{cols:"4"}},[_("h3",[v._v(v._s(v.caps(null===(t=v.item)||void 0===t?void 0:t.visitor_type)))]),v._v(" "),_(m.a,{staticClass:"pa-0 ma-0"},[_(l.a,{attrs:{cols:"12"}},[_(m.a,{attrs:{"no-gutters":""}},[_(l.a,{staticClass:"text-center",attrs:{cols:"12"}},[_(r.a,{attrs:{size:"100"}},[_("img",{staticStyle:{width:"100%"},attrs:{src:"/no-profile-image.jpg",alt:"Avatar"}})])],1),v._v(" "),_(l.a,{staticClass:"text-center",attrs:{cols:"12"}},[_("div",{staticClass:"mt-1",staticStyle:{height:"15px","font-size":"12px"}},[v._v("\n                  "+v._s(v.item.full_name)+"\n                  ")]),v._v(" "),_("div",{staticStyle:{"font-size":"12px"}},[_("small",[v._v("\n                    "+v._s(v.item.phone_number)+"\n                    ")])])])],1)],1),v._v(" "),_(l.a,{attrs:{cols:"12"}},[_(d.a),v._v(" "),_(m.a,{staticStyle:{"font-size":"15px"},attrs:{"no-gutters":""}},[_(l.a,{attrs:{cols:"6"}},[_("small",[v._v(" First Name ")])]),v._v(" "),_(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[_("small",[v._v(" "+v._s(v.item.first_name)+" ")])]),v._v(" "),_(l.a,{attrs:{cols:"6"}},[_("small",[v._v(" Last Name ")])]),v._v(" "),_(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[_("small",[v._v(" "+v._s(v.item.last_name)+" ")])]),v._v(" "),_(l.a,{attrs:{cols:"6"}},[_("small",[v._v(" Emirates Id ")])]),v._v(" "),_(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[_("small",[v._v(" "+v._s(v.item.id_number)+" ")])]),v._v(" "),_(l.a,{attrs:{cols:"6"}},[_("small",[v._v(" Visitor Card Id ")])]),v._v(" "),_(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[_("small",[v._v(" "+v._s(v.item.system_user_id)+" ")])]),v._v(" "),_(l.a,{attrs:{cols:"6"}},[_("small",[v._v(" Email ")])]),v._v(" "),_(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[_("small",[v._v(" "+v._s(v.item.email)+" ")])]),v._v(" "),_(l.a,{attrs:{cols:"6"}},[_("small",[v._v(" Phone Number ")])]),v._v(" "),_(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[_("small",[v._v(" "+v._s(v.item.phone_number)+" ")])]),v._v(" "),_(l.a,{attrs:{cols:"6"}},[_("small",[v._v(" Purpose ")])]),v._v(" "),_(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[_("small",[v._v(" "+v._s((null===(e=v.item)||void 0===e||null===(n=e.purpose)||void 0===n?void 0:n.name)||"---")+" ")])]),v._v(" "),_(l.a,{attrs:{cols:"6"}},[_("small",[v._v(" Gender ")])]),v._v(" "),_(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[_("small",[v._v(" "+v._s(v.item.gender)+" ")])]),v._v(" "),_(l.a,{attrs:{cols:"6"}},[_("small",[v._v(" Visit From ")])]),v._v(" "),_(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[_("small",[v._v(" "+v._s(v.item.visit_from)+" "+v._s(v.item.time_in)+" ")])]),v._v(" "),_(l.a,{attrs:{cols:"6"}},[_("small",[v._v(" Visit To ")])]),v._v(" "),_(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[_("small",[v._v(" "+v._s(v.item.visit_to)+" "+v._s(v.item.time_out)+" ")])])],1)],1)],1)],1),v._v(" "),_(l.a,{attrs:{cols:"8"}},[_(d.a),v._v(" "),_(m.a,{staticClass:"px-3",attrs:{"no-gutters":""}},[_(l.a,{attrs:{cols:"12"}},[_("div",{staticClass:"mt-4"},[_("table",{staticStyle:{width:"100%"}},[_("tr",[_("td",{staticStyle:{"font-size":"12px"}},[_("small",[_("b",[v._v("#")])])]),v._v(" "),_("td",{staticStyle:{"font-size":"12px"}},[_("small",[_("b",[v._v("Date Time")])])]),v._v(" "),_("td",{staticStyle:{"font-size":"12px"}},[_("small",[_("b",[v._v("Tenant")])])]),v._v(" "),_("td",{staticStyle:{"font-size":"12px"}},[_("small",[_("b",[v._v("Flat")])])]),v._v(" "),_("td",{staticStyle:{"font-size":"12px"}},[_("small",[_("b",[v._v("Device")])])]),v._v(" "),_("td",{staticStyle:{"font-size":"12px"}},[_("small",[_("b",[v._v("In/Out")])])])]),v._v(" "),v._l(v.item.attendance_logs,(function(t,e){var n,r,o,l,c,d,m,h,f,y,x;return _("tr",{key:e},[_("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[_("small",[v._v(v._s(e+1))])]),v._v(" "),_("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[_("small",[v._v(v._s(t.LogTime))])]),v._v(" "),t.visitor?_("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[_("small",[v._v(v._s(null===(n=t.visitor.tanent)||void 0===n?void 0:n.full_name))]),_("br"),v._v(" "),_("small",[v._v(v._s(null===(r=t.visitor.tanent)||void 0===r?void 0:r.phone_number))])]):v._e(),v._v(" "),t.contractor?_("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[_("small",[v._v(v._s(null===(o=t.contractor.tanent)||void 0===o?void 0:o.full_name))]),_("br"),v._v(" "),_("small",[v._v(v._s(null===(l=t.contractor.tanent)||void 0===l?void 0:l.phone_number))])]):v._e(),v._v(" "),t.delivery?_("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[_("small",[v._v(v._s(null===(c=t.delivery.tanent)||void 0===c?void 0:c.full_name))]),_("br"),v._v(" "),_("small",[v._v(v._s(null===(d=t.delivery.tanent)||void 0===d?void 0:d.phone_number))])]):v._e(),v._v(" "),t.visitor?_("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[_("small",[v._v(v._s(null===(m=t.visitor.tanent)||void 0===m?void 0:m.room.room_number))]),_("br")]):t.contractor?_("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[_("small",[v._v(v._s(null===(h=t.contractor.tanent)||void 0===h?void 0:h.room.room_number))]),_("br")]):t.delivery?_("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[_("small",[v._v(v._s(null===(f=t.delivery.tanent)||void 0===f?void 0:f.room.room_number))]),_("br")]):v._e(),v._v(" "),_("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[_("small",[v._v(v._s(null!==(y=null==t||null===(x=t.device)||void 0===x?void 0:x.short_name)&&void 0!==y?y:"Manual"))])]),v._v(" "),_("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[_("small",[v._v(v._s(v.caps(null==t?void 0:t.log_type)))])])])}))],2)])])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},952:function(t,e,n){"use strict";n.r(e);n(56),n(33),n(266);var r=n(951),o=(n(950),{components:{DatePicker:r.a},props:["defaultFilterType","height","width","default_date_from","default_date_to"],data:function(){return{time3:null,from_date:"",from_menu:!1,to_date:"",to_menu:!1,loading:!1,showTimePanel:!1,filterType:1,search:""}},watch:{filterType:function(){this.showTimePanel=!0,this.FilterData()}},mounted:function(){5==this.filterType&&document.querySelector(".mx-input").focus();var t=document.getElementsByClassName("mx-input");this.height&&""!=this.height&&(t[0].style.height=this.height),this.width&&""!=this.width&&(t[0].style.width=this.width),this.default_date_from&&this.default_date_to&&(this.from_date=this.default_date_from,this.to_date=this.default_date_to),this.time3=[this.from_date,this.to_date]},created:function(){this.defaultFilterType&&(this.filterType=this.defaultFilterType);var t=new Date;this.default_date_from||(this.from_date=t.toISOString().slice(0,10)),this.default_date_to||(this.to_date=t.toISOString().slice(0,10)),this.default_date_from&&this.default_date_to&&(this.from_date=this.default_date_from,this.to_date=this.default_date_to),this.time3=[this.from_date,this.to_date];var data={from:this.from_date,to:this.to_date,type:1,search:"this.search"};this.$emit("filter-attr",data)},methods:{commonMethod:function(){this.from_date&&this.to_date},CustomFilter:function(){if(this.from_date=this.time3[0],this.to_date=this.time3[1],this.from_date&&this.to_date){var data={from:this.from_date,to:this.to_date,type:this.filterType,search:this.search};this.$emit("filter-attr",data)}},FilterData:function(){this.from_date=this.time3[0],this.to_date=this.time3[1];var t=new Date;if(1==this.filterType)this.from_date=t.toISOString().slice(0,10),this.to_date=t.toISOString().slice(0,10);else if(2==this.filterType){var e=new Date;e.setDate(t.getDate()-1),this.from_date=e.toISOString().slice(0,10),this.to_date=e.toISOString().slice(0,10)}else if(3==this.filterType){var n=new Date(t);n.setDate(t.getDate()-t.getDay());var r=new Date(t);r.setDate(t.getDate()-t.getDay()+6),this.from_date=n.toISOString().slice(0,10),this.to_date=r.toISOString().slice(0,10)}else if(4==this.filterType)this.from_date=this.formatDate(new Date(t.getFullYear(),t.getMonth(),1)),this.to_date=this.formatDate(new Date(t.getFullYear(),t.getMonth()+1,0));else if(5==this.filterType)return void(this.time3=[]);if(this.from_date&&this.to_date){var data={from:this.from_date,to:this.to_date,type:this.filterType,search:this.search};this.$emit("filter-attr",data)}},formatDate:function(t){var e=t.getDate(),n=t.getMonth()+1;return t.getFullYear()+"-"+(n<10?"0":"")+n+"-"+(e<10?"0":"")+e}}}),l=n(116),component=Object(l.a)(o,(function(){var t=this;return(0,t._self._c)("date-picker",{attrs:{label:"Date","value-type":"format",format:"YYYY-MM-DD",type:"date",range:""},on:{change:function(e){return t.CustomFilter()}},model:{value:t.time3,callback:function(e){t.time3=e},expression:"time3"}})}),[],!1,null,null,null);e.default=component.exports},964:function(t,e,n){"use strict";n.r(e);var r=n(894),o=n(114),l=n(133),c=n(87),d=n(516),m=n(876),v=n(1572),_=n(350),h=n(147),f=n(863),y=n(973),x=n(972),S=n(515),C=n(893),D=n(349),O=n(214),I=n(96),k=n(81),w=(n(35),n(23)),j=n(3),$=(n(88),n(519),n(6),n(72),n(28),new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substring(0,10)),T=String((new Date).getHours()).padStart(2,"0"),P=String((new Date).getMinutes()).padStart(2,"0"),R=T+":"+P,F=(T=parseInt(T)+2)+":"+P,M={props:["visitor_type","button_type","label","standalone"],data:function(){var t;return t={disabled:!1,cards:[],step:1,payload:{company_id:0,visit_from:$,visit_to:$,time_in:R,time_out:F,tanent_room_number:null,tanent_full_name:null,tanent_phone_number:null,tanent_gender:null,tanent_email:null,tanent_term:null,tanent_nationality:null,note:null,timezone_id:1,purpose_id:0,first_name:null,last_name:null,gender:"Male",phone_number:null,email:null,visitor_company_name:"",status_id:1,date:$,updated_by:1,status_phone_number:null,company_name:null,reason:null,host_company_id:0},imagePreview:"/no-profile-image.jpg",setImagePreview:null,imageMemberPreview:"/no-profile-image.jpg",tab:null,totalRowsCount:0,filters:{},isFilter:!1,sortBy:"id",sortDesc:!1,snack:!1,snackColor:"",snackText:"",loadinglinear:!0,displayErrormsg:!1,image:"",mime_type:"",cropedImage:"",cropper:"",autoCrop:!1,dialogCropping:!1,tabMenu:[]},Object(j.a)(t,"tab","0"),Object(j.a)(t,"employeeId",0),Object(j.a)(t,"employeeObject",{}),Object(j.a)(t,"attrs",[]),Object(j.a)(t,"dialog",!1),Object(j.a)(t,"editDialog",!1),Object(j.a)(t,"viewDialog",!1),Object(j.a)(t,"selectedFile",""),Object(j.a)(t,"dialog",!1),Object(j.a)(t,"m",!1),Object(j.a)(t,"right",!0),Object(j.a)(t,"rightDrawer",!1),Object(j.a)(t,"drawer",!0),Object(j.a)(t,"tab",null),Object(j.a)(t,"selectedItem",1),Object(j.a)(t,"on",""),Object(j.a)(t,"files",""),Object(j.a)(t,"search",""),Object(j.a)(t,"loading",!1),Object(j.a)(t,"next_page_url",""),Object(j.a)(t,"prev_page_url",""),Object(j.a)(t,"current_page",1),Object(j.a)(t,"per_page",1e3),Object(j.a)(t,"ListName",""),Object(j.a)(t,"color","background"),Object(j.a)(t,"response",""),Object(j.a)(t,"snackbar",!1),Object(j.a)(t,"btnLoader",!1),Object(j.a)(t,"max_employee",0),Object(j.a)(t,"employee",{title:"Mr",display_name:"",employee_id:"",system_user_id:""}),Object(j.a)(t,"upload",{name:""}),Object(j.a)(t,"pagination",{current:1,total:0,per_page:10}),Object(j.a)(t,"options",{}),Object(j.a)(t,"Model","Tanent"),Object(j.a)(t,"endpoint","visitor-self-register"),Object(j.a)(t,"search",""),Object(j.a)(t,"snackbar",!1),Object(j.a)(t,"ids",[]),Object(j.a)(t,"loading",!1),Object(j.a)(t,"titleItems",["Mr","Mrs","Miss","Ms","Dr"]),Object(j.a)(t,"editedIndex",-1),Object(j.a)(t,"editedItem",{name:""}),Object(j.a)(t,"defaultItem",{name:""}),Object(j.a)(t,"response",""),Object(j.a)(t,"data",[]),Object(j.a)(t,"errors",[]),Object(j.a)(t,"designations",[]),Object(j.a)(t,"roles",[]),Object(j.a)(t,"employees",[]),Object(j.a)(t,"department_filter_id",""),Object(j.a)(t,"dialogVisible",!1),Object(j.a)(t,"formAction","Create"),Object(j.a)(t,"date",new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)),Object(j.a)(t,"menu",!1),Object(j.a)(t,"menu2",!1),Object(j.a)(t,"menu3",!1),Object(j.a)(t,"floors",[]),Object(j.a)(t,"rooms",[]),Object(j.a)(t,"purposes",[]),Object(j.a)(t,"contractorCompanies",[]),t},created:function(){var t=this;return Object(w.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.company_id=t.$auth.user.company_id,t.payload.company_id=t.$auth.user.company_id,t.loading=!1,e.next=5,t.getCards();case 5:case"end":return e.stop()}}),e)})))()},mounted:function(){this.getPurposes(),this.getContractorCompanies()},methods:{getCards:function(){var t=this;return Object(w.a)(regeneratorRuntime.mark((function e(){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/card-list",{params:{type:t.visitor_type}});case 2:n=e.sent,data=n.data,t.cards=data;case 5:case"end":return e.stop()}}),e)})))()},getDetailsByRoomNumber:function(t){var e=this;return Object(w.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$axios.$get("/room/".concat(t));case 3:r=n.sent,(o=r.tanent)||(e.payload.tanent_id=null,e.payload.tanent_full_name=null,e.payload.tanent_phone_number=null,e.payload.tanent_gender=null,e.payload.tanent_email=null,e.payload.tanent_term=null,e.payload.tanent_nationality=null),e.payload.tanent_id=o.id,e.payload.tanent_full_name=o.full_name,e.payload.tanent_phone_number=o.phone_number,e.payload.tanent_gender=o.gender,e.payload.tanent_email=o.email,e.payload.tanent_term=o.term,e.payload.tanent_nationality=o.nationality,n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),console.error("Error fetching data:",n.t0);case 18:case"end":return n.stop()}}),n,null,[[0,15]])})))()},openDialogForCustom:function(t){"custom"==t&&(this.$refs.customPopup.DialogBox=!0)},handleResponse:function(t){this.payload.purpose_id=t,this.getPurposes()},getPurposes:function(){var t=this;this.visitor_type&&this.$axios.get("purpose_list",{params:{company_id:this.$auth.user.company_id,type:this.visitor_type}}).then((function(e){var data=e.data;t.purposes=data})).catch((function(t){return console.log(t)}))},getContractorCompanies:function(){var t=this;this.$axios.get("branch-list",{params:{company_id:this.$auth.user.company_id}}).then((function(e){var data=e.data;t.contractorCompanies=data})).catch((function(t){return console.log(t)}))},handleAttachment:function(t){this.payload.profile_picture=t},can:function(t){return this.$pagePermission.can(t,this)},submit:function(){var t=this;this.payload.rfid=Number(this.payload.rfid).toString(),this.payload.system_user_id=this.payload.rfid,this.payload.visitor_type=this.visitor_type,this.$axios.post(this.endpoint,this.payload).then((function(e){var data=e.data;data.status||!t.standalone?t.handleSuccessResponse("Visitor inserted successfully"):alert(data.message)})).catch((function(e){var n=e.response;t.handleErrorResponse(n)}))},handleSuccessResponse:function(t){this.errors=[],this.dialog=!1,this.standalone?alert("Visitor inserted successfully"):this.$emit("success",t)},handleErrorResponse:function(t){if(t){var e=t.status,data=t.data,n=t.statusText;e&&422==e?this.errors=data.errors:alert(n)}else alert("An unexpected error occurred.")}}},z=n(116),component=Object(z.a)(M,(function(){var t=this,e=t._self._c;return e(_.a,{attrs:{persistent:"",width:"900"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e("span",t._g(t._b({staticStyle:{cursor:"pointer"}},"span",o,!1),r),[e(h.a,{attrs:{right:"",color:"black"}},[t._v("mdi-account-plus")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),e(l.a,[e(I.a,{attrs:{dense:"",flat:""}},[e(c.c,[t._v("Create "+t._s(t.label))]),t._v(" "),e(D.a),t._v(" "),e(h.a,{attrs:{color:"primary"},on:{click:function(e){t.dialog=!1}}},[t._v("mdi-close")])],1),t._v(" "),e(m.a,{attrs:{fluid:""}},[e(S.a,[e(d.a,{attrs:{cols:"3"}},[e(S.a,[e(d.a,{attrs:{cols:"12"}},[e("div",{staticClass:"text-center"},[e("CameraORUpload",{ref:"CameraComponent",on:{imageSrc:t.handleAttachment}}),t._v(" "),t.errors&&t.errors.profile_picture?e("span",{staticClass:"error--text mt-2"},[t._v(t._s(t.errors.profile_picture[0]))]):t._e()],1)]),t._v(" "),e(d.a,{attrs:{cols:"12"}},["contractor"==t.visitor_type?e(C.a,{attrs:{items:[{id:"",name:"Select Company"}].concat(Object(k.a)(t.contractorCompanies)),dense:"",outlined:"","item-text":"name","item-value":"name","hide-details":!t.errors.visitor_company_name,"error-messages":t.errors&&t.errors.visitor_company_name?t.errors.visitor_company_name[0]:"",label:"Contractor Company"},model:{value:t.payload.visitor_company_name,callback:function(e){t.$set(t.payload,"visitor_company_name",e)},expression:"payload.visitor_company_name"}}):e(O.a,{attrs:{dense:"",outlined:"","hide-details":!t.errors.visitor_company_name,"error-messages":t.errors&&t.errors.visitor_company_name?t.errors.visitor_company_name[0]:"",label:"Company Name"},model:{value:t.payload.visitor_company_name,callback:function(e){t.$set(t.payload,"visitor_company_name",e)},expression:"payload.visitor_company_name"}})],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e(O.a,{attrs:{dense:"",outlined:"","hide-details":!t.errors.id_number,"error-messages":t.errors&&t.errors.id_number?t.errors.id_number[0]:"",label:"Emirates ID"},model:{value:t.payload.id_number,callback:function(e){t.$set(t.payload,"id_number",e)},expression:"payload.id_number"}})],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e(r.a,{attrs:{items:t.cards,dense:"",outlined:"","deletable-chips":"","item-value":"number","item-text":"name",label:"Select Card","hide-details":!t.errors.rfid,"error-messages":t.errors&&t.errors.rfid?t.errors.rfid[0]:"",color:"background"},model:{value:t.payload.rfid,callback:function(e){t.$set(t.payload,"rfid",e)},expression:"payload.rfid"}})],1)],1)],1),t._v(" "),e(d.a,{attrs:{cols:"9"}},[e(S.a,{},[e(d.a,{attrs:{cols:"6"}},[e(O.a,{attrs:{dense:"",outlined:"","hide-details":!t.errors.first_name,"error-messages":t.errors&&t.errors.first_name?t.errors.first_name[0]:"",label:"First Name"},model:{value:t.payload.first_name,callback:function(e){t.$set(t.payload,"first_name",e)},expression:"payload.first_name"}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(O.a,{attrs:{dense:"",outlined:"","hide-details":!t.errors.last_name,"error-messages":t.errors&&t.errors.last_name?t.errors.last_name[0]:"",label:"Last Name"},model:{value:t.payload.last_name,callback:function(e){t.$set(t.payload,"last_name",e)},expression:"payload.last_name"}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(O.a,{attrs:{type:"number",dense:"",outlined:"","hide-details":!t.errors.phone_number,"error-messages":t.errors&&t.errors.phone_number?t.errors.phone_number[0]:"",label:"Phone Number"},model:{value:t.payload.phone_number,callback:function(e){t.$set(t.payload,"phone_number",e)},expression:"payload.phone_number"}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(O.a,{staticClass:"text-center",attrs:{label:"Email",readonly:t.disabled,dense:"",outlined:"","hide-details":!t.errors.email,"error-messages":t.errors&&t.errors.email?t.errors.email[0]:""},model:{value:t.payload.email,callback:function(e){t.$set(t.payload,"email",e)},expression:"payload.email"}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(C.a,{attrs:{items:[{id:"",name:"Select ".concat("contractor"==t.visitor_type?"Activity":"Purpose")}].concat(Object(k.a)(t.purposes),[{id:"custom",name:"Custom"}]),dense:"",outlined:"","item-text":"name","item-value":"id","hide-details":!t.errors.purpose_id,label:"".concat("contractor"==t.visitor_type?"Activity":"Purpose")},on:{change:function(e){return t.openDialogForCustom(t.payload.purpose_id)}},model:{value:t.payload.purpose_id,callback:function(e){t.$set(t.payload,"purpose_id",e)},expression:"payload.purpose_id"}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(x.a,{staticClass:"ma-0 mt-2 px-2 pa-0",attrs:{row:"","hide-details":!t.errors.gender,"error-messages":t.errors&&t.errors.gender?t.errors.gender[0]:""},model:{value:t.payload.gender,callback:function(e){t.$set(t.payload,"gender",e)},expression:"payload.gender"}},[e(y.a,{attrs:{label:"Male",value:"Male"}}),t._v(" "),e(y.a,{attrs:{label:"Female",value:"Female"}}),t._v(" "),e(y.a,{attrs:{label:"Other",value:"Other"}})],1)],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(f.a,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(O.a,t._g(t._b({attrs:{label:"Visit From","append-icon":"mdi-calendar",outlined:"",dense:"",readonly:"","hide-details":!t.errors.visit_from,"error-messages":t.errors&&t.errors.visit_from?t.errors.visit_from[0]:""},model:{value:t.payload.visit_from,callback:function(e){t.$set(t.payload,"visit_from",e)},expression:"payload.visit_from"}},"v-text-field",o,!1),r))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),e(v.a,{attrs:{"no-title":"",scrollable:""},on:{input:function(e){t.menu=!1}},model:{value:t.payload.visit_from,callback:function(e){t.$set(t.payload,"visit_from",e)},expression:"payload.visit_from"}})],1)],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(f.a,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(O.a,t._g(t._b({attrs:{label:"Visit To","append-icon":"mdi-calendar",outlined:"",dense:"",readonly:"","hide-details":!t.errors.visit_to,"error-messages":t.errors&&t.errors.visit_to?t.errors.visit_to[0]:""},model:{value:t.payload.visit_to,callback:function(e){t.$set(t.payload,"visit_to",e)},expression:"payload.visit_to"}},"v-text-field",o,!1),r))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[t._v(" "),e(v.a,{attrs:{"no-title":"",scrollable:""},on:{input:function(e){t.menu2=!1}},model:{value:t.payload.visit_to,callback:function(e){t.$set(t.payload,"visit_to",e)},expression:"payload.visit_to"}})],1)],1),t._v(" "),e(d.a,{attrs:{cols:"12",sm:"6",md:"4",lg:"6"}},[e("SnippetsTimePickerV1",{attrs:{label:"Entry Time",default_value:t.payload.time_in},on:{getTime:function(e){t.payload.time_in=e}}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",sm:"6",md:"4",lg:"6"}},[e("SnippetsTimePickerV1",{attrs:{label:"Exit Time",default_value:t.payload.time_out},on:{getTime:function(e){t.payload.time_out=e}}})],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e("b",[t._v("Enter Tanent/Host Details")])]),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(O.a,{attrs:{dense:"",outlined:"","hide-details":!t.errors.tanent_id,"error-messages":t.errors&&t.errors.tanent_id?t.errors.tanent_id[0]:"",label:"Room Number"},on:{input:function(e){return t.getDetailsByRoomNumber(t.payload.tanent_room_number)}},model:{value:t.payload.tanent_room_number,callback:function(e){t.$set(t.payload,"tanent_room_number",e)},expression:"payload.tanent_room_number"}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(O.a,{attrs:{dense:"",outlined:"","hide-details":!0,label:"Full Name"},model:{value:t.payload.tanent_full_name,callback:function(e){t.$set(t.payload,"tanent_full_name",e)},expression:"payload.tanent_full_name"}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(O.a,{attrs:{dense:"",outlined:"","hide-details":!0,label:"Phone Number"},model:{value:t.payload.tanent_phone_number,callback:function(e){t.$set(t.payload,"tanent_phone_number",e)},expression:"payload.tanent_phone_number"}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(O.a,{attrs:{dense:"",outlined:"","hide-details":!0,label:"Email Address"},model:{value:t.payload.tanent_email,callback:function(e){t.$set(t.payload,"tanent_email",e)},expression:"payload.tanent_email"}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(O.a,{attrs:{dense:"",outlined:"","hide-details":!0,label:"Gender"},model:{value:t.payload.tanent_gender,callback:function(e){t.$set(t.payload,"tanent_gender",e)},expression:"payload.tanent_gender"}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(O.a,{attrs:{dense:"",outlined:"","hide-details":!0,label:"Term"},model:{value:t.payload.tanent_term,callback:function(e){t.$set(t.payload,"tanent_term",e)},expression:"payload.tanent_term"}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(O.a,{attrs:{dense:"",outlined:"","hide-details":!0,label:"Nationality"},model:{value:t.payload.tanent_nationality,callback:function(e){t.$set(t.payload,"tanent_nationality",e)},expression:"payload.tanent_nationality"}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(O.a,{attrs:{dense:"",outlined:"","hide-details":!t.errors.note,"error-messages":t.errors&&t.errors.note?t.errors.note[0]:"",label:"Note/Comment"},model:{value:t.payload.note,callback:function(e){t.$set(t.payload,"note",e)},expression:"payload.note"}})],1),t._v(" "),e(d.a,{staticClass:"text-right my-1",attrs:{cols:"12"}},[e(o.a,{on:{click:function(e){t.dialog=!1}}},[t._v("Close")]),t._v(" "),e(o.a,{staticClass:"primary",on:{click:t.submit}},[t._v("Submit")])],1)],1)],1)],1)],1)],1),t._v(" "),e("CommunityPurposeCreate",{ref:"customPopup",attrs:{type:t.visitor_type},on:{success:t.handleResponse}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CameraORUpload:n(908).default,SnippetsTimePickerV1:n(932).default,CommunityPurposeCreate:n(939).default})},968:function(t,e,n){"use strict";n.r(e);var r=n(329),o=n(133),l=n(516),c=n(876),d=n(1019),m=n(212),v=n(515),_=n(23),h=(n(88),n(33),n(266),n(58),n(935),n(519),n(35),{props:["visitor_type","UserID"],data:function(){return{loading:!1,dialog:!1,payload:{},searchCard:!0,infoCard:!1,item:{},response:null,firstItem:{},lastItem:{},errors:[]}},created:function(){var t=this;return Object(_.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!1,t.search();case 2:case"end":return e.stop()}}),e)})))()},methods:{caps:function(t){if(t)return t.replace(/\b\w/g,(function(t){return t.toUpperCase()}))},close:function(){this.searchCard=!0,this.infoCard=!1,this.dialog=!1},search:function(){var t=this;this.loading=!0,this.response=null,this.$axios.get("get_logs_by_tanent_id",{params:{per_page:100,company_id:this.$auth.user.company_id,id:this.UserID,UserID:this.UserID,user_type:this.visitor_type}}).then((function(e){var data=e.data;if(!data)return t.response="No record found",void(t.loading=!1);t.response=null,t.searchCard=!1,t.infoCard=!0,t.item=data,t.loading=!1;var n=data.attendance_logs;t.firstItem=n[0],t.lastItem=n[n.length-1]})).catch((function(e){var n=e.response;t.response=null,t.searchCard=!1,t.infoCard=!0,t.data=[],t.loading=!1,console.log("error:",n)}))},checkout:function(){var t=this;return Object(_.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={UserID:t.UserID,LogTime:t.getCurrentDateTime(),DeviceID:"Manual",company_id:t.$auth.user.company_id,log_type:"out",visitor_id:t.item.id},t.loading=!0,t.$axios.post("generate_log",n).then((function(e){var data=e.data;t.loading=!1,data.status?(t.$emit("success","Checkout has been recorded"),t.dialog=!1):t.errors=data.errors})).catch((function(e){e.message;t.$emit("response","Checkout cannot be done")}));case 3:case"end":return e.stop()}}),e)})))()},getCurrentDateTime:function(){var t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),o=String(t.getHours()).padStart(2,"0"),l=String(t.getMinutes()).padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(r," ").concat(o,":").concat(l)}}}),f=n(116),component=Object(f.a)(h,(function(){var t=this,e=t._self._c;return e(o.a,[e(c.a,[e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{staticStyle:{"border-right":"1px solid #dddddd"},attrs:{cols:"4"}},[e(o.a,{attrs:{elevation:"0",outlined:""}},[e(c.a,[e("h3",[t._v(t._s(t.caps(t.item.member_type)))]),t._v(" "),e(v.a,[e(l.a,{staticClass:"text-center",attrs:{cols:"12"}},[e(r.a,{staticStyle:{border:"1px solid #dddddd"},attrs:{size:"100"}},[t.item.profile_picture?e(m.a,{attrs:{src:t.item.profile_picture}}):e(m.a,{attrs:{src:"/no-profile-image.jpg"}})],1),t._v(" "),e("div",{staticClass:"mt-1",staticStyle:{"font-size":"14px",height:"10px"}},[t._v("\n                  "+t._s(t.item.member_type)+"\n                ")])],1),t._v(" "),e(l.a,{attrs:{cols:"12"}},[e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("ID")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("\n                      "+t._s(t.item.system_user_id)+"\n                    ")])]),t._v(" "),e(l.a,{attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("Full Name")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("\n                      "+t._s(t.item.full_name)+"\n                    ")])]),t._v(" "),e(l.a,{attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("Phone Number")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("\n                      "+t._s(t.item.phone_number)+"\n                    ")])]),t._v(" "),e(l.a,{attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("Age")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("\n                      "+t._s(t.item.age)+" years old\n                    ")])]),t._v(" "),e(l.a,{attrs:{cols:"4"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("Nationality")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"8"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("\n                      "+t._s(t.item.nationality)+"\n                    ")])]),t._v(" "),e(l.a,{attrs:{cols:"3"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("Gender")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"9"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v(" "+t._s(t.item.gender)+" ")])]),t._v(" "),e(l.a,{attrs:{cols:"3"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("RFID")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"9"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v(" "+t._s(t.item.rfid)+" ")])]),t._v(" "),e(l.a,{attrs:{cols:"3"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("Pin")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"9"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v(" "+t._s(t.item.pin)+" ")])])],1)],1)],1)],1)],1)],1),t._v(" "),e(l.a,{attrs:{cols:"8"}},[e(d.a),t._v(" "),e(v.a,{staticClass:"px-3",attrs:{"no-gutters":""}},[e(l.a,{attrs:{cols:"12"}},[e("div",{staticClass:"mt-4"},[e("table",{staticStyle:{width:"100%"}},[e("tr",[e("td",{staticStyle:{"font-size":"12px"}},[e("small",[e("b",[t._v("#")])])]),t._v(" "),e("td",{staticStyle:{"font-size":"12px"}},[e("small",[e("b",[t._v("Date Time")])])]),t._v(" "),e("td",{staticStyle:{"font-size":"12px"}},[e("small",[e("b",[t._v("Device")])])]),t._v(" "),e("td",{staticStyle:{"font-size":"12px"}},[e("small",[e("b",[t._v("In/Out")])])])]),t._v(" "),t._l(t.item.attendance_logs,(function(n,r){var o,l;return e("tr",{key:r},[e("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[e("small",[t._v(t._s(r+1))])]),t._v(" "),e("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[e("small",[t._v(t._s(n.LogTime))])]),t._v(" "),e("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[e("small",[t._v(t._s(null!==(o=null==n||null===(l=n.device)||void 0===l?void 0:l.short_name)&&void 0!==o?o:"Manual"))])]),t._v(" "),e("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[e("small",[t._v(t._s(t.caps(null==n?void 0:n.log_type)))])])])}))],2)])])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},969:function(t,e,n){"use strict";n.r(e);var r=n(329),o=n(516),l=n(1019),c=n(515),d=(n(37),n(56),n(31)),m=n(23),v=(n(33),n(58),n(519),n(6),n(72),n(35),n(80),n(28),n(88),{props:["item"],data:function(){return{logs_data:null,loading:!1,log_endpoint:"attendance_logs",log_headers:[{text:"#",align:"left",sortable:!1,key:"id",value:"id",width:"10px"},{text:"DateTime",align:"left",sortable:!1,key:"date_range",value:"LogTime",fieldType:"date_range_picker"},{text:"Device",align:"left",sortable:!0,key:"device",value:"device",filterable:!0,filterSpecial:!0}],dialog:!1,UserID:null,profile_pictrue:"no-profile-image.jpg",company_id:0,employee_stats:[],todayAttendance:null,remainingTime:"00:00"}},created:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.company_id=t.$auth.user.company_id,e.next=3,t.getEmployeeStats();case 3:return e.next=5,t.getTodayAttendance();case 5:return e.next=7,t.getLogs();case 7:case"end":return e.stop()}}),e)})))()},methods:{caps:function(t){if(t)return t.replace(/\b\w/g,(function(t){return t.toUpperCase()}))},getDate:function(){var t=new Date,e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getDate().toString().padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(r)},getLogs:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$axios.get(t.log_endpoint,{params:{per_page:10,company_id:t.company_id,UserID:t.item.employee.system_user_id,from_date:t.getDate(),to_date:t.getDate()}}).then((function(e){var data=e.data;t.logs_data=data.data}));case 1:case"end":return e.stop()}}),e)})))()},getTodayAttendance:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!0,t.$axios.get("report",{params:{company_id:t.company_id,employee_id:t.item.employee.system_user_id,from_date:t.getFormattedDate(),to_date:t.getFormattedDate()}}).then((function(e){var data=e.data;if(t.loading=!1,!data.data.length)return t.getRemainingTime("00:00","00:00"),void(t.todayAttendance={total_hrs:"00:00",ot:"00:00"});var n=data.data[0],r=n.total_hrs,o=n.ot,l=n.shift;if(!l)return t.getRemainingTime("00:00","00:00"),void(t.todayAttendance={total_hrs:"00:00",ot:"00:00"});t.todayAttendance={total_hrs:t.timeHandler(r),ot:t.timeHandler(o)},t.getRemainingTime(t.timeHandler(r),t.timeHandler(l.working_hours))}));case 2:case"end":return e.stop()}}),e)})))()},timeHandler:function(t){return"---"===t?"00:00":t},getEmployeeStats:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$axios.get("employee-statistics",{params:{company_id:t.company_id,employee_id:t.item.employee.system_user_id}}).then((function(e){var data=e.data;t.employee_stats=data}));case 1:case"end":return e.stop()}}),e)})))()},getFormattedDate:function(){var t=new Date;return"".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0"))},getRemainingTime:function(t,e){var n=t.split(":").map(Number),r=Object(d.a)(n,2),o=r[0],l=r[1],c=e.split(":").map(Number),m=Object(d.a)(c,2),v=60*o+l-(60*m[0]+m[1]);if(v<0){var _=Math.abs(Math.ceil(v/60)),h=Math.abs(v%60);this.remainingTime="".concat(String(_).padStart(2,"0"),":").concat(String(h).padStart(2,"0"))}}}}),_=n(116),component=Object(_.a)(v,(function(){var t,e,n,d,m,v,_,h=this,f=h._self._c;return h.item&&h.item.id?f(c.a,{attrs:{"no-gutters":""}},[f(o.a,{staticStyle:{"border-right":"1px solid #dddddd"},attrs:{cols:"4"}},[f(l.a),h._v(" "),f(c.a,{staticClass:"pa-0 ma-0"},[f(o.a,{attrs:{cols:"12"}},[f("h3",[h._v("Employee")]),h._v(" "),f(c.a,{attrs:{"no-gutters":""}},[f(o.a,{staticClass:"text-center",attrs:{cols:"12"}},[h._v("\n            "+h._s(h.item.employee.profile_pictrue)+"\n            "),f(r.a,{attrs:{size:"100"}},[f("img",{staticStyle:{width:"100%"},attrs:{src:h.item.employee&&h.item.employee.profile_picture?h.item.employee.profile_picture:"/no-profile-image.jpg",alt:"Avatar"}})])],1),h._v(" "),f(o.a,{staticClass:"text-center",attrs:{cols:"12"}},[f("div",{staticClass:"mt-1",staticStyle:{height:"15px","font-size":"12px"}},[h._v("\n              "+h._s(null!==(t=h.item.employee.first_name)&&void 0!==t?t:"---")+"\n              "+h._s(null!==(e=h.item.employee.last_name)&&void 0!==e?e:"---")+"\n            ")]),h._v(" "),f("div",{staticStyle:{height:"15px","font-size":"12px"}},[f("small",[h._v("\n                "+h._s(null!==(n=null===(d=h.item)||void 0===d||null===(m=d.employee)||void 0===m||null===(v=m.designation)||void 0===v?void 0:v.name)&&void 0!==n?n:"---")+"\n              ")])]),h._v(" "),f("div",{staticStyle:{"font-size":"12px"}},[f("small",[h._v("\n                "+h._s(null!==(_=h.item.employee.phone_number)&&void 0!==_?_:"---")+"\n              ")])])])],1)],1),h._v(" "),f(o.a,{attrs:{cols:"12"}},[f(l.a),h._v(" "),h._l(h.employee_stats.slice(0,6),(function(t,e){return f(c.a,{key:e,staticStyle:{"font-size":"15px",height:"20px"},attrs:{"no-gutters":""}},[f(o.a,{attrs:{cols:"6"}},[f("small",[h._v(" "+h._s(t.title))])]),h._v(" "),f(o.a,{staticClass:"text-right",attrs:{cols:"6"}},[f("small",[h._v(" "+h._s(t.value))])])],1)}))],2)],1)],1),h._v(" "),f(o.a,{attrs:{cols:"8"}},[f(l.a),h._v(" "),f(c.a,{staticClass:"px-3",attrs:{"no-gutters":""}},[f(o.a,{attrs:{cols:"12"}},[h.loading?f("ComonPreloader",{attrs:{icon:"face-scan"}}):f("table",{staticClass:"mt-4",staticStyle:{width:"100%"}},[f("tr",[f("td",{staticStyle:{"font-size":"12px"}},[f("small",{},[f("b",[h._v("#")])])]),h._v(" "),f("td",{staticStyle:{"font-size":"12px"}},[f("small",{},[f("b",[h._v("Date Time")])])]),h._v(" "),f("td",{staticStyle:{"font-size":"12px"}},[f("small",[f("b",[h._v("Device")])])]),h._v(" "),f("td",{staticStyle:{"font-size":"12px"}},[f("small",[f("b",[h._v("In/Out")])])])]),h._v(" "),h._l(h.logs_data,(function(t,e){var n;return f("tr",{key:t.id},[f("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[f("small",[h._v(h._s(e+1))])]),h._v(" "),f("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[f("small",[h._v(h._s(t.date)+" "+h._s(t.time))])]),h._v(" "),f("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[f("small",[h._v(h._s(t.device?t.device.name:"---"))])]),h._v(" "),f("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[f("small",[h._v(h._s(h.caps(null===(n=h.log)||void 0===n?void 0:n.log_type)))])])])}))],2)],1)],1)],1)],1):h._e()}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ComonPreloader:n(895).default})},972:function(t,e,n){"use strict";n(12),n(14),n(13),n(6),n(17),n(11),n(18);var r=n(3),o=(n(28),n(522),n(910),n(73)),l=n(91),c=n(8);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v=Object(c.a)(l.a,o.a);e.a=v.extend({name:"v-radio-group",provide:function(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes:function(){return m(m({},o.a.options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row})}},methods:{genDefaultSlot:function(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},o.a.options.methods.genDefaultSlot.call(this))},genInputSlot:function(){var t=o.a.options.methods.genInputSlot.call(this);return delete t.data.on.click,t},genLabel:function(){var label=o.a.options.methods.genLabel.call(this);return label?(label.data.attrs.id=this.computedId,delete label.data.attrs.for,label.tag="legend",label):null},onClick:l.a.options.methods.onClick},render:function(t){var e=o.a.options.render.call(this,t);return this._b(e.data,"div",this.attrs$),e}})},973:function(t,e,n){"use strict";n(12),n(14),n(13),n(6),n(17),n(11),n(18);var r=n(107),o=n(3),l=(n(37),n(912),n(219)),c=n(79),d=n(73),m=n(118),v=n(29),_=n(119),h=n(356),f=n(26),y=n(352),x=n(1),S=n(8),C=n(65),D=["title"];function O(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function I(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var k=Object(S.a)(m.a,v.a,h.a,Object(_.a)("radioGroup"),f.a);e.a=k.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:function(){return{isFocused:!1}},computed:{classes:function(){return I(I({"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused},this.themeClasses),this.groupClasses)},computedColor:function(){if(!this.isDisabled)return y.a.options.computed.computedColor.call(this)},computedIcon:function(){return this.isActive?this.onIcon:this.offIcon},computedId:function(){return d.a.options.computed.computedId.call(this)},hasLabel:d.a.options.computed.hasLabel,hasState:function(){return(this.radioGroup||{}).hasState},isDisabled:function(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly:function(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName:function(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-".concat(this.radioGroup._uid)},rippleState:function(){return y.a.options.computed.rippleState.call(this)},validationState:function(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput:function(t){return y.a.options.methods.genInput.call(this,"radio",t)},genLabel:function(){return this.hasLabel?this.$createElement(l.a,{on:{click:y.b},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(x.t)(this,"label")||this.label):null},genRadio:function(){var t=this.attrs$,e=(t.title,Object(r.a)(t,D));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(c.a,this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput(I({name:this.computedName,value:this.value},e)),this.genRipple(this.setTextColor(this.rippleState))])},onFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},onBlur:function(t){this.isFocused=!1,this.$emit("blur",t)},onChange:function(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:function(){}},render:function(t){return t("div",{staticClass:"v-radio",class:this.classes,on:Object(C.c)({click:this.onChange},this.listeners$),attrs:{title:this.attrs$.title}},[this.genRadio(),this.genLabel()])}})},977:function(t,e,n){"use strict";n.r(e);var r=n(114),o=n(133),l=n(516),c=n(876),d=n(350),m=n(147),v=n(515),_=n(214),h=(n(33),n(266),n(23)),f=(n(935),n(519),n(35),n(88),{props:["visitor_type"],components:{VisitorAttendanceLogsPopup:n(949).default},data:function(){return{loading:!1,dialog:!1,payload:{},UserID:null,searchCard:!0,infoCard:!1,item:{},response:null,firstItem:{},lastItem:{},errors:[]}},created:function(){var t=this;return Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!1;case 1:case"end":return e.stop()}}),e)})))()},methods:{close:function(){this.searchCard=!0,this.infoCard=!1,this.dialog=!1},search:function(){var t=this;this.loading=!0,this.response=null,this.$axios.get("search_visitor_by_user_id",{params:{UserID:this.UserID}}).then((function(e){var data=e.data;if(!data)return t.response="No record found",void(t.loading=!1);t.response=null,t.searchCard=!1,t.infoCard=!0,t.item=data,t.loading=!1;var n=data.attendance_logs;t.firstItem=n[0],t.lastItem=n[n.length-1]})).catch((function(e){var n=e.response;t.response=null,t.searchCard=!1,t.infoCard=!0,t.data=[],t.loading=!1,console.log("error:",n)}))},checkout:function(){var t=this;return Object(h.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={UserID:t.UserID,LogTime:t.getCurrentDateTime(),DeviceID:"Manual",company_id:t.$auth.user.company_id,log_type:"out",mode:"Manual",visitor_id:t.item.id},t.loading=!0,t.$axios.post("generate_log",n).then(function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(n){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(data=n.data,t.loading=!1,data.status){e.next=5;break}return t.errors=data.errors,e.abrupt("return");case 5:return e.next=7,t.render_report();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){var n=e.message;console.log(n),t.$emit("response","Checkout cannot be done")}));case 3:case"end":return e.stop()}}),e)})))()},render_report:function(){var t=this;return Object(h.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={LogTime:t.getCurrentDateTime(),company_id:t.$auth.user.company_id,id:t.item.id,UserIds:[t.UserID]},t.loading=!0,t.$axios.post("/community_visitor_report",n).then((function(e){var data=e.data,n=e.status;if(t.loading=!1,200==n)return t.$emit("success","Checkout has been recorded"),void(t.dialog=!1);t.errors=data.errors})).catch((function(e){var n=e.message;console.log(n),t.$emit("response","Checkout cannot be done")}));case 3:case"end":return e.stop()}}),e)})))()},getCurrentDateTime:function(){var t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),o=String(t.getHours()).padStart(2,"0"),l=String(t.getMinutes()).padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(r," ").concat(o,":").concat(l)}}}),y=f,x=n(116),component=Object(x.a)(y,(function(){var t=this,e=t._self._c;return e(d.a,{attrs:{persistent:"",width:"750"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e("span",t._g(t._b({staticStyle:{cursor:"pointer"}},"span",o,!1),r),[e(m.a,{attrs:{color:"black"}},[t._v("mdi-magnify")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),t.searchCard?e(o.a,[e(c.a,[e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{staticClass:"text-right",attrs:{cols:"12"}},[e(m.a,{attrs:{color:"primary"},on:{click:t.close}},[t._v(" mdi-close ")])],1),t._v(" "),e(l.a,{staticClass:"my-1",attrs:{cols:"12"}},[e(_.a,{attrs:{label:"Search","hide-details":"",dense:"",outlined:""},model:{value:t.UserID,callback:function(e){t.UserID=e},expression:"UserID"}})],1),t._v(" "),t.response?e(l.a,{staticClass:"red--text",attrs:{cols:"12"}},[e("div",{staticClass:"my-1"},[t._v("\n            "+t._s(t.response)+"\n          ")])]):t._e(),t._v(" "),e(l.a,{attrs:{cols:"12"}},[e(r.a,{staticClass:"mt-2",attrs:{loading:t.loading,color:"primary",block:""},on:{click:t.search}},[t._v("Search")])],1)],1)],1)],1):t._e(),t._v(" "),t.infoCard&&t.item&&t.item.id?e(o.a,[e(c.a,[e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{staticClass:"text-right",attrs:{cols:"12"}},[e(m.a,{attrs:{color:"primary"},on:{click:t.close}},[t._v(" mdi-close ")])],1),t._v(" "),e(l.a,{attrs:{cols:"12"}},[e("VisitorAttendanceLogsPopup",{attrs:{UserID:t.item.id,visitor_type:t.visitor_type}}),t._v(" "),e(r.a,{staticClass:"mt-2",attrs:{loading:t.loading,color:"primary",block:""},on:{click:t.checkout}},[t._v("Checkout")])],1)],1)],1)],1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports},989:function(t,e,n){"use strict";n.r(e);var r=n(894),o=n(114),l=n(133),c=n(87),d=n(516),m=n(876),v=n(1571),_=n(350),h=n(147),f=n(515),y=n(893),x=n(873),S=n(349),C=n(96),D=n(81),O=(n(35),n(37),n(23)),I=n(31),k=n(3),w=(n(88),n(216),n(99),n(6),n(526),n(519),n(72),n(13),n(41),n(61),n(117),n(80),n(12),n(949)),j=n(968),$={props:["user_type","dropdown","label","showFilters"],components:{VisitorAttendanceLogsPopup:w.default,TenantAttendanceLogsPopup:j.default},data:function(){var t;return t={key:1,selectedItem:{},tableHeight:750,status:"",department_ids:"",employee_id:"",daily_date:"",to_date:"",totalRowsCount:0,snack:!1,snackColor:"",snackText:"",date:null,menu:!1,options:{}},Object(k.a)(t,"date",null),Object(k.a)(t,"endpoint","community_common_report"),Object(k.a)(t,"search",""),Object(k.a)(t,"snackbar",!1),Object(k.a)(t,"add_manual_log",!1),Object(k.a)(t,"dialog",!1),Object(k.a)(t,"generateLogsDialog",!1),Object(k.a)(t,"reportSync",!1),Object(k.a)(t,"from_menu",!1),Object(k.a)(t,"to_menu",!1),Object(k.a)(t,"ids",[]),Object(k.a)(t,"departments",[]),Object(k.a)(t,"users",[]),Object(k.a)(t,"DateRange",!0),Object(k.a)(t,"devices",[]),Object(k.a)(t,"loading",!1),Object(k.a)(t,"total",0),Object(k.a)(t,"UserID",""),Object(k.a)(t,"payload",{DeviceID:"",report_type:"",user_type:"",from_date:(new Date).toISOString().split("T")[0],to_date:(new Date).toISOString().split("T")[0],UserID:""}),Object(k.a)(t,"response",""),Object(k.a)(t,"data",[]),Object(k.a)(t,"headers",[{text:"S.NO",align:"left",sortable:!0,key:"id",value:"id",color:"red"},{text:"Name",align:"left",sortable:!0,key:"user",value:"user"},{text:"In",align:"left",sortable:!1,key:"in",value:"in"},{text:"Out",align:"left",sortable:!1,key:"out",value:"out"},{text:"Status",align:"left",sortable:!1,key:"status",value:"status"},{text:"Mode",align:"left",sortable:!1,key:"mode",value:"mode"},{text:"User Type",align:"left",sortable:!1,key:"user_type",value:"user_type"}]),Object(k.a)(t,"visitor_type",""),t},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},created:function(){if(this.getUsers(),this.getDeviceList(),this.payload.user_type=this.user_type,"tanent"==this.user_type){var t;(t=this.headers).splice.apply(t,[2,0].concat([{text:"Flat",align:"left",sortable:!0,key:"flat",value:"flat"}]))}else if("visitor"==this.user_type||"delivery"==this.user_type||"contractor"==this.user_type){var e,n,r=[{text:"Host",align:"left",sortable:!0,key:"host",value:"host"}];(e=this.headers).splice.apply(e,[2,0].concat(Object(D.a)(r))),r=[{text:"Purpose",align:"left",sortable:!0,key:"purpose",value:"purpose"}],(n=this.headers).splice.apply(n,[6,0].concat(Object(D.a)(r)))}},methods:{handleSuccessResponse:function(t){this.snackbar=!0,this.response=t,this.getDataFromApi()},showDialog:function(t){this.key++,this.selectedItem=t,t.visitor?this.UserID=t.visitor.id:t.tanent?this.UserID=t.tanent.id:t.owner?this.UserID=t.owner.id:t.contractor?this.UserID=t.contractor.id:t.delivery?this.UserID=t.delivery.id:t.maid?this.UserID=t.maid.id:t.primary?this.UserID=t.primary.id:t.family_member&&(this.UserID=t.family_member.id),this.visitor_type=this.getUserType(t),this.dialog=!0},setUserID:function(t){var e;this.payload.UserID=null!==(e=this.users.find((function(e){return e.id==t})).system_user_id)&&void 0!==e?e:0},getUserType:function(t){for(var e={Tanent:t.tanent,"Family Member":t.family_member,Relative:t.relative,Visitor:t.visitor,Delivery:t.delivery,Contractor:t.contractor,Maid:t.maid,Owner:t.owner,Employee:t.employee},n=0,r=Object.entries(e);n<r.length;n++){var o=Object(I.a)(r[n],2),l=o[0];if(o[1])return l}return"Unknown"},generateRandomId:function(){return Math.floor(Math.random()*Math.pow(10,8)).toString().padStart(8,"0")},getUserPhone:function(t){for(var e={Tanent:t.tanent,"Family Member":t.family_member,Relative:t.relative,Visitor:t.visitor,Delivery:t.delivery,Contractor:t.contractor,Maid:t.maid},n=0,r=Object.entries(e);n<r.length;n++){var o=Object(I.a)(r[n],2),l=(o[0],o[1]);if(l)return l}return"---"},filterAttr:function(data){this.payload.from_date=data.from,this.payload.to_date=data.to,this.getDataFromApi()},getUsers:function(){var t=this,e={params:{per_page:1e3,company_id:this.$auth.user.company_id,user_type:this.user_type}};this.$axios.get("/get_users",e).then((function(e){var data=e.data;t.users=data}))},getDeviceList:function(){var t=this;this.$axios.get("/device_list",{params:{per_page:1e3,company_id:this.$auth.user.company_id}}).then((function(e){var data=e.data;t.devices=data.filter((function(t){return!t.name.includes("Mobile")}))}))},can:function(t){return this.$pagePermission.can(t,this)},getDataFromApi:function(){var t=this;return Object(O.a)(regeneratorRuntime.mark((function e(){var n,data,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.payload.from_date){e.next=2;break}return e.abrupt("return",!1);case 2:return t.payload.from_date&&(t.payload.from_date=t.payload.from_date),t.payload.to_date&&(t.payload.to_date=t.payload.to_date),t.loading=!0,e.next=7,t.$store.dispatch("fetchData",{key:"access_control_report",options:t.options,refresh:!0,endpoint:t.endpoint,filters:t.payload,user_type:t.user_type});case 7:n=e.sent,data=n.data,r=n.total,t.data=data,t.totalRowsCount=r,t.loading=!1;case 13:case"end":return e.stop()}}),e)})))()},process_file:function(t){var e=this;return Object(O.a)(regeneratorRuntime.mark((function n(){var r,o,l,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,e.data&&e.data.length){n.next=4;break}return alert("No data found"),n.abrupt("return");case 4:"http://192.168.88.30:8000/api",r={company_id:e.$auth.user.company_id,UserID:e.payload.UserID,DeviceID:e.payload.DeviceID,from_date:e.payload.from_date,to_date:e.payload.to_date,report_type:e.payload.report_type,user_type:e.payload.user_type},e.payload.from_date&&(r.from_date=e.payload.from_date),e.payload.to_date&&(r.to_date=e.payload.to_date),o=Object.keys(r).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(r[t]))})).join("&"),l="".concat("http://192.168.88.30:8000/api","/").concat(t,"?").concat(o),(c=document.createElement("a")).setAttribute("href",l),c.setAttribute("target","_blank"),c.click(),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),console.error("Error processing file:",n.t0.message);case 19:case"end":return n.stop()}}),n,null,[[0,16]])})))()}}},T=n(116),component=Object(T.a)($,(function(){var t=this,e=t._self._c;return t.can("dashboard_access")?e("div",[e(_.a,{attrs:{"max-width":"1000"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(l.a,[e(m.a,[e(f.a,{staticClass:"pa-0 ma-0",attrs:{"no-gutters":""}},[e(d.a,{staticClass:"text-right"},[e(h.a,{attrs:{color:"primary"},on:{click:function(e){t.dialog=!1}}},[t._v("\n              mdi-close-circle-outline\n            ")])],1)],1),t._v(" "),null!=t.selectedItem.employee?e("EmployeeShortView",{key:t.key+1,attrs:{item:t.selectedItem}}):"visitor"==t.visitor_type.toLowerCase()||"contractor"==t.visitor_type.toLowerCase()||"delivery"==t.visitor_type.toLowerCase()?e("VisitorAttendanceLogsPopup",{key:t.generateRandomId(),attrs:{UserID:t.UserID}}):"tenant"==t.visitor_type||"Tanent"==t.visitor_type||"Owner"==t.visitor_type||"Family Member"==t.visitor_type||"Maid"==t.visitor_type?e("TenantAttendanceLogsPopup",{key:t.key,attrs:{UserID:t.UserID,visitor_type:t.visitor_type}}):t._e()],1)],1)],1),t._v(" "),t.showFilters?e(l.a,{staticClass:"mt-2",attrs:{elevation:"1"}},[e(C.a,{attrs:{dense:"",flat:""}},[e("span",{staticClass:"headline black--text"},[t._v(" "+t._s(t.label))]),t._v(" "),e("span",[e(o.a,{staticClass:"ma-0 px-0",attrs:{dense:"","x-small":"",ripple:!1,text:"",title:"Reload"}},[e(h.a,{staticClass:"ml-2",attrs:{dark:""},on:{click:t.getDataFromApi}},[t._v("mdi-reload")])],1)],1)]),t._v(" "),e(c.b,{staticClass:"py-3"},[e(f.a,[e(d.a,{attrs:{md:"2",sm:"2"}},[e(y.a,{attrs:{label:"Report Type",outlined:"",dense:"","x-small":"",items:[{id:"",name:"Select All"},{id:"Date Wise Access Control Report",name:"Date Wise Access Control Report"},{id:"Door Wise Access Control Report",name:"Door Wise Access Control Report"},{id:"Allowed",name:"Access Granted Access Control Report"},{id:"Access Denied",name:"Access Denied Access Control Report"}],"item-value":"id","item-text":"name","hide-details":!0},model:{value:t.payload.report_type,callback:function(e){t.$set(t.payload,"report_type",e)},expression:"payload.report_type"}})],1),t._v(" "),t.dropdown?e(d.a,{attrs:{md:"2",sm:"2"}},[e(y.a,{attrs:{label:"User Type",outlined:"",dense:"","x-small":"",items:[{id:"",name:"Select All"},{id:"tanent",name:"Tanent"},{id:"family_member",name:"Family Member"},{id:"relative",name:"Relative"},{id:"visitor",name:"Visitor"},{id:"delivery",name:"Delivery"},{id:"contractor",name:"Contractor"},{id:"maid",name:"Maid"},{id:"employee",name:"Employee"}],"item-value":"id","item-text":"name","hide-details":!0},model:{value:t.payload.user_type,callback:function(e){t.$set(t.payload,"user_type",e)},expression:"payload.user_type"}})],1):t._e(),t._v(" "),e(d.a,{attrs:{md:"2",sm:"4"}},[e(y.a,{attrs:{label:"Door",outlined:"",dense:"","x-small":"",items:[{device_id:"",name:"Select All"}].concat(Object(D.a)(t.devices)),"item-value":"device_id","item-text":"name","hide-details":!0},model:{value:t.payload.DeviceID,callback:function(e){t.$set(t.payload,"DeviceID",e)},expression:"payload.DeviceID"}})],1),t._v(" "),e(d.a,{attrs:{md:"2",sm:"4"}},[e(r.a,{attrs:{density:"comfortable",label:"Members",outlined:"",dense:"","x-small":"",items:[{system_user_id:"",full_name:"Select All"}].concat(Object(D.a)(t.users)),"item-value":"id","item-text":"full_name"},on:{change:function(e){return t.setUserID(t.UserID)}},model:{value:t.UserID,callback:function(e){t.UserID=e},expression:"UserID"}})],1),t._v(" "),e(d.a,{attrs:{md:"2",sm:"5"}},[e("CustomFilter",{attrs:{defaultFilterType:1,height:"40px "},on:{"filter-attr":t.filterAttr}})],1),t._v(" "),e(d.a,{attrs:{md:"2",sm:"2"}},[e(o.a,{attrs:{color:"primary",primary:"",fill:""},on:{click:function(e){return t.getDataFromApi()}}},[t._v("Generate\n          ")])],1)],1)],1)],1):t._e(),t._v(" "),e(l.a,{staticClass:"mb-5 mt-5",attrs:{elevation:"1"}},[e("div",[e("div",{staticClass:"text-center"},[e(x.a,{attrs:{top:"top",color:"secondary",elevation:"24"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n          "+t._s(t.response)+"\n        ")]),t._v(" "),e(x.a,{attrs:{timeout:3e3,color:t.snackColor},scopedSlots:t._u([{key:"action",fn:function(n){var r=n.attrs;return[e(o.a,t._b({attrs:{text:""},on:{click:function(e){t.snack=!1}}},"v-btn",r,!1),[t._v(" Close ")])]}}],null,!1,3090489768),model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n          "+t._s(t.snackText)+"\n\n          ")])],1),t._v(" "),e(l.a,{staticClass:"mb-0",attrs:{elevation:"0"}},[e(C.a,{staticClass:"backgrounds",staticStyle:{height:"40px"},attrs:{flat:""}},[e(S.a),t._v(" "),t.showFilters?e("span",{staticStyle:{"padding-left":"15px"}},[e("img",{staticClass:"iconsize",staticStyle:{cursor:"pointer"},attrs:{title:"Print",src:"/icons/icon_print.png"},on:{click:function(e){return t.process_file("community-report-print")}}})]):t._e(),t._v(" "),t.showFilters?e("span",{staticStyle:{"padding-left":"15px","padding-right":"10px"}},[e("img",{staticClass:"iconsize",staticStyle:{cursor:"pointer"},attrs:{title:"Download Pdf",src:"/icons/icon_pdf.png"},on:{click:function(e){return t.process_file("community-report-download")}}})]):t._e(),t._v(" "),t.can("".concat(t.user_type,"_view"))&&!t.showFilters?e("CommunityManualCheckOut",{staticClass:"pl-10",staticStyle:{"padding-left":"10px !important"},attrs:{button_type:"icon",visitor_type:"visitor"},on:{success:t.handleSuccessResponse}}):t._e(),t._v(" "),t.can("".concat(t.user_type,"_create"))&&!t.showFilters?e("CommunityVisitorCreate",{attrs:{standalone:!0,label:t.label,button_type:"icon",visitor_type:t.user_type},on:{success:t.handleSuccessResponse}}):t._e()],1),t._v(" "),e(v.a,{staticClass:"elevation-1",staticStyle:{"padding-top":"10px"},attrs:{dense:"",headers:t.headers,items:t.data,loading:t.loading,options:t.options,"footer-props":{itemsPerPageOptions:[10,50,100,500,1e3]},"model-value":"data.id","server-items-length":t.totalRowsCount,"fixed-header":"",height:t.tableHeight},on:{"click:row":t.showDialog,"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.id",fn:function(e){e.item;var n=e.index;return[t._v("\n            "+t._s(n+1)+"\n          ")]}},{key:"item.mode",fn:function(e){var n,r,o,l=e.item;e.index;return[t._v("\n            "+t._s(null!==(n=null==l||null===(r=l.in_log)||void 0===r?void 0:r.mode)&&void 0!==n?n:null==l||null===(o=l.out_log)||void 0===o?void 0:o.mode)+"\n          ")]}},{key:"item.status",fn:function(e){e.item,e.index;return[t._v(" Allowed ")]}},{key:"item.in",fn:function(n){var r,o,l,c,d,m=n.item;n.index;return[t._v("\n            "+t._s(null!==(r=t.$dateFormat.format4(null==m||null===(o=m.in_log)||void 0===o?void 0:o.LogTime))&&void 0!==r?r:"---")+"\n            "),e("br"),t._v(" "),e("small",[t._v(" "+t._s(null!==(l=null==m||null===(c=m.in_log)||void 0===c||null===(d=c.device)||void 0===d?void 0:d.short_name)&&void 0!==l?l:"---"))])]}},{key:"item.out",fn:function(n){var r,o,l,c,d,m=n.item;n.index;return[m.out_log?e("div",[t._v("\n              "+t._s(null!==(r=t.$dateFormat.format4(null==m||null===(o=m.out_log)||void 0===o?void 0:o.LogTime))&&void 0!==r?r:"---")+"\n              "),e("br"),t._v(" "),e("small",[t._v(" "+t._s(null!==(l=null==m||null===(c=m.out_log)||void 0===c||null===(d=c.device)||void 0===d?void 0:d.short_name)&&void 0!==l?l:"---"))])]):e("div",[t._v("---")])]}},{key:"item.flat",fn:function(n){var r,o,l,c,d,m,v,_,h,f,y,x,S,C,D,O=n.item;n.index;return[O.tanent?e("div",{attrs:{"no-gutters":""}},[t._v("\n              "+t._s(null!==(r=null===(o=O.tanent)||void 0===o||null===(l=o.room)||void 0===l?void 0:l.room_number)&&void 0!==r?r:"---")+"\n            ")]):O.family_member?e("div",{attrs:{"no-gutters":""}},[t._v("\n              "+t._s(null!==(c=null===(d=O.family_member)||void 0===d||null===(m=d.room)||void 0===m?void 0:m.room_number)&&void 0!==c?c:"---")+"\n            ")]):O.owner?e("div",{attrs:{"no-gutters":""}},[t._v("\n              "+t._s(null!==(v=null===(_=O.owner)||void 0===_||null===(h=_.room)||void 0===h?void 0:h.room_number)&&void 0!==v?v:"---")+"\n            ")]):O.maid?e("div",{attrs:{"no-gutters":""}},[t._v("\n              "+t._s(null!==(f=null===(y=O.maid)||void 0===y||null===(x=y.room)||void 0===x?void 0:x.room_number)&&void 0!==f?f:"---")+"\n            ")]):O.primary?e("div",{attrs:{"no-gutters":""}},[t._v("\n              "+t._s(null!==(S=null===(C=O.primary)||void 0===C||null===(D=C.room)||void 0===D?void 0:D.room_number)&&void 0!==S?S:"---")+"\n            ")]):t._e()]}},{key:"item.host",fn:function(n){var r,o,l,c,m,v,_,h,y,x,S,C,D,O,I,k,w,j,$,T,P,R=n.item;return[R.visitor?e(f.a,{attrs:{"no-gutters":""}},[e(d.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(r=null==R||null===(o=R.visitor)||void 0===o||null===(l=o.tanent)||void 0===l?void 0:l.full_name)&&void 0!==r?r:"---")+"\n                  "),e("br"),t._v("\n                  "+t._s(null!==(c=null==R||null===(m=R.visitor)||void 0===m||null===(v=m.tanent)||void 0===v||null===(_=v.room)||void 0===_?void 0:_.room_number)&&void 0!==c?c:"---")+"\n                ")])])],1):t._e(),t._v(" "),R.contractor?e(f.a,{attrs:{"no-gutters":""}},[e(d.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(h=null==R||null===(y=R.contractor)||void 0===y||null===(x=y.tanent)||void 0===x?void 0:x.full_name)&&void 0!==h?h:"---")+"\n                  "),e("br"),t._v("\n                  "+t._s(null!==(S=null==R||null===(C=R.contractor)||void 0===C||null===(D=C.tanent)||void 0===D||null===(O=D.room)||void 0===O?void 0:O.room_number)&&void 0!==S?S:"---")+"\n                ")])])],1):t._e(),t._v(" "),R.delivery?e(f.a,{attrs:{"no-gutters":""}},[e(d.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(I=null==R||null===(k=R.delivery)||void 0===k||null===(w=k.tanent)||void 0===w?void 0:w.full_name)&&void 0!==I?I:"---")+"\n                  "),e("br"),t._v("\n                  "+t._s(null!==(j=null==R||null===($=R.delivery)||void 0===$||null===(T=$.tanent)||void 0===T||null===(P=T.room)||void 0===P?void 0:P.room_number)&&void 0!==j?j:"---")+"\n                ")])])],1):t._e()]}},{key:"item.purpose",fn:function(n){var r,o,l,c,d,m,v,_,h,f=n.item;return[f.visitor?e("div",[t._v("\n              "+t._s(null!==(r=null===(o=f.visitor)||void 0===o||null===(l=o.purpose)||void 0===l?void 0:l.name)&&void 0!==r?r:"---")+"\n            ")]):t._e(),t._v(" "),f.contractor?e("div",[t._v("\n              "+t._s(null!==(c=null===(d=f.contractor)||void 0===d||null===(m=d.purpose)||void 0===m?void 0:m.name)&&void 0!==c?c:"---")+"\n            ")]):t._e(),t._v(" "),f.delivery?e("div",[t._v("\n              "+t._s(null!==(v=null===(_=f.delivery)||void 0===_||null===(h=_.purpose)||void 0===h?void 0:h.name)&&void 0!==v?v:"---")+"\n            ")]):t._e()]}},{key:"item.user",fn:function(n){var r,o,l,c,m,v,_,h,y,x,S,C,D,O,I,k,w,j,$,T,P,R,F,M,z,U,A,L,N,E,V,H,B=n.item;return[B.tanent?e(f.a,{attrs:{"no-gutters":""}},[e(d.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(r=null===(o=B.tanent)||void 0===o?void 0:o.full_name)&&void 0!==r?r:"---")+"\n                  "),e("br"),t._v(" "),e("small",[t._v(" "+t._s(null!==(l=null===(c=B.tanent)||void 0===c?void 0:c.phone_number)&&void 0!==l?l:"---"))])])])],1):B.family_member?e(f.a,{attrs:{"no-gutters":""}},[e(d.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(m=null===(v=B.family_member)||void 0===v?void 0:v.first_name)&&void 0!==m?m:"---")+"\n                  "),e("br"),t._v(" "),e("small",[t._v("\n                    "+t._s(null!==(_=null===(h=B.family_member)||void 0===h?void 0:h.phone_number)&&void 0!==_?_:"---"))])])])],1):B.owner?e(f.a,{attrs:{"no-gutters":""}},[e(d.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(y=null===(x=B.owner)||void 0===x?void 0:x.first_name)&&void 0!==y?y:"---")+"\n                  "),e("br"),t._v(" "),e("small",[t._v(" "+t._s(null!==(S=null===(C=B.owner)||void 0===C?void 0:C.phone_number)&&void 0!==S?S:"---"))])])])],1):B.maid?e(f.a,{attrs:{"no-gutters":""}},[e(d.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(D=null===(O=B.maid)||void 0===O?void 0:O.full_name)&&void 0!==D?D:"---")+"\n\n                  "),e("br"),t._v(" "),e("small",[t._v(" "+t._s(null!==(I=null===(k=B.maid)||void 0===k?void 0:k.phone_number)&&void 0!==I?I:"---"))])])])],1):B.visitor?e(f.a,{attrs:{"no-gutters":""}},[e(d.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(w=null===(j=B.visitor)||void 0===j?void 0:j.full_name)&&void 0!==w?w:"---")+"\n                  "),e("br"),t._v(" "),e("small",[t._v(" "+t._s(null!==($=null===(T=B.visitor)||void 0===T?void 0:T.phone_number)&&void 0!==$?$:"---"))])])])],1):B.delivery?e(f.a,{attrs:{"no-gutters":""}},[e(d.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(P=null===(R=B.delivery)||void 0===R?void 0:R.full_name)&&void 0!==P?P:"---")+"\n                  "),e("br"),t._v(" "),e("small",[t._v(" "+t._s(null!==(F=null===(M=B.delivery)||void 0===M?void 0:M.phone_number)&&void 0!==F?F:"---"))])])])],1):B.contractor?e(f.a,{attrs:{"no-gutters":""}},[e(d.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(z=null===(U=B.contractor)||void 0===U?void 0:U.full_name)&&void 0!==z?z:"---")+"\n                  "),e("br"),t._v(" "),e("small",[t._v(" "+t._s(null!==(A=null===(L=B.contractor)||void 0===L?void 0:L.phone_number)&&void 0!==A?A:"---"))])])])],1):B.employee?e(f.a,{attrs:{"no-gutters":""}},[e(d.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(N=null===(E=B.employee)||void 0===E?void 0:E.first_name)&&void 0!==N?N:"---")+"\n                  "+t._s(null!==(V=null===(H=B.employee)||void 0===H?void 0:H.last_name)&&void 0!==V?V:"---")+"\n                ")])])],1):t._e()]}}],null,!1,3961136835)})],1)],1)])],1):e("NoAccess")}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{EmployeeShortView:n(969).default,CustomFilter:n(952).default,CommunityManualCheckOut:n(977).default,CommunityVisitorCreate:n(964).default,NoAccess:n(881).default})}}]);