(window.webpackJsonp=window.webpackJsonp||[]).push([[206],{1387:function(e,t,r){"use strict";r.r(t);var n=r(114),o=r(23),c=(r(6),r(11),r(88),{auth:!1,layout:"login",data:function(){return{isCamera:!1,videoStream:null}},mounted:function(){this.setupCamera()},methods:{setupCamera:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,video;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.mediaDevices.getUserMedia({video:!0});case 3:r=t.sent,(video=e.$refs.video).srcObject=r,e.videoStream=mediaStream,video.play(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("Error accessing the camera: ",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},takeSnapshot:function(){this.isCamera=!this.isCamera;var video=this.$refs.video,canvas=this.$refs.canvas,e=canvas.getContext("2d");canvas.width=video.videoWidth,canvas.height=video.videoHeight,e.drawImage(video,0,0,canvas.width,canvas.height);var t=canvas.toDataURL("image/png"),img=this.$refs.img;img.height=250,img.src=t,this.$emit("imageSrc",t)},beforeDestroy:function(){this.videoStream&&this.videoStream.getTracks().forEach((function(track){return track.stop()}))}}}),m=r(116),component=Object(m.a)(c,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"mb-1"},[t(n.a,{staticClass:"primary mt-1",on:{click:e.takeSnapshot}},[e._v(e._s(e.isCamera?"Take Picture":"Scan Emirates Id"))])],1),e._v(" "),t("video",{directives:[{name:"show",rawName:"v-show",value:e.isCamera,expression:"isCamera"}],ref:"video",staticStyle:{border:"1px solid purple","aspect-ratio":"1"},attrs:{width:"900",autoplay:"",playsinline:""}}),e._v(" "),t("img",{directives:[{name:"show",rawName:"v-show",value:!e.isCamera,expression:"!isCamera"}],ref:"img",attrs:{src:"",alt:""}}),e._v(" "),t("canvas",{ref:"canvas",staticStyle:{display:"none"}})])}),[],!1,null,null,null);t.default=component.exports}}]);