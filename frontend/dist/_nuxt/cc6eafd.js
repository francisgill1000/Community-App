(window.webpackJsonp=window.webpackJsonp||[]).push([[317,53,54,61,182,253],{1025:function(t,e,n){var content=n(1081);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("79017e3e",content,!0,{sourceMap:!1})},1026:function(t,e,n){var content=n(1083);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("6ab833d7",content,!0,{sourceMap:!1})},1027:function(t,e,n){var content=n(1085);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("d587c910",content,!0,{sourceMap:!1})},1028:function(t,e,n){var content=n(1087);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("a1329736",content,!0,{sourceMap:!1})},1029:function(t,e,n){var content=n(1089);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("12d574ab",content,!0,{sourceMap:!1})},1073:function(t,e,n){"use strict";n.r(e);var o=n(114),r=n(133),l=n(516),c=n(876),d=n(1571),m=n(350),_=n(147),v=n(515),h=n(96),f=n(23),y=n(31),x=n(3),C=(n(88),n(55),n(526),n(13),n(6),n(41),n(61),n(37),n(35),n(519),n(72),n(33),n(58),n(117),n(80),n(12),n(949)),S=n(968),w={components:{VisitorAttendanceLogsPopup:C.default,TenantAttendanceLogsPopup:S.default},props:["user_type","dropdown"],data:function(){var t;return t={key:1,selectedItem:{},url:"ws://192.168.20.100:8080/WebSocket",tableHeight:750,status:"",department_ids:"",employee_id:"",daily_date:"",to_date:"",isFilter:!1,totalRowsCount:0,snack:!1,snackColor:"",snackText:"",date:null,menu:!1,options:{}},Object(x.a)(t,"date",null),Object(x.a)(t,"menu",!1),Object(x.a)(t,"loading",!1),Object(x.a)(t,"time_menu",!1),Object(x.a)(t,"Model","Attendance Reports"),Object(x.a)(t,"endpoint","access_control_report"),Object(x.a)(t,"search",""),Object(x.a)(t,"snackbar",!1),Object(x.a)(t,"add_manual_log",!1),Object(x.a)(t,"dialog",!1),Object(x.a)(t,"generateLogsDialog",!1),Object(x.a)(t,"reportSync",!1),Object(x.a)(t,"from_menu",!1),Object(x.a)(t,"to_menu",!1),Object(x.a)(t,"ids",[]),Object(x.a)(t,"departments",[]),Object(x.a)(t,"users",[]),Object(x.a)(t,"DateRange",!0),Object(x.a)(t,"devices",[]),Object(x.a)(t,"loading",!1),Object(x.a)(t,"total",0),Object(x.a)(t,"payload",{DeviceID:"",report_type:"",user_type:"",from_date:"",to_date:"",UserID:"",department_ids:[],status:"-1",branch_id:"",include_device_types:["all","Access Control"]}),Object(x.a)(t,"response",""),Object(x.a)(t,"data",[]),Object(x.a)(t,"errors",[]),Object(x.a)(t,"report_template","Template1"),Object(x.a)(t,"headers",[{text:"Name",align:"left",sortable:!0,key:"user",value:"user"},{text:"Flat",align:"left",sortable:!0,key:"flat",value:"flat"},{text:"Door",align:"left",sortable:!0,key:"door",value:"door"},{text:"DateTime",align:"left",sortable:!1,key:"dateTime",value:"dateTime",fieldType:"date_range_picker"},{text:"Mode",align:"left",sortable:!1,key:"mode",value:"mode"},{text:"In/Out",align:"left",sortable:!1,key:"in_out",value:"in_out"},{text:"User Type",align:"left",sortable:!1,key:"user_type",value:"user_type"}]),Object(x.a)(t,"max_date",null),Object(x.a)(t,"isCompany",!0),Object(x.a)(t,"branches",[]),Object(x.a)(t,"UserID",null),Object(x.a)(t,"visitor_type",null),t},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},mounted:function(){var t=this;setTimeout((function(){t.socketConnection()}),1e4)},created:function(){this.setFromDate(),this.getUsers(),this.getDeviceList(),this.payload.user_type=this.user_type,this.getDataFromApi(1)},methods:{showDialog:function(t){this.key++,this.selectedItem=t,t.visitor?this.UserID=t.visitor.id:t.tanent?this.UserID=t.tanent.id:t.owner?this.UserID=t.owner.id:t.contractor?this.UserID=t.contractor.id:t.delivery?this.UserID=t.delivery.id:t.maid?this.UserID=t.maid.id:t.primary?this.UserID=t.primary.id:t.family_member&&(this.UserID=t.family_member.id),this.visitor_type=this.getUserType(t),this.dialog=!0},getUserType:function(t){for(var e={Tanent:t.tanent,"Family Member":t.family_member,Relative:t.relative,Visitor:t.visitor,Delivery:t.delivery,Contractor:t.contractor,Maid:t.maid,Owner:t.owner,Employee:t.employee},n=0,o=Object.entries(e);n<o.length;n++){var r=Object(y.a)(o[n],2),l=r[0];if(r[1])return l}return"Unknown"},getUserPhone:function(t){for(var e={Tanent:t.tanent,"Family Member":t.family_member,Relative:t.relative,Visitor:t.visitor,Delivery:t.delivery,Contractor:t.contractor,Maid:t.maid},n=0,o=Object.entries(e);n<o.length;n++){var r=Object(y.a)(o[n],2),l=(r[0],r[1]);if(l)return l}return"---"},getUserInfo:function(t){for(var e={Tanent:t.tanent,"Family Member":t.family_member,Relative:t.relative,Visitor:t.visitor,Delivery:t.delivery,Contractor:t.contractor,Maid:t.maid,Employee:t.employee},n=0,o=Object.entries(e);n<o.length;n++){var r=Object(y.a)(o[n],2),l=(r[0],r[1]);if(l)return this.userObject=l,l}return this.userObject=!1,!1},filterAttr:function(data){this.payload.from_date=data.from,this.payload.to_date=data.to,this.getDataFromApi()},getBranches:function(){var t=this;if(this.$auth.user.branch_id)return this.payload.branch_id=this.$auth.user.branch_id,void(this.isCompany=!1);this.$axios.get("branch",{params:{per_page:1e3,company_id:this.$auth.user.company_id}}).then((function(e){var data=e.data;t.branches=data.data}))},getUsers:function(){var t=this,e={params:{per_page:1e3,company_id:this.$auth.user.company_id}};this.$axios.get("/get_users",e).then((function(e){var data=e.data;t.users=data}))},getDeviceList:function(){var t=this;this.$axios.get("/device_list",{params:{per_page:1e3,company_id:this.$auth.user.company_id}}).then((function(e){var data=e.data;t.devices=data.filter((function(t){return!t.name.includes("Mobile")}))}))},setFromDate:function(){if(null==this.payload.from_date){var dt=new Date,t=dt.getFullYear(),e=dt.getMonth()+1,n=e<10?"0"+e:e;this.payload.from_date="".concat(t,"-").concat(n,"-01")}},setThirtyDays:function(t){var e=new Date(t);e.setDate(e.getDate()+29);var n=new Date(e),o=n.getDate();o=o<"10"?"0"+o:o;var r=n.getMonth()+1;r=r<10?"0"+r:r;var l=n.getFullYear();this.max_date="".concat(l,"-").concat(r,"-").concat(o),this.payload.to_date="".concat(l,"-").concat(r,"-").concat(o)},getFirstAndLastDay:function(){var t=new Date,e=(t.getDate(),(t.getMonth()+1).toString().padStart(2,"0")),n=t.getFullYear(),o=new Date(n,e,0).getDate().toString().padStart(2,"0"),r="".concat(n,"-").concat(e,"-0",1),l=o>9?"".concat(o):"0".concat(o);return[r,"".concat(n,"-").concat(e,"-").concat(l)]},caps:function(t){if(t)return t.replace(/_/g," ").replace(/\b\w/g,(function(t){return t.toUpperCase()}))},can:function(t){return this.$pagePermission.can(t,this)},getDataFromApi:function(){var t=arguments,e=this;return Object(f.a)(regeneratorRuntime.mark((function n(){var o,data,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!=(t.length>0&&void 0!==t[0]?t[0]:0)){n.next=6;break}if(e.payload.from_date){n.next=4;break}return n.abrupt("return",!1);case 4:e.payload.from_date&&(e.payload.from_date=e.payload.from_date),e.payload.to_date&&(e.payload.to_date=e.payload.to_date);case 6:return e.loading=!0,n.next=9,e.$store.dispatch("fetchData",{key:"access_control_report",options:e.options,refresh:!0,endpoint:e.endpoint,filters:e.payload});case 9:o=n.sent,data=o.data,r=o.total,e.data=data,e.totalRowsCount=r,e.loading=!1;case 15:case"end":return n.stop()}}),n)})))()},pdfDownload:function(){var t=document.createElement("a");t.setAttribute("href","http://192.168.88.30:8000/api/pdf"),t.setAttribute("target","_blank"),t.click()},process_file:function(t){var e=this;return Object(f.a)(regeneratorRuntime.mark((function n(){var o,r,l,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,e.data&&e.data.length){n.next=4;break}return alert("No data found"),n.abrupt("return");case 4:"http://192.168.88.30:8000/api",o={company_id:e.$auth.user.company_id,branch_id:e.payload.branch_id,UserID:e.payload.UserID,DeviceID:e.payload.DeviceID,from_date:e.payload.from_date,to_date:e.payload.to_date,report_type:e.payload.report_type,user_type:e.payload.user_type},e.payload.from_date&&(o.from_date=e.payload.from_date),e.payload.to_date&&(o.to_date=e.payload.to_date),r=Object.keys(o).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(o[t]))})).join("&"),l="".concat("http://192.168.88.30:8000/api","/accessControlReport_").concat(t.toLowerCase(),"?").concat(r,"&include_device_types[]=all&include_device_types[]=Access Control"),(c=document.createElement("a")).setAttribute("href",l),c.setAttribute("target","_blank"),c.click(),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),console.error("Error processing file:",n.t0.message);case 19:case"end":return n.stop()}}),n,null,[[0,16]])})))()},socketConnection:function(){var t=this;this.socket=new WebSocket(this.url),this.socket.onmessage=function(e){var data=e.data,n=JSON.parse(data).Data,o=n.UserCode;n.SN,n.RecordDate,n.RecordNumber,n.status;o>0&&t.getDetails(n)}},getDetails:function(t){var e=t.SN;if(""!=e){var n,o=null===(n=this.$store.state.devices_list)||void 0===n?void 0:n.filter((function(t){return t.device_id==e}));if((null==o?void 0:o.length)>0){this.tableloading=!0;try{this.pushSocketEmployeeToTable(t)}catch(t){console.log(t)}this.tableloading=!1}}},pushSocketEmployeeToTable:function(t){var e=this;this.$axios.get("socket_call_attendance_logs",{params:{per_page:1e3,company_id:this.$auth.user.company_id}}).then((function(t){t.data;e.$axios.get("socket_call_attendance_logs_update_company_ids",{params:{per_page:1e3,company_id:e.$auth.user.company_id}}).then((function(t){t.data;e.getDataFromApi(1)}))}))}}},D=w,k=n(116),component=Object(k.a)(D,(function(){var t=this,e=t._self._c;return t.can("dashboard_access")?e("div",[e(m.a,{attrs:{"max-width":"1000"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(r.a,[e(c.a,[e(v.a,{staticClass:"pa-0 ma-0",attrs:{"no-gutters":""}},[e(l.a,{staticClass:"text-right"},[e(_.a,{attrs:{color:"primary"},on:{click:function(e){t.dialog=!1}}},[t._v("\n              mdi-close-circle-outline\n            ")])],1)],1),t._v(" "),null!=t.selectedItem.employee?e("EmployeeShortView",{key:t.key+1,attrs:{item:t.selectedItem}}):"Visitor"==t.visitor_type||"Contractor"==t.visitor_type||"Delivery"==t.visitor_type?e("VisitorAttendanceLogsPopup",{key:t.key+2,attrs:{UserID:t.UserID}}):"tenant"==t.visitor_type||"Tanent"==t.visitor_type||"Owner"==t.visitor_type||"Family Member"==t.visitor_type||"Maid"==t.visitor_type?e("TenantAttendanceLogsPopup",{key:t.key,attrs:{UserID:t.UserID,visitor_type:t.visitor_type}}):t._e()],1)],1)],1),t._v(" "),e(r.a,{staticClass:"mt-2",attrs:{elevation:"0"}},[e(h.a,{attrs:{dense:"",flat:""}},[e("span",{staticClass:"headline black--text"},[t._v(" Live Access Control Logs ")]),t._v(" "),e("span",[e(o.a,{staticClass:"ma-0 px-0",attrs:{dense:"","x-small":"",ripple:!1,text:"",title:"Reload"}},[e(_.a,{staticClass:"ml-2",attrs:{dark:""},on:{click:function(e){return t.getDataFromApi(1)}}},[t._v("mdi-reload")])],1)],1)])],1),t._v(" "),e(r.a,{staticClass:"mb-5",attrs:{elevation:"0"}},[t.can("dashboard_access")?e("div",[e(r.a,{staticClass:"mb-5",attrs:{elevation:"0"}},[e(d.a,{staticClass:"elevation-1",attrs:{dense:"",headers:t.headers,items:t.data,loading:t.loading,options:t.options,"footer-props":{itemsPerPageOptions:[10,50,100,500,1e3]},"model-value":"data.id","server-items-length":t.totalRowsCount,"fixed-header":"",height:t.tableHeight},on:{"click:row":t.showDialog,"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.id",fn:function(e){e.item;var n=e.index;return[t._v("\n            "+t._s(n+1)+"\n          ")]}},{key:"item.dateTime",fn:function(e){var n=e.item;e.index;return[t._v("\n            "+t._s(n.date)+" "+t._s(n.time)+"\n          ")]}},{key:"item.flat",fn:function(n){var o,r,l,c,d,m,_,v,h,f,y,x,C,S,w,D,k,$,O,F,z,j,A,L,T,I,R,M=n.item;n.index;return[M.owner?e("div",[t._v("\n              "+t._s(null!==(o=null==M||null===(r=M.owner)||void 0===r||null===(l=r.room)||void 0===l?void 0:l.room_number)&&void 0!==o?o:"---")+"\n            ")]):M.tanent?e("div",[t._v("\n              "+t._s(null!==(c=null==M||null===(d=M.tanent)||void 0===d||null===(m=d.room)||void 0===m?void 0:m.room_number)&&void 0!==c?c:"---")+"\n            ")]):M.visitor?e("div",[t._v("\n              "+t._s(null!==(_=null==M||null===(v=M.visitor.tanent)||void 0===v||null===(h=v.room)||void 0===h?void 0:h.room_number)&&void 0!==_?_:"---")+"\n              "),e("br"),t._v(" "),e("small",[t._v(t._s(null!==(f=null==M||null===(y=M.visitor.tanent)||void 0===y?void 0:y.full_name)&&void 0!==f?f:"---"))]),e("br"),t._v(" "),e("small",[t._v(t._s(null!==(x=null==M||null===(C=M.visitor.tanent)||void 0===C?void 0:C.phone_number)&&void 0!==x?x:"---"))])]):M.contractor?e("div",[t._v("\n              "+t._s(null!==(S=null==M||null===(w=M.contractor.tanent)||void 0===w||null===(D=w.room)||void 0===D?void 0:D.room_number)&&void 0!==S?S:"---")+"\n              "),e("br"),t._v(" "),e("small",[t._v(t._s(null!==(k=null==M||null===($=M.contractor.tanent)||void 0===$?void 0:$.full_name)&&void 0!==k?k:"---"))]),e("br"),t._v(" "),e("small",[t._v(t._s(null!==(O=null==M||null===(F=M.contractor.tanent)||void 0===F?void 0:F.phone_number)&&void 0!==O?O:"---"))])]):M.delivery?e("div",[t._v("\n              "+t._s(null!==(z=null==M||null===(j=M.delivery.tanent)||void 0===j||null===(A=j.room)||void 0===A?void 0:A.room_number)&&void 0!==z?z:"---")+"\n              "),e("br"),t._v(" "),e("small",[t._v(t._s(null!==(L=null==M||null===(T=M.delivery.tanent)||void 0===T?void 0:T.full_name)&&void 0!==L?L:"---"))]),e("br"),t._v(" "),e("small",[t._v(t._s(null!==(I=null==M||null===(R=M.delivery.tanent)||void 0===R?void 0:R.phone_number)&&void 0!==I?I:"---"))])]):e("div",[t._v("---")])]}},{key:"item.in",fn:function(e){var n=e.item;e.index;return[t._v("\n            "+t._s("out"!==n.device.function||"Out"!==n.device.function?"In":"---")+"\n          ")]}},{key:"item.out",fn:function(e){var n=e.item;e.index;return[t._v("\n            "+t._s("out"==n.device.function||"Out"==n.device.function?"Out":"---")+"\n          ")]}},{key:"item.user_type",fn:function(e){var n=e.item;e.index;return[t._v("\n            "+t._s(t.getUserType(n))+"\n          ")]}},{key:"item.status",fn:function(n){var o,r=n.item;n.index;return[t._v("\n            "+t._s(r.status)+"\n            "),e("br"),t._v(" "),e("small",[t._v(t._s(null!==(o=r.reason)&&void 0!==o?o:""))])]}},{key:"item.phone_number",fn:function(n){var o,r=n.item;n.index;return[t._v("\n            "+t._s(t.getUserPhone(r).phone_number)+"\n            "),e("br"),t._v(" "),e("small",[t._v(t._s(null!==(o=r.reason)&&void 0!==o?o:""))])]}},{key:"item.mode",fn:function(e){var n,o=e.item;e.index;return[t._v("\n            "+t._s(null!==(n=o.mode)&&void 0!==n?n:"---")+"\n          ")]}},{key:"item.in_out",fn:function(e){var n=e.item;e.index;return[t._v("\n            "+t._s(n.log_type&&"out"==n.log_type?"Out":"In")+"\n          ")]}},{key:"item.door",fn:function(e){var n,o=e.item;e.index;return[t._v("\n            "+t._s(null!==(n=o.device.short_name)&&void 0!==n?n:"---")+"\n          ")]}},{key:"item.user",fn:function(n){var o,r,c,d,m,_,h,f,y,x,C,S,w,D,k,$,O,F,z,j,A,L,T,I,R,M,U,P=n.item;return[P.tanent?e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(o=P.tanent.first_name)&&void 0!==o?o:"---")+"\n                  "+t._s(null!==(r=P.tanent.last_name)&&void 0!==r?r:"---")+"\n                ")])])],1):P.family_member?e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(c=P.family_member.first_name)&&void 0!==c?c:"---")+"\n                  "+t._s(null!==(d=P.family_member.last_name)&&void 0!==d?d:"---")+"\n                ")])])],1):P.relative?e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(m=P.relative.first_name)&&void 0!==m?m:"---")+"\n                  "+t._s(null!==(_=P.relative.last_name)&&void 0!==_?_:"---")+"\n                ")])])],1):P.visitor?e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(h=P.visitor.first_name)&&void 0!==h?h:"---")+"\n                  "+t._s(null!==(f=P.visitor.last_name)&&void 0!==f?f:"---")+"\n                ")]),t._v(" "),e("small",[t._v(t._s(null!==(y=P.visitor.phone_number)&&void 0!==y?y:""))])])],1):P.delivery?e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(x=P.delivery.first_name)&&void 0!==x?x:"---")+"\n                  "+t._s(null!==(C=P.delivery.last_name)&&void 0!==C?C:"---")+"\n                ")]),t._v(" "),e("small",[t._v(t._s(null!==(S=P.delivery.phone_number)&&void 0!==S?S:""))])])],1):P.contractor?e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(w=P.contractor.first_name)&&void 0!==w?w:"---")+"\n                  "+t._s(null!==(D=P.contractor.last_name)&&void 0!==D?D:"---")+"\n                ")]),t._v(" "),e("small",[t._v(t._s(null!==(k=P.contractor.phone_number)&&void 0!==k?k:""))])])],1):P.owner?e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==($=P.owner.first_name)&&void 0!==$?$:"---")+"\n                  "+t._s(null!==(O=P.owner.last_name)&&void 0!==O?O:"---")+"\n                ")]),t._v(" "),e("small",[t._v(t._s(null!==(F=P.owner.phone_number)&&void 0!==F?F:""))])])],1):P.maid?e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(z=P.maid.first_name)&&void 0!==z?z:"---")+"\n                  "+t._s(null!==(j=P.maid.last_name)&&void 0!==j?j:"---")+"\n                ")]),t._v(" "),e("small",[t._v(t._s(null!==(A=P.maid.phone_number)&&void 0!==A?A:""))])])],1):P.family_member?e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(L=P.family_member.first_name)&&void 0!==L?L:"---")+"\n                  "+t._s(null!==(T=P.family_member.last_name)&&void 0!==T?T:"---")+"\n                ")]),t._v(" "),e("small",[t._v(t._s(null!==(I=P.maid.phone_number)&&void 0!==I?I:""))])])],1):P.employee?e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(R=P.employee.first_name)&&void 0!==R?R:"---")+"\n                  "+t._s(null!==(M=P.employee.last_name)&&void 0!==M?M:"---")+"\n                ")]),t._v(" "),e("small",[t._v(t._s(null!==(U=P.employee.phone_number)&&void 0!==U?U:""))])])],1):e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{md:"8"}},[e("div",[t._v("Unkown")])])],1)]}}],null,!1,2413868700)})],1)],1):t._e()])],1):e("NoAccess")}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{EmployeeShortView:n(969).default,NoAccess:n(881).default})},1080:function(t,e,n){"use strict";n(1025)},1081:function(t,e,n){var o=n(21)((function(i){return i[1]}));o.push([t.i,".center-both[data-v-d75e8b1c]{align-items:center;display:flex;height:31vh;justify-content:center}@media (max-width:500px){.bordertop[data-v-d75e8b1c]{border-left:0;border-top:1px solid #ddd;padding-bottom:5px}}@media (max-width:1500px){.laptop-padding[data-v-d75e8b1c]{padding-left:30px}}",""]),o.locals={},t.exports=o},1082:function(t,e,n){"use strict";n(1026)},1083:function(t,e,n){var o=n(21)((function(i){return i[1]}));o.push([t.i,".menu-icon-right{margin:auto;text-align:right}",""]),o.locals={},t.exports=o},1084:function(t,e,n){"use strict";n(1027)},1085:function(t,e,n){var o=n(21)((function(i){return i[1]}));o.push([t.i,".center-both[data-v-6b8b1dbf]{align-items:center;display:flex;height:31vh;justify-content:center}.breakthewords[data-v-6b8b1dbf]{-webkit-line-clamp:1;-webkit-box-orient:vertical;display:-webkit-box;font-size:12px;overflow:hidden;text-overflow:ellipsis}",""]),o.locals={},t.exports=o},1086:function(t,e,n){"use strict";n(1028)},1087:function(t,e,n){var o=n(21)((function(i){return i[1]}));o.push([t.i,".apexcharts-canvas{width:100%}",""]),o.locals={},t.exports=o},1088:function(t,e,n){"use strict";n(1029)},1089:function(t,e,n){var o=n(21)((function(i){return i[1]}));o.push([t.i,".v-application--is-ltr .v-data-footer__pagination{margin:0}",""]),o.locals={},t.exports=o},1105:function(t,e,n){"use strict";n.r(e);var o=n(329),r=n(516),l=n(147),c=n(515),d=n(23),m=(n(88),{props:["branch_id","user_type"],data:function(){return{options:{},loading:!1,dataLength:0,data:{date:" ",EmployeeCount:0,VisitorCount:0,TenantCount:0,DeniedCount:0,DeliverysCount:0,ContractorsCount:0}}},watch:{branch_id:function(){this.$store.commit("dashboard/previous_week_attendance_count",null),this.getDataFromApi()}},mounted:function(){this.getDataFromApi()},created:function(){var t=new Date;this.date_to=t.toISOString().split("T")[0],this.date_from=t.toISOString().split("T")[0],this.getDataFromApi()},methods:{goToReports:function(){this.$router.push("/attendance_report")},viewLogs:function(){this.$router.push("/attendance_report")},getDataFromApi:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.dispatch("CommDashboard/setDates",{date_from:t.date_from,date_to:t.date_to,branch_id:null,system_user_id:null,device_id:null,user_type:t.user_type}),e.next=3,t.$store.dispatch("CommDashboard/today_statistics");case 3:t.data=e.sent;case 4:case"end":return e.stop()}}),e)})))()}}}),_=(n(1080),n(116)),component=Object(_.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bordertop"},[e(c.a,[e(r.a,{attrs:{md:"10",sm:"10",xs:"10"}},[e("h4",[t._v("Today Statistics")])]),t._v(" "),e(r.a,{staticClass:"text-end",attrs:{md:"2",sm:"2",xs:"2"}})],1),t._v(" "),e(c.a,{staticClass:"mt-2",attrs:{"align-self":"center"}},[e(r.a,{staticClass:"pt-0",attrs:{lg:"2",md:"2",sm:"2",xs:"2","align-self":"center"}},[e(o.a,{attrs:{color:"#14B012",size:"40"}},[e(l.a,{attrs:{color:"#FFF"}},[t._v("mdi mdi-home-silo-outline")])],1)],1),t._v(" "),e(r.a,{staticClass:"text-red bold text-h3 red--text text-center laptop-padding pt-0",staticStyle:{"font-size":"40px",color:"#14b012 !important"},attrs:{lg:"4",md:"4",sm:"4",xs:"4","align-self":"center"}},[t._v(t._s(t.data&&t.data.TenantCount))]),t._v(" "),e(r.a,{staticClass:"pt-0",attrs:{lg:"6",md:"6",sm:"6",xs:"6","align-self":"center"}},[t._v("Tenants")])],1),t._v(" "),e(c.a,{staticClass:"mt-2"},[e(r.a,{staticClass:"pt-0",attrs:{lg:"2",md:"2",sm:"2",xs:"2"}},[e(o.a,{attrs:{color:"#2196F3",size:"40"}},[e(l.a,{attrs:{color:"#FFF"}},[t._v("mdi mdi-account-tie")])],1)],1),t._v(" "),e(r.a,{staticClass:"text-red bold text-h3 orange--text text-center laptop-padding pt-0",staticStyle:{"font-size":"40px",color:"#2196f3 !important"},attrs:{lg:"4",md:"4",sm:"4",xs:"4","align-self":"center"}},[t._v(t._s(t.data&&t.data.EmployeeCount))]),t._v(" "),e(r.a,{staticClass:"pt-0",attrs:{lg:"6",md:"6",sm:"6",xs:"6","align-self":"center"}},[t._v("Employees")])],1),t._v(" "),e(c.a,{staticClass:"mt-2"},[e(r.a,{staticClass:"pt-0",attrs:{lg:"2",md:"2",sm:"2",xs:"2"}},[e(o.a,{attrs:{color:"#FFB600",size:"40"}},[e(l.a,{attrs:{color:"#FFF"}},[t._v("mdi mdi-account-details")])],1)],1),t._v(" "),e(r.a,{staticClass:"text-red bold text-h3 blue--text text-center laptop-padding pt-0",staticStyle:{"font-size":"40px",color:"#ffb600 !important"},attrs:{lg:"4",md:"4",sm:"4",xs:"4","align-self":"center"}},[t._v(t._s(t.data&&t.data.VisitorCount))]),t._v(" "),e(r.a,{staticClass:"pt-0",attrs:{lg:"6",md:"6",sm:"6",xs:"6","align-self":"center"}},[t._v("Visitors")])],1),t._v(" "),e(c.a,{staticClass:"mt-2"},[e(r.a,{staticClass:"pt-0",attrs:{lg:"2",md:"2",sm:"2",xs:"2"}},[e(o.a,{attrs:{color:"#C8B053",size:"40"}},[e(l.a,{attrs:{color:"#FFF"}},[t._v("mdi mdi-moped")])],1)],1),t._v(" "),e(r.a,{staticClass:"text-red bold text-h3 orange--text text-center laptop-padding pt-0",staticStyle:{"font-size":"40px",color:"#c8b053 !important"},attrs:{lg:"4",md:"4",sm:"4",xs:"4","align-self":"center"}},[t._v(t._s(t.data&&t.data.DeliverysCount))]),t._v(" "),e(r.a,{staticClass:"pt-0",attrs:{lg:"6",md:"6",sm:"6",xs:"6","align-self":"center"}},[t._v("Delivery Man")])],1),t._v(" "),e(c.a,{staticClass:"mt-2"},[e(r.a,{staticClass:"pt-0",attrs:{lg:"2",md:"2",sm:"2",xs:"2"}},[e(o.a,{attrs:{color:"#F1C40F",size:"40"}},[e(l.a,{attrs:{color:"#FFF"}},[t._v("mdi mdi-handshake-outline")])],1)],1),t._v(" "),e(r.a,{staticClass:"text-red bold text-h3 orange--text text-center laptop-padding pt-0",staticStyle:{"font-size":"40px",color:"#f1c40f !important"},attrs:{lg:"4",md:"4",sm:"4",xs:"4","align-self":"center"}},[t._v(t._s(t.data&&t.data.ContractorsCount))]),t._v(" "),e(r.a,{staticClass:"pt-0",attrs:{lg:"6",md:"6",sm:"6",xs:"6","align-self":"center"}},[t._v("Contractors")])],1),t._v(" "),e(c.a,{staticClass:"mt-2"},[e(r.a,{staticClass:"pt-0",attrs:{lg:"2",md:"2",sm:"2",xs:"2"}},[e(o.a,{attrs:{color:"#FF0000",size:"40"}},[e(l.a,{attrs:{color:"#FFF"}},[t._v("mdi mdi-account-remove")])],1)],1),t._v(" "),e(r.a,{staticClass:"text-red bold text-h3 orange--text text-center laptop-padding pt-0",staticStyle:{"font-size":"40px",color:"#ff0000 !important"},attrs:{lg:"4",md:"4",sm:"4",xs:"4","align-self":"center; "}},[t._v(t._s(t.data&&t.data.DeniedCount))]),t._v(" "),e(r.a,{staticClass:"pt-0",attrs:{lg:"6",md:"6",sm:"6",xs:"6","align-self":"center"}},[t._v("Access Denied")])],1)],1)}),[],!1,null,"d75e8b1c",null);e.default=component.exports},1106:function(t,e,n){"use strict";n.r(e);var o=n(329),r=n(114),l=n(133),c=n(516),d=n(147),m=n(326),_=n(204),v=n(60),h=n(863),f=n(515),y={props:["branch_id"],data:function(){return{offlineDevices:0,leaveRequests:0,data:{employeeCount:0,totalIn:0,totalOut:0,presentCount:0,absentCount:0,missingCount:0,offCount:0,holidayCount:0,leaveCount:0,vaccationCount:0,flats_count:0,occupied_count:0,car_parking_count:0,allocated_count:0,offline_devices:0,contract_expiring_count:0},loading:!1}},watch:{branch_id:function(){this.loading=!0,this.$store.commit("dashboard/right_statistics",null),this.getDataFromApi(),this.loading=!1}},created:function(){this.getDataFromApi()},methods:{viewLeaves:function(){this.$router.push("/leaves")},viewLogs:function(){this.$router.push("/attendance_report")},viewDevices:function(){this.$router.push("/device")},getDataFromApi:function(){var t=this;this.$store.state.right_statistics?this.data=this.$store.state.right_statistics:this.$axios.get("community_dashboard_get_assets_statistics",{params:{company_id:this.$auth.user.company_id,branch_id:this.branch_id>0?this.branch_id:null}}).then((function(e){var data=e.data;t.data=data}))},getDeviceStatus:function(){var t=this;this.$axios.get("/devcie_count_Status/".concat(this.$auth.user.company_id),{params:{company_id:this.$auth.user.company_id,branch_id:this.branch_id>0?this.branch_id:null}}).then((function(e){var data=e.data;t.offlineDevices=data.series?data.series[1]:0,t.$store.commit("dashboard/off_devices_count",t.offlineDevices)}))},getPendingLeavesCount:function(){var t=this,e={params:{company_id:this.$auth.user.company_id||0,branch_id:this.branch_id>0?this.branch_id:null}};this.$axios.get("employee_leaves_new",e).then((function(e){var data=e.data;t.leaveRequests=data.total_pending_count,t.$store.commit("dashboard/leaves_request_count",data.total_pending_count)}))}}},x=(n(1082),n(116)),component=Object(x.a)(y,(function(){var t=this,e=t._self._c;return e("div",[t.loading?t._e():e("div",[e(f.a,[e(c.a,{attrs:{md:"6",xs:"12",sm:"12",cols:"12"}},[e(l.a,{staticClass:"py-2"},[e(f.a,{staticClass:"pa-2"},[e(f.a,{staticClass:"pa-0 ma-0",staticStyle:{width:"100%"}},[e(c.a,{attrs:{md:"6"}},[e(o.a,{attrs:{color:"green"}},[e(d.a,{staticStyle:{color:"#fff"},attrs:{size:"30"}},[t._v("mdi-account-outline")])],1)],1),t._v(" "),e(c.a,{staticClass:"menu-icon-right text-end",attrs:{md:"6"}},[e(h.a,{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(r.a,t._g(t._b({attrs:{"dark-2":"",icon:""}},"v-btn",l,!1),o),[e(d.a,[t._v("mdi-dots-vertical")])],1)]}}],null,!1,1162464771)},[t._v(" "),e(m.a,{attrs:{width:"120",dense:""}},[e(_.a,{on:{click:function(e){return t.viewLogs()}}},[e(v.c,{staticStyle:{cursor:"pointer"}},[t._v("\n                        View Logs\n                      ")])],1)],1)],1)],1)],1),t._v(" "),e(f.a,[e(c.a,{staticStyle:{"text-align":"center","padding-top":"0px"},attrs:{md:"12"}},[e("div",{staticClass:"bold text-h3 green--text"},[t._v("\n                  "+t._s(t.data.flats_count)+"\n                ")]),t._v(" "),e("div",{staticStyle:{"text-align":"center"}},[t._v("Flats/Houses")])])],1)],1)],1)],1),t._v(" "),e(c.a,{attrs:{md:"6",xs:"12",sm:"12",cols:"12"}},[e(l.a,{staticClass:"py-2"},[e(f.a,{staticClass:"pa-2"},[e(f.a,{staticClass:"pa-0 ma-0",staticStyle:{width:"100%"}},[e(c.a,{attrs:{md:"6"}},[e(o.a,{attrs:{color:"red"}},[e(d.a,{staticStyle:{color:"#fff"},attrs:{size:"30"}},[t._v("mdi-account-minus-outline")])],1)],1),t._v(" "),e(c.a,{staticClass:"menu-icon-right text-end",attrs:{md:"6"}},[e(h.a,{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(r.a,t._g(t._b({attrs:{"dark-2":"",icon:""}},"v-btn",l,!1),o),[e(d.a,[t._v("mdi-dots-vertical")])],1)]}}],null,!1,1162464771)},[t._v(" "),e(m.a,{attrs:{width:"120",dense:""}},[e(_.a,{on:{click:function(e){return t.viewLogs()}}},[e(v.c,{staticStyle:{cursor:"pointer"}},[t._v("\n                        View Logs\n                      ")])],1)],1)],1)],1)],1),t._v(" "),e(f.a,[e(c.a,{staticStyle:{"text-align":"center","padding-top":"0px"},attrs:{md:"12"}},[e("div",{staticClass:"bold text-h3 red--text"},[t._v("\n                  "+t._s(t.data.occupied_count)+"\n                ")]),t._v(" "),e("div",{staticStyle:{"text-align":"center"}},[t._v("Occupied")])])],1)],1)],1)],1)],1),t._v(" "),e(f.a,[e(c.a,{attrs:{md:"6",xs:"12",sm:"12",cols:"12"}},[e(l.a,{staticClass:"py-2"},[e(f.a,{staticClass:"pa-2"},[e(f.a,{staticClass:"pa-0 ma-0",staticStyle:{width:"100%"}},[e(c.a,{attrs:{md:"6"}},[e(o.a,{attrs:{color:"blue"}},[e(d.a,{staticStyle:{color:"#fff"},attrs:{size:"30"}},[t._v("mdi-airplane-takeoff")])],1)],1),t._v(" "),e(c.a,{staticClass:"menu-icon-right",attrs:{md:"6"}},[e(h.a,{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(r.a,t._g(t._b({attrs:{"dark-2":"",icon:""}},"v-btn",l,!1),o),[e(d.a,[t._v("mdi-dots-vertical")])],1)]}}],null,!1,1162464771)},[t._v(" "),e(m.a,{attrs:{width:"120",dense:""}},[e(_.a,{on:{click:function(e){return t.viewLogs()}}},[e(v.c,{staticStyle:{cursor:"pointer"}},[t._v("\n                        View Logs\n                      ")])],1)],1)],1)],1)],1),t._v(" "),e(f.a,[e(c.a,{staticStyle:{"text-align":"center","padding-top":"0px"},attrs:{md:"12"}},[e("div",{staticClass:"bold text-h3 blue--text"},[t._v("\n                  "+t._s(t.data.car_parking_count)+"\n                ")]),t._v(" "),e("div",{staticStyle:{"text-align":"center"}},[t._v("Car Parking")])])],1)],1)],1)],1),t._v(" "),e(c.a,{attrs:{md:"6",xs:"12",sm:"12",cols:"12"}},[e(l.a,{staticClass:"py-2"},[e(f.a,{staticClass:"pa-2"},[e(f.a,{staticClass:"pa-0 ma-0",staticStyle:{width:"100%"}},[e(c.a,{attrs:{md:"6"}},[e(o.a,{attrs:{color:"yellow"}},[e(d.a,{staticStyle:{color:"#fff"},attrs:{size:"30"}},[t._v("mdi-clock-time-eight-outline")])],1)],1),t._v(" "),e(c.a,{staticClass:"menu-icon-right",attrs:{md:"6"}},[e(h.a,{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(r.a,t._g(t._b({attrs:{"dark-2":"",icon:""}},"v-btn",l,!1),o),[e(d.a,[t._v("mdi-dots-vertical")])],1)]}}],null,!1,1162464771)},[t._v(" "),e(m.a,{attrs:{width:"120",dense:""}},[e(_.a,{on:{click:function(e){return t.viewLogs()}}},[e(v.c,{staticStyle:{cursor:"pointer"}},[t._v("\n                        View Logs\n                      ")])],1)],1)],1)],1)],1),t._v(" "),e(f.a,[e(c.a,{staticStyle:{"text-align":"center","padding-top":"0px"},attrs:{md:"12"}},[e("div",{staticClass:"bold text-h3 orange--text"},[t._v("\n                  "+t._s(t.data.allocated_count)+"\n                ")]),t._v(" "),e("div",{staticStyle:{"text-align":"center"}},[t._v("Allocated")])])],1)],1)],1)],1)],1),t._v(" "),e(f.a,[e(c.a,{attrs:{md:"6",xs:"12",sm:"12",cols:"12"}},[e(l.a,{staticClass:"py-2"},[e(f.a,{staticClass:"pa-2"},[e(f.a,{staticClass:"pa-0 ma-0",staticStyle:{width:"100%"}},[e(c.a,{attrs:{md:"6"}},[e(o.a,{attrs:{color:"#E65100"}},[e(d.a,{staticStyle:{color:"#fff"},attrs:{size:"30"}},[t._v("mdi-cellphone-information")])],1)],1),t._v(" "),e(c.a,{staticClass:"menu-icon-right",attrs:{md:"6"}},[e(h.a,{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(r.a,t._g(t._b({attrs:{"dark-2":"",icon:""}},"v-btn",l,!1),o),[e(d.a,[t._v("mdi-dots-vertical")])],1)]}}],null,!1,1162464771)},[t._v(" "),e(m.a,{attrs:{width:"120",dense:""}},[e(_.a,{on:{click:function(e){return t.viewDevices()}}},[e(v.c,{staticStyle:{cursor:"pointer"}},[t._v("\n                        View Devices\n                      ")])],1)],1)],1)],1)],1),t._v(" "),e(f.a,[e(c.a,{staticStyle:{"text-align":"center","padding-top":"0px"},attrs:{md:"12"}},[e("div",{staticClass:"bold text-h3 red--text"},[t._v("\n                  "+t._s(t.data.offline_devices)+"\n                ")]),t._v(" "),e("div",{staticStyle:{"text-align":"center"}},[t._v("Offline Devices")])])],1)],1)],1)],1),t._v(" "),e(c.a,{attrs:{md:"6",xs:"12",sm:"12",cols:"12"}},[e(l.a,{staticClass:"py-2"},[e(f.a,{staticClass:"pa-2"},[e(f.a,{staticClass:"pa-0 ma-0",staticStyle:{width:"100%"}},[e(c.a,{attrs:{md:"6"}},[e(o.a,{attrs:{color:"black"}},[e(d.a,{staticStyle:{color:"#fff"},attrs:{size:"30"}},[t._v("mdi-card-account-mail-outline")])],1)],1),t._v(" "),e(c.a,{staticClass:"menu-icon-right",attrs:{md:"6"}},[e(h.a,{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(r.a,t._g(t._b({attrs:{"dark-2":"",icon:""}},"v-btn",l,!1),o),[e(d.a,[t._v("mdi-dots-vertical")])],1)]}}],null,!1,1162464771)},[t._v(" "),e(m.a,{attrs:{width:"120",dense:""}},[e(_.a,{on:{click:function(e){return t.viewLeaves()}}},[e(v.c,{staticStyle:{cursor:"pointer"}},[t._v("\n                        View Leaves\n                      ")])],1)],1)],1)],1)],1),t._v(" "),e(f.a,[e(c.a,{staticStyle:{"text-align":"center","padding-top":"0px"},attrs:{md:"12"}},[e("div",{staticClass:"bold text-h3 black--text"},[t._v("\n                  "+t._s(t.data.contract_expiring_count)+"\n                ")]),t._v(" "),e("div",{staticStyle:{"text-align":"center"}},[t._v("Contract Expiring")])])],1)],1)],1)],1)],1)],1),t._v(" "),t.loading?e("ComonPreloader",{attrs:{icon:"face-scan"}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ComonPreloader:n(895).default})},1107:function(t,e,n){"use strict";n.r(e);var o=n(114),r=n(133),l=n(87),c=n(516),d=n(876),m=n(350),_=n(147),v=n(212),h=n(326),f=n(204),y=n(60),x=n(863),C=n(515),S=n(349),w=(n(14),n(67),n(33),n(58),n(37),n(55),{props:["branch_id"],data:function(){return{announcementDialog:!1,announcementViewObj:{},options:{},Model:"Announcement",endpoint:"community_announcement_list",loading:!1,headers:[{text:"Title",align:"left",sortable:!0,key:"title",value:"title"},{text:"Start Date",align:"left",sortable:!0,value:"start_date",key:"start_date"},{text:"End Date",align:"left",sortable:!0,value:"end_date",key:"end_date"}],data:[]}},watch:{branch_id:function(){this.$store.commit("CommDashboard/announcements",null),this.getDataFromApi()}},created:function(){this.getDataFromApi()},methods:{viewDetails:function(t){this.announcementViewObj=t,this.announcementDialog=!0},getUserPic:function(t){return null==t.user?"/no-profile-image.jpg":t.user&&"company"==t.user.user_type?t.user.company.logo:t.user&&"employee"==t.user.user_type?t.user.employee.profile_picture:void 0},getPriorityColor:function(t){return null==t?"":"Urgent"==t.name?"color:#F44336":"Informational"==t.name?"color:#3F51B5":"Meeting"==t.name?"color:#FF5722":"Priority"==t.name?"color:#4CAF50":"Low Priority"==t.name?"color:#000000":void 0},viewLogs:function(){this.$router.push("/announcement")},getDataFromApi:function(){var t=this,e=this.$store.state.dashboard.announcements;e?this.data=e:setTimeout((function(){t.loading=!0;var e=t.options,n=e.sortBy,o=e.sortDesc,r={params:{page:e.page,sortBy:n?n[0]:"",sortDesc:o?o[0]:"",per_page:5,company_id:t.$auth.user.company_id,branch_id:t.branch_id>0?t.branch_id:null}};t.$axios.get(t.endpoint,r).then((function(e){var data=e.data;t.loading=!1,t.data=data.data,t.$store.commit("CommDashboard/announcements",data.data),data.total||t.headers}))}),5e3)}}}),D=(n(1084),n(116)),component=Object(D.a)(w,(function(){var t=this,e=t._self._c;return e("div",[e(m.a,{attrs:{persistent:"","max-width":"60%"},model:{value:t.announcementDialog,callback:function(e){t.announcementDialog=e},expression:"announcementDialog"}},[e(r.a,[e(l.c,{staticClass:"popup_background",attrs:{dense:""}},[t._v("\n        Community Announcement\n        "),e(S.a),t._v(" "),e(_.a,{attrs:{outlined:"",dark:""},on:{click:function(e){t.announcementDialog=!1}}},[t._v("\n          mdi mdi-close-circle\n        ")])],1),t._v(" "),e(l.b,[e(d.a,[e("h3",[t._v(t._s(t.announcementViewObj.title))]),t._v(" "),e("div",{domProps:{innerHTML:t._s(t.announcementViewObj.description)}})])],1)],1)],1),t._v(" "),e(C.a,[e(c.a,{attrs:{md:"10"}},[e("h4",{staticClass:"pl-2"},[t._v("Announcements")])]),t._v(" "),e(c.a,{staticClass:"menu-icon-right",attrs:{md:"2"}},[e(x.a,{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[e(o.a,t._g(t._b({attrs:{"dark-2":"",icon:""}},"v-btn",l,!1),r),[e(_.a,[t._v("mdi-dots-vertical")])],1)]}}])},[t._v(" "),e(h.a,{attrs:{width:"120",dense:""}},[e(f.a,{on:{click:function(e){return t.viewLogs()}}},[e(y.c,{staticStyle:{cursor:"pointer"}},[t._v("\n              View All\n            ")])],1)],1)],1)],1)],1),t._v(" "),t.loading?e(C.a,[e("ComonPreloader",{attrs:{icon:"face-scan"}})],1):t._l(t.data,(function(n,i){return e(C.a,{key:i,on:{click:function(e){return t.viewDetails(n)}}},[e(c.a,{staticClass:"text-right",staticStyle:{"text-align":"right",float:"right"},attrs:{md:"2",sm:"2",xs:"2"}},[e(v.a,{staticStyle:{"border-radius":"50%",height:"auto",width:"40px","max-width":"40px",float:"right"},attrs:{src:t.getUserPic(n)}})],1),t._v(" "),e(c.a,{attrs:{md:"10",sm:"10",xs:"10"}},[e("div",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(n.title))]),t._v(" "),e("div",{staticClass:"breakthewords",domProps:{innerHTML:t._s(n.description.replace(/<[^>]*>/g,""))}}),t._v(" "),e(C.a,[e(c.a,{attrs:{md:"6",sm:"6",xs:"6"}},[e("div",{staticStyle:{color:"grey","font-size":"12px"}},[t._v("\n            "+t._s(n.dateTime)+"\n          ")])]),t._v(" "),e(c.a,{staticClass:"text-center",staticStyle:{"font-size":"12px"},attrs:{md:"6",sm:"6",xs:"6"}},[e("span",{style:t.getPriorityColor(n.category)},[t._v(t._s(n.category&&n.category.name))])])],1)],1)],1)})),t._v(" "),0==t.data.length?e(c.a,{attrs:{md:"12"}},[e("center",[t._v("0 Announcements")])],1):t._e()],2)}),[],!1,null,"6b8b1dbf",null);e.default=component.exports;installComponents(component,{ComonPreloader:n(895).default})},1108:function(t,e,n){"use strict";n.r(e);var o=n(114),r=n(516),l=n(147),c=n(326),d=n(204),m=n(60),_=n(863),v=n(515),h=(n(37),n(23)),f=(n(6),n(11),n(88),{props:["name","height","branch_id"],data:function(){return{series:[{name:"Log count",data:[]}],chartOptions:{colors:["#6fd226","#FF0000","#FFB600"],chart:{toolbar:{show:!1},type:"bar",width:"98%"},plotOptions:{bar:{horizontal:!1,columnWidth:"25%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:[]},yaxis:{title:{text:" "}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return t}}}}}},watch:{branch_id:function(){try{this.$store.commit("dashboard/every_hour_count",null),this.getDataFromApi()}catch(t){}}},created:function(){this.getDataFromApi()},mounted:function(){this.chartOptions.chart.height=this.height,this.chartOptions.series=this.series},methods:{viewLogs:function(){this.$router.push("/attendance_report")},getDataFromApi:function(){var t=this;return Object(h.a)(regeneratorRuntime.mark((function e(){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("dashboard/every_hour_count");case 2:data=e.sent,t.renderChart(data);case 4:case"end":return e.stop()}}),e)})))()},renderChart:function(data){var t=this,e=0;data.forEach((function(n){t.chartOptions.series[0].data[e]=parseInt(n.count),t.chartOptions.xaxis.categories[e]=n.hour,e++}));try{new ApexCharts(document.querySelector("#"+this.name),this.chartOptions).render()}catch(t){}}}}),y=(n(1086),n(116)),component=Object(y.a)(f,(function(){var t=this,e=t._self._c;return e("div",{staticStyle:{width:"100%"}},[e(v.a,[e(r.a,{attrs:{md:"10"}},[e("h4",{staticClass:"pl-2"},[t._v("Today Device Logs (in/out)")])]),t._v(" "),e(r.a,{staticClass:"menu-icon-right",attrs:{md:"2"}},[e(_.a,{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,c=n.attrs;return[e(o.a,t._g(t._b({attrs:{"dark-2":"",icon:""}},"v-btn",c,!1),r),[e(l.a,[t._v("mdi-dots-vertical")])],1)]}}])},[t._v(" "),e(c.a,{attrs:{width:"120",dense:""}},[e(d.a,{on:{click:function(e){return t.viewLogs()}}},[e(m.c,{staticStyle:{cursor:"pointer"}},[t._v("\n              View Logs\n            ")])],1)],1)],1)],1)],1),t._v(" "),e("div",{staticStyle:{width:"100%"},attrs:{id:t.name}})],1)}),[],!1,null,null,null);e.default=component.exports},1109:function(t,e,n){"use strict";n.r(e);var o=n(114),r=n(516),l=n(1571),c=n(147),d=n(212),m=n(326),_=n(204),v=n(60),h=n(863),f=n(515),y=(n(37),n(55),n(80),n(6),n(72),n(33),n(58),{props:["branch_id"],data:function(){return{loading:!1,items:[],emptyLogmessage:"",number_of_records:5,logs:[],url:"ws://192.168.20.100:8080/WebSocket",socket:null,totalRowsCount:0,total:0,options:{},headers:[{text:"Pic",align:"left",sortable:!0,filterable:!0,value:"employee.pic"},{text:"Employee Name",align:"left",sortable:!0,filterable:!0,value:"employee.first_name"},{text:"Time",align:"left",sortable:!0,filterable:!0,value:"LogTime"}]}},watch:{branch_id:function(){var t=this;this.loading=!0,setTimeout((function(){t.$store.commit("dashboard/web_logins",null),t.getRecords(),t.loading=!1}),5e3)}},created:function(){this.getRecords()},computed:{employees:function(){return this.$store.state.employeeList.map((function(t){return{system_user_id:t.system_user_id,first_name:t.first_name,last_name:t.last_name,display_name:t.display_name}}))},devices:function(){if(this.$store.state.devices)return this.$store.state.devices.map((function(t){return t.device_id}))}},methods:{viewLogs:function(){this.$router.push("/web_login_logs")},caps:function(t){return""==t||null==t?"":t.toString().replace(/\b\w/g,(function(t){return t.toUpperCase()}))},getRecords:function(){var t=this;this.$store.state.dashboard.web_logins?this.logs=this.$store.state.dashboard.web_logins:(this.loading=!0,this.$axios.get("activity",{params:{per_page:5,company_id:this.$auth.user.company_id,branch_id:this.branch_id>0?this.branch_id:null}}).then((function(e){var data=e.data;t.logs=data,t.$store.commit("dashboard/web_logins",data),t.loading=!1})))}}}),x=(n(1088),n(116)),component=Object(x.a)(y,(function(){var t=this,e=t._self._c;return e("div",[e(f.a,[e(r.a,{attrs:{md:"10"}},[e("h4",{staticClass:"pl-2"},[t._v("Web Login Activities")])]),t._v(" "),e(r.a,{staticClass:"text-end",attrs:{md:"2"}},[e(h.a,{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[e(o.a,t._g(t._b({attrs:{"dark-2":"",icon:""}},"v-btn",l,!1),r),[e(c.a,[t._v("mdi-dots-vertical")])],1)]}}])},[t._v(" "),e(m.a,{attrs:{width:"120",dense:""}},[e(_.a,{on:{click:function(e){return t.viewLogs()}}},[e(v.c,{staticStyle:{cursor:"pointer"}},[t._v("\n              View Logs\n            ")])],1)],1)],1)],1)],1),t._v(" "),t.loading?e("ComonPreloader",{attrs:{icon:"face-scan"}}):t._e(),t._v(" "),e(l.a,{attrs:{dense:"",headers:t.headers,items:t.logs.data,loading:t.loading,options:t.options,"footer-props":{itemsPerPageOptions:[5,50]},"server-items-length":t.logs.total,"hide-default-header":""},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.employee.pic",fn:function(t){var n=t.item;t.index;return[e(f.a,{attrs:{"no-gutters":""}},[e(r.a,{staticStyle:{padding:"5px","padding-left":"0px",width:"30px","max-width":"30px"}},[e(d.a,{staticStyle:{"border-radius":"50%",height:"auto",width:"30px","max-width":"30px"},attrs:{src:n.user.employee?n.user.employee.profile_picture:"/no-profile-image.jpg"}})],1)],1)]}},{key:"item.employee.first_name",fn:function(n){var o=n.item;n.index;return[t._v("\n      "+t._s(o.user.employee?o.user.employee.first_name:"Admin")+"\n      "+t._s(o.user.employee?o.user.employee.last_name:" ")+"\n\n      "),e("div",{staticClass:"secondary-value"},[t._v("\n        "+t._s(o.user.employee&&o.user.employee.department?t.caps(o.user.employee.department.name):"---")+"\n      ")])]}},{key:"item.UserID",fn:function(e){var n=e.item;return[t._v(" #"+t._s(n.UserID)+" ")]}},{key:"item.employee.employee_id",fn:function(e){var n=e.item;return[t._v("\n      "+t._s(n.employee&&n.employee.employee_id)+"\n    ")]}},{key:"item.LogTime",fn:function(n){var o=n.item;return[e(c.a,{attrs:{color:"green",fill:""}},[t._v("mdi-clock-outline")]),t._v("\n      "+t._s(o.date_time)+"\n    ")]}},{key:"item.online",fn:function(n){return[n.item.device.location?e(c.a,{attrs:{color:"green",fill:""}},[t._v("mdi-map-marker-radius")]):e(c.a,{attrs:{color:"red",fill:""}},[t._v("mdi-map-marker-radius")])]}},{key:"item.device.device_name",fn:function(n){var o=n.item;return[e("div",{style:o.device.location?"color:green":"color: red;"},[t._v("\n        "+t._s(o.device?t.caps(o.device.name):"---")+" "),e("br"),t._v("\n\n        "+t._s(o.device.location?o.device.location:"---")+"\n      ")])]}}])})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ComonPreloader:n(895).default})},1110:function(t,e,n){"use strict";n.r(e);var o=n(329),r=n(114),l=n(516),c=n(147),d=n(326),m=n(204),_=n(60),v=n(863),h=n(515),f=(n(55),{props:["branch_id"],data:function(){return{departments:[],loading:!1}},watch:{branch_id:function(){var t=this;this.loading=!0,setTimeout((function(){t.$store.commit("dashboard/attendance_count_by_department",null),t.getDataFromApi(),t.loading=!1}),3e3)}},created:function(){this.getDataFromApi()},methods:{viewLogs:function(){this.$router.push("/attendance_report")},getDataFromApi:function(){var t=this;this.$store.state.dashboard.attendance_count_by_department?this.departments=this.$store.state.dashboard.attendance_count_by_department:(this.loading=!0,this.$axios.get("dashboard_get_count_department",{params:{company_id:this.$auth.user.company_id,branch_id:this.branch_id>0?this.branch_id:null}}).then((function(e){var data=e.data;t.departments=data,t.loading=!1,t.$store.commit("dashboard/attendance_count_by_department",data)})))}}}),y=n(116),component=Object(y.a)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-2 pl-2"},[e(h.a,[e(l.a,{staticStyle:{flex:"auto"},attrs:{cols:"10",md:"10",sm:"10",xs:"10"}},[e("h4",[t._v("Today Presents By Department wise")])]),t._v(" "),e(l.a,{staticClass:"text-end",attrs:{md:"2",sm:"2",xs:"2"}},[e(v.a,{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(r.a,t._g(t._b({attrs:{"dark-2":"",icon:""}},"v-btn",l,!1),o),[e(c.a,[t._v("mdi-dots-vertical")])],1)]}}])},[t._v(" "),e(d.a,{attrs:{width:"120",dense:""}},[e(m.a,{on:{click:function(e){return t.viewLogs()}}},[e(_.c,{staticStyle:{cursor:"pointer"}},[t._v("\n              View Logs\n            ")])],1)],1)],1)],1)],1),t._v(" "),t.loading?e("ComonPreloader",{attrs:{icon:"face-scan"}}):e(h.a,{staticStyle:{margin:"0px"}},[e(l.a,{staticClass:"text-center",attrs:{md:"2"}},[t._v("# ")]),t._v(" "),e(l.a,{attrs:{md:"5"}},[t._v("  ")]),t._v(" "),e(l.a,{staticStyle:{"text-align":"center"},attrs:{md:"1",title:"Present Count"}},[t._v("P")]),t._v(" "),e(l.a,{staticStyle:{"text-align":"center"},attrs:{md:"1",title:"Absent Count"}},[t._v("A ")]),t._v(" "),e(l.a,{staticStyle:{"text-align":"center"},attrs:{md:"1",title:"Missing Count"}},[t._v("M ")]),t._v(" "),e(l.a,{staticStyle:{"text-align":"center"},attrs:{md:"1",title:"Missing Count"}},[t._v("L ")])],1),t._v(" "),e("div",{staticStyle:{height:"250px",overflow:"scroll","padding-bottom":"36px"}},t._l(t.departments,(function(n,r,i){return e(h.a,{key:"department"+i,staticStyle:{"font-size":"10px"}},[e(l.a,{staticClass:"text-center",attrs:{md:"2"}},[e(o.a,{staticStyle:{color:"#fff"},attrs:{size:"30",color:(i+1)%2==0?"green":"red"}},[e(c.a,{staticStyle:{color:"#fff"},attrs:{size:"20"}},[t._v("mdi-laptop")])],1)],1),t._v(" "),e(l.a,{staticClass:"mt-2",staticStyle:{overflow:"hidden"},attrs:{md:"5"}},[t._v(t._s(r)+" ")]),t._v(" "),e(l.a,{staticStyle:{color:"green","text-align":"center"},attrs:{md:"1",title:"Presents"}},[t._v("\n        "+t._s(n.presentCount)+"\n      ")]),t._v(" "),e(l.a,{staticStyle:{color:"red","text-align":"center"},attrs:{md:"1",title:"Absents"}},[t._v(t._s(n.absentCount))]),t._v(" "),e(l.a,{staticStyle:{color:"orange","text-align":"center"},attrs:{md:"1",title:"Missing"}},[t._v(t._s(n.missingCount)+"\n      ")]),t._v(" "),e(l.a,{staticStyle:{"text-align":"center"},attrs:{md:"1",title:"Leave"}},[t._v(t._s(n.leaveCount)+"\n      ")])],1)})),1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ComonPreloader:n(895).default})},1141:function(t,e,n){var content=n(1230);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("755cfd46",content,!0,{sourceMap:!1})},1229:function(t,e,n){"use strict";n(1141)},1230:function(t,e,n){var o=n(21)((function(i){return i[1]}));o.push([t.i,".center-both[data-v-604d252c]{align-items:center;display:flex;height:31vh;justify-content:center}@media (max-width:500px){.bordertop[data-v-604d252c]{border-left:0;border-top:1px solid #ddd;padding-bottom:5px}}@media (max-width:1500px){.laptop-padding[data-v-604d252c]{padding-left:30px}}",""]),o.locals={},t.exports=o},1288:function(t,e,n){var content=n(1464);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("c18c9964",content,!0,{sourceMap:!1})},1350:function(t,e,n){"use strict";n.r(e);var o=n(329),r=n(114),l=n(133),c=n(516),d=n(147),m=n(212),_=n(326),v=n(204),h=n(60),f=n(863),y=n(515),x=(n(529),{props:["branch_id"],data:function(){return{offlineDevices:0,leaveRequests:0,data:{employeeCount:0,totalIn:0,totalOut:0,presentCount:0,absentCount:0,missingCount:0,offCount:0,holidayCount:0,leaveCount:0,vaccationCount:0,flats_count:0,occupied_count:0,car_parking_count:0,allocated_count:0,offline_devices:0,contract_expiring_count:0},loading:!1,cardsJson:[]}},watch:{branch_id:function(){this.loading=!0,this.$store.commit("dashboard/right_statistics",null),this.getDataFromApi(),this.loading=!1}},created:function(){this.getDataFromApi()},methods:{viewLeaves:function(){this.$router.push("/leaves")},viewLogs:function(){var link=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";this.$router.push(link)},viewDevices:function(){this.$router.push("/device")},getDataFromApi:function(){var t=this;this.$store.state.right_statistics?this.data=this.$store.state.right_statistics:this.$axios.get("community_dashboard_get_assets_statistics",{params:{company_id:this.$auth.user.company_id,branch_id:this.branch_id>0?this.branch_id:null}}).then((function(e){var data=e.data;t.data=data,t.cardsJson=[{src:"/home-green-1.png",link:"/",count:data.flats_count,label:"Flats/Houses",color:"green"},{src:"/home-red-1.png",link:"",count:data.occupied_count,label:"Occupied",color:"red"},{src:"/parking-1.png",link:"",count:data.car_parking_count,label:"Car Parking",color:"green"},{src:"/allocated-parking-1.png",link:"",count:data.allocated_count,label:"Allocated",color:"red"},{src:"/device-teal-1.png",link:"",count:data.offline_devices,label:"Offline Devices",color:"teal"},{src:"/expired-1.png",link:"",count:data.contract_expiring_count,label:"Contract Expiring",color:"red"}]}))},getDeviceStatus:function(){var t=this;this.$axios.get("/devcie_count_Status/".concat(this.$auth.user.company_id),{params:{company_id:this.$auth.user.company_id,branch_id:this.branch_id>0?this.branch_id:null}}).then((function(e){var data=e.data;t.offlineDevices=data.series?data.series[1]:0,t.$store.commit("dashboard/off_devices_count",t.offlineDevices)}))},getPendingLeavesCount:function(){var t=this,e={params:{company_id:this.$auth.user.company_id||0,branch_id:this.branch_id>0?this.branch_id:null}};this.$axios.get("employee_leaves_new",e).then((function(e){var data=e.data;t.leaveRequests=data.total_pending_count,t.$store.commit("dashboard/leaves_request_count",data.total_pending_count)}))}}}),C=x,S=n(116),component=Object(S.a)(C,(function(){var t=this,e=t._self._c;return e("div",[t.loading?t._e():e("div",[e(y.a,t._l(t.cardsJson,(function(n,x){return e(c.a,{key:x,attrs:{md:"6",xs:"12",sm:"12",cols:"12"}},[e(l.a,{staticClass:"py-2"},[e(y.a,{staticClass:"pa-2"},[e(y.a,{staticClass:"pa-0 ma-0",staticStyle:{width:"100%"}},[e(c.a,{attrs:{md:"6"}},[e(o.a,{attrs:{size:"50"}},[e(m.a,{attrs:{src:n.src}})],1)],1),t._v(" "),e(c.a,{staticClass:"menu-icon-right",attrs:{md:"6"}},[e(f.a,{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(r.a,t._g(t._b({attrs:{"dark-2":"",icon:""}},"v-btn",l,!1),o),[e(d.a,[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[t._v(" "),e(_.a,{attrs:{width:"120",dense:""}},[e(v.a,{on:{click:function(e){return t.viewLogs(n.link)}}},[e(h.c,{staticStyle:{cursor:"pointer"}},[t._v("\n                        View Logs\n                      ")])],1)],1)],1)],1)],1),t._v(" "),e(y.a,[e(c.a,{staticStyle:{"text-align":"center","padding-top":"0px"},attrs:{md:"12"}},[e("div",{staticClass:"bold text-h3",class:"".concat(n.color,"--text")},[t._v("\n                  "+t._s(n.count)+"\n                ")]),t._v(" "),e("div",{staticStyle:{"text-align":"center"}},[t._v(t._s(n.label))])])],1)],1)],1)],1)})),1)],1),t._v(" "),t.loading?e("ComonPreloader",{attrs:{icon:"face-scan"}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ComonPreloader:n(895).default})},1351:function(t,e,n){"use strict";n.r(e);var o=n(329),r=n(114),l=n(133),c=n(516),d=n(147),m=n(212),_=n(326),v=n(204),h=n(60),f=n(863),y=n(515),x=(n(529),{props:["branch_id"],data:function(){return{offlineDevices:0,leaveRequests:0,data:{employeeCount:0,totalIn:0,totalOut:0,presentCount:0,absentCount:0,missingCount:0,offCount:0,holidayCount:0,leaveCount:0,vaccationCount:0,flats_count:0,occupied_count:0,car_parking_count:0,allocated_count:0,offline_devices:0,contract_expiring_count:0},loading:!1,cardsJson:[]}},watch:{branch_id:function(){this.loading=!0,this.$store.commit("dashboard/right_statistics",null),this.getDataFromApi(),this.loading=!1}},created:function(){this.getDataFromApi()},methods:{viewLeaves:function(){this.$router.push("/leaves")},viewLogs:function(){var link=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";this.$router.push(link)},viewDevices:function(){this.$router.push("/device")},getDataFromApi:function(){var t=this;this.$store.state.right_statistics?this.data=this.$store.state.right_statistics:this.$axios.get("community_dashboard_get_assets_statistics",{params:{company_id:this.$auth.user.company_id,branch_id:this.branch_id>0?this.branch_id:null}}).then((function(e){var data=e.data;t.data=data,t.cardsJson=[{size:"30",src:"/home-green-2.png",link:"/",count:data.flats_count,label:"Flats/Houses",color:"green"},{size:"30",src:"/home-red-2.png",link:"",count:data.occupied_count,label:"Occupied",color:"red"},{src:"/parking-2.png",link:"",count:data.car_parking_count,label:"Car Parking",color:"green"},{src:"/allocated-parking-2.png",link:"",count:data.allocated_count,label:"Allocated",color:"red"},{src:"/device-teal-1.png",link:"",count:data.offline_devices,label:"Offline Devices",color:"black"},{size:"40",src:"/expired-2.png",link:"",count:data.contract_expiring_count,label:"Contract Expiring",color:"black"}]}))},getDeviceStatus:function(){var t=this;this.$axios.get("/devcie_count_Status/".concat(this.$auth.user.company_id),{params:{company_id:this.$auth.user.company_id,branch_id:this.branch_id>0?this.branch_id:null}}).then((function(e){var data=e.data;t.offlineDevices=data.series?data.series[1]:0,t.$store.commit("dashboard/off_devices_count",t.offlineDevices)}))},getPendingLeavesCount:function(){var t=this,e={params:{company_id:this.$auth.user.company_id||0,branch_id:this.branch_id>0?this.branch_id:null}};this.$axios.get("employee_leaves_new",e).then((function(e){var data=e.data;t.leaveRequests=data.total_pending_count,t.$store.commit("dashboard/leaves_request_count",data.total_pending_count)}))}}}),C=x,S=n(116),component=Object(S.a)(C,(function(){var t=this,e=t._self._c;return e("div",[t.loading?t._e():e("div",[e(y.a,t._l(t.cardsJson,(function(n,x){return e(c.a,{key:x,attrs:{md:"6",xs:"12",sm:"12",cols:"12"}},[e(l.a,{staticClass:"py-2"},[e(y.a,{staticClass:"pa-2"},[e(y.a,{staticClass:"pa-0 ma-0",staticStyle:{width:"100%"}},[e(c.a,{attrs:{md:"6"}},[e(o.a,{attrs:{size:n.size}},[e(m.a,{attrs:{src:n.src}})],1)],1),t._v(" "),e(c.a,{staticClass:"menu-icon-right",attrs:{md:"6"}},[e(f.a,{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(r.a,t._g(t._b({attrs:{"dark-2":"",icon:""}},"v-btn",l,!1),o),[e(d.a,[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[t._v(" "),e(_.a,{attrs:{width:"120",dense:""}},[e(v.a,{on:{click:function(e){return t.viewLogs(n.link)}}},[e(h.c,{staticStyle:{cursor:"pointer"}},[t._v("\n                        View Logs\n                      ")])],1)],1)],1)],1)],1),t._v(" "),e(y.a,[e(c.a,{staticStyle:{"text-align":"center","padding-top":"0px"},attrs:{md:"12"}},[e("div",{staticClass:"bold text-h3",class:"".concat(n.color,"--text")},[t._v("\n                  "+t._s(n.count)+"\n                ")]),t._v(" "),e("div",{staticStyle:{"text-align":"center"}},[t._v(t._s(n.label))])])],1)],1)],1)],1)})),1)],1),t._v(" "),t.loading?e("ComonPreloader",{attrs:{icon:"face-scan"}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ComonPreloader:n(895).default})},1352:function(t,e,n){"use strict";n.r(e);var o=n(329),r=n(516),l=n(147),c=n(515),d=n(23),m=(n(88),{props:["branch_id"],data:function(){return{options:{},loading:!1,dataLength:0,data:{male:0,female:0,kids:0}}},watch:{branch_id:function(){this.$store.commit("CommDashboard/community_male_female",null),this.getDataFromApi()}},mounted:function(){this.$store.commit("CommDashboard/community_male_female",null),this.getDataFromApi()},created:function(){var t=new Date;this.date_to=t.toISOString().split("T")[0],this.date_from=t.toISOString().split("T")[0]},methods:{goToReports:function(){this.$router.push("/attendance_report")},viewLogs:function(){this.$router.push("/attendance_report")},getDataFromApi:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$store.state.community_male_female?t.data=t.$store.state.community_male_female:t.$axios.get("community_dashboard_get_male_female_count",{params:{company_id:t.$auth.user.company_id,branch_id:t.branch_id>0?t.branch_id:null}}).then((function(e){var data=e.data;t.data=data,t.$store.commit("CommDashboard/community_male_female",data)}));case 1:case"end":return e.stop()}}),e)})))()}}}),_=(n(1229),n(116)),component=Object(_.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bordertop pa-2"},[e(c.a,[e(r.a,{attrs:{md:"10",sm:"10",xs:"10"}},[e("h4",[t._v("Total Community Memebrs")])]),t._v(" "),e(r.a,{staticClass:"text-end",attrs:{md:"2",sm:"2",xs:"2"}})],1),t._v(" "),e(c.a,{attrs:{"align-self":"center"}},[e(r.a,{attrs:{lg:"2",md:"2",sm:"2",xs:"2","align-self":"center"}},[e(o.a,{attrs:{color:"blue"}},[e(l.a,{attrs:{color:"#FFF",size:"40"}},[t._v("mdi mdi-human-male")])],1)],1),t._v(" "),e(r.a,{staticClass:"text-red bold text-h3 blue--text text-center laptop-padding",attrs:{lg:"4",md:"4",sm:"4",xs:"4","align-self":"center"}},[t._v(t._s(t.data&&t.data.male))]),t._v(" "),e(r.a,{staticClass:"",attrs:{lg:"6",md:"6",sm:"6",xs:"6","align-self":"center"}},[t._v("Male")])],1),t._v(" "),e(c.a,[e(r.a,{staticClass:"pt-md-5",attrs:{lg:"2",md:"2",sm:"2",xs:"2"}},[e(o.a,{attrs:{color:"pink"}},[e(l.a,{attrs:{color:"#FFF",size:"40"}},[t._v("mdi mdi-human-female")])],1)],1),t._v(" "),e(r.a,{staticClass:"text-red bold text-h3 pink--text text-center laptop-padding",attrs:{lg:"4",md:"4",sm:"4",xs:"4","align-self":"center"}},[t._v(t._s(t.data&&t.data.female))]),t._v(" "),e(r.a,{staticClass:"",attrs:{lg:"6",md:"6",sm:"6",xs:"6","align-self":"center"}},[t._v("Female")])],1),t._v(" "),e(c.a,[e(r.a,{staticClass:"pt-md-5",attrs:{lg:"2",md:"2",sm:"2",xs:"2"}},[e(o.a,{attrs:{color:"yellow"}},[e(l.a,{attrs:{color:"#FFF",size:"40"}},[t._v("mdi mdi-teddy-bear")])],1)],1),t._v(" "),e(r.a,{staticClass:"text-red bold text-h3 yellow--text text-center laptop-padding",attrs:{lg:"4",md:"4",sm:"4",xs:"4","align-self":"center"}},[t._v(t._s(t.data&&t.data.kids))]),t._v(" "),e(r.a,{staticClass:"",attrs:{lg:"6",md:"6",sm:"6",xs:"6","align-self":"center"}},[t._v("Kids")])],1)],1)}),[],!1,null,"604d252c",null);e.default=component.exports},1463:function(t,e,n){"use strict";n(1288)},1464:function(t,e,n){var o=n(21)((function(i){return i[1]}));o.push([t.i,".no-border[data-v-0284df78]:before,.theme--light.v-text-field>.v-input__control>.v-input__slot[data-v-0284df78]:before{border-color:#fff!important}",""]),o.locals={},t.exports=o},1608:function(t,e,n){"use strict";n.r(e);var o=n(133),r=n(516),l=n(325),c=n(267),d=n(515),m=n(23),_=(n(55),n(88),n(1264)),v=n(1105),h=n(1073),f=n(1106),y=n(1350),x=n(1351),C=n(1352),S=n(1107),w=n(1108),D=n(1109),k=n(1110),$={components:{CommDashboardAttendanceChart:_.default,CommDashboardLastMonthStatistics:v.default,CommDashboardRealTimeLogTableview:h.default,CommDashboardAnnouncment:S.default,CommDashboardLoginActivities:D.default,CommDashboardAttednaceDepartmentWise:k.default,CommDashboardRightsideStaticstics:f.default,CommDashboardRightsideStaticstics2:y.default,CommDashboardRightsideStaticstics3:x.default,CommDashboardAttendanceHourChart:w.default,CommDashboardCommunityMembers:C.default},data:function(){return{branchList:[],selectedBranchName:"All Branches",seelctedBranchId:"",branch_id:"",overlay:!1}},mounted:function(){},created:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("fetchDropDowns",{key:"deviceList",endpoint:"device-list",refresh:!0});case 3:return e.next=5,t.$store.dispatch("fetchDropDowns",{key:"employeeList",endpoint:"employee-list",refresh:!0});case 5:return e.next=7,t.$store.dispatch("fetchDropDowns",{key:"branchList",endpoint:"branch-list",refresh:!0});case 7:t.branchList=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching data:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},watch:{overlay:function(t){var e=this;t&&setTimeout((function(){e.overlay=!1}),3e3)}},methods:{can:function(t){return this.$pagePermission.can(t,this)},openalert:function(data){alert("")},filterBranch:function(t){this.$emit("openalert","")}}},O=(n(1463),n(116)),component=Object(O.a)($,(function(){var t=this,e=t._self._c;return t.can("dashboard_access")?e("div",{staticStyle:{width:"100%"}},[e(l.a,{attrs:{value:t.overlay}},[e(c.a,{attrs:{indeterminate:"",size:"64"}})],1),t._v(" "),e(d.a,{staticStyle:{width:"100%"}},[e(r.a,{attrs:{lg:"9",md:"9",sm:"12",xs:"12"}},[e(d.a,[e(r.a,{attrs:{md:"12"}},[e(o.a,{staticClass:"pa-2",staticStyle:{height:"400px",overflow:"hidden"}},[e(d.a,{attrs:{background:"",fill:""}},[e(r.a,{staticClass:"d-xs-flex",staticStyle:{flex:"auto"},attrs:{lg:"8",md:"8",sm:"12",xs:"12"}},[e("CommDashboardAttendanceChart",{attrs:{branch_id:t.branch_id,name:"AttendanceChart1",height:"300"}})],1),t._v(" "),e(r.a,{staticClass:"d-xs-flex pa-2",staticStyle:{"border-left":"1px solid #ddd"},attrs:{lg:"4",md:"4",sm:"12",xs:"12"}},[e("CommDashboardLastMonthStatistics",{attrs:{branch_id:t.branch_id,name:"LastMonthStatistics"}})],1)],1)],1)],1)],1),t._v(" "),e(d.a,[e(r.a,{attrs:{lg:"12",md:"12",sm:"12",xs:"12"}},[e(o.a,{staticClass:"py-2",staticStyle:{height:"932px",overflow:"hidden"}},[e("CommDashboardRealTimeLogTableview",{attrs:{user_type:null,branch_id:t.branch_id}})],1)],1)],1)],1),t._v(" "),e(r.a,{attrs:{lg:"3",md:"3",sm:"12",xs:"12"}},[e("CommDashboardRightsideStaticstics3",{attrs:{branch_id:t.branch_id}}),t._v(" "),e(d.a,[e(r.a,{attrs:{lg:"12",md:"12",sm:"12",xs:"12"}},[e(o.a,{staticClass:"py-2 mt-2",staticStyle:{height:"312px",overflow:"hidden"}},[e("CommDashboardCommunityMembers",{attrs:{branch_id:t.branch_id}})],1)],1)],1),t._v(" "),e(d.a,[e(r.a,{attrs:{lg:"12",md:"12",sm:"12",xs:"12"}},[e(o.a,{staticClass:"py-2 mt-2",staticStyle:{height:"443px",overflow:"hidden"}},[e("CommDashboardAnnouncment",{attrs:{branch_id:t.branch_id}})],1)],1)],1)],1)],1)],1):e("NoAccess")}),[],!1,null,"0284df78",null);e.default=component.exports;installComponents(component,{NoAccess:n(881).default})},881:function(t,e,n){"use strict";n.r(e);var o=n(116),component=Object(o.a)({},(function(){this._self._c;return this._m(0)}),[function(){var t=this._self._c;return t("div",{staticClass:"text-center",staticStyle:{"margin-top":"25%"}},[t("b",[this._v("No Access")])])}],!1,null,null,null);e.default=component.exports},949:function(t,e,n){"use strict";n.r(e);var o=n(329),r=n(133),l=n(516),c=n(876),d=n(1019),m=n(515),_=(n(37),n(23)),v=(n(88),n(33),n(266),n(58),n(935),n(519),n(35),{props:["UserID","visitor_type"],data:function(){return{loading:!1,dialog:!1,payload:{},searchCard:!0,infoCard:!1,item:{},response:null,firstItem:{},lastItem:{},errors:[]}},created:function(){var t=this;return Object(_.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!1,t.search();case 2:case"end":return e.stop()}}),e)})))()},methods:{caps:function(t){if(t)return t.replace(/\b\w/g,(function(t){return t.toUpperCase()}))},close:function(){this.searchCard=!0,this.infoCard=!1,this.dialog=!1},search:function(){var t=this;console.log(this.UserID),this.loading=!0,this.response=null,this.$axios.get("get_logs_by_visitor_id",{params:{per_page:100,company_id:this.$auth.user.company_id,UserID:this.UserID,id:this.UserID,user_type:this.visitor_type}}).then((function(e){var data=e.data;if(!data)return t.response="No record found",void(t.loading=!1);t.response=null,t.searchCard=!1,t.infoCard=!0,t.item=data,t.loading=!1;var n=data.attendance_logs;t.firstItem=n[0],t.lastItem=n[n.length-1]})).catch((function(e){var n=e.response;t.response=null,t.searchCard=!1,t.infoCard=!0,t.data=[],t.loading=!1,console.log("error:",n)}))},checkout:function(){var t=this;return Object(_.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={UserID:t.UserID,LogTime:t.getCurrentDateTime(),DeviceID:"Manual",company_id:t.$auth.user.company_id,log_type:"out",visitor_id:t.item.id},t.loading=!0,t.$axios.post("generate_log",n).then((function(e){var data=e.data;t.loading=!1,data.status?(t.$emit("success","Checkout has been recorded"),t.dialog=!1):t.errors=data.errors})).catch((function(e){e.message;t.$emit("response","Checkout cannot be done")}));case 3:case"end":return e.stop()}}),e)})))()},getCurrentDateTime:function(){var t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),r=String(t.getHours()).padStart(2,"0"),l=String(t.getMinutes()).padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(o," ").concat(r,":").concat(l)}}}),h=n(116),component=Object(h.a)(v,(function(){var t,e,n,_=this,v=_._self._c;return v(r.a,[v(c.a,[v(m.a,{attrs:{"no-gutters":""}},[v(l.a,{staticStyle:{"border-right":"1px solid #dddddd"},attrs:{cols:"4"}},[v("h3",[_._v(_._s(_.caps(null===(t=_.item)||void 0===t?void 0:t.visitor_type)))]),_._v(" "),v(m.a,{staticClass:"pa-0 ma-0"},[v(l.a,{attrs:{cols:"12"}},[v(m.a,{attrs:{"no-gutters":""}},[v(l.a,{staticClass:"text-center",attrs:{cols:"12"}},[v(o.a,{attrs:{size:"100"}},[v("img",{staticStyle:{width:"100%"},attrs:{src:"/no-profile-image.jpg",alt:"Avatar"}})])],1),_._v(" "),v(l.a,{staticClass:"text-center",attrs:{cols:"12"}},[v("div",{staticClass:"mt-1",staticStyle:{height:"15px","font-size":"12px"}},[_._v("\n                  "+_._s(_.item.full_name)+"\n                  ")]),_._v(" "),v("div",{staticStyle:{"font-size":"12px"}},[v("small",[_._v("\n                    "+_._s(_.item.phone_number)+"\n                    ")])])])],1)],1),_._v(" "),v(l.a,{attrs:{cols:"12"}},[v(d.a),_._v(" "),v(m.a,{staticStyle:{"font-size":"15px"},attrs:{"no-gutters":""}},[v(l.a,{attrs:{cols:"6"}},[v("small",[_._v(" First Name ")])]),_._v(" "),v(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[v("small",[_._v(" "+_._s(_.item.first_name)+" ")])]),_._v(" "),v(l.a,{attrs:{cols:"6"}},[v("small",[_._v(" Last Name ")])]),_._v(" "),v(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[v("small",[_._v(" "+_._s(_.item.last_name)+" ")])]),_._v(" "),v(l.a,{attrs:{cols:"6"}},[v("small",[_._v(" Emirates Id ")])]),_._v(" "),v(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[v("small",[_._v(" "+_._s(_.item.id_number)+" ")])]),_._v(" "),v(l.a,{attrs:{cols:"6"}},[v("small",[_._v(" Visitor Card Id ")])]),_._v(" "),v(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[v("small",[_._v(" "+_._s(_.item.system_user_id)+" ")])]),_._v(" "),v(l.a,{attrs:{cols:"6"}},[v("small",[_._v(" Email ")])]),_._v(" "),v(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[v("small",[_._v(" "+_._s(_.item.email)+" ")])]),_._v(" "),v(l.a,{attrs:{cols:"6"}},[v("small",[_._v(" Phone Number ")])]),_._v(" "),v(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[v("small",[_._v(" "+_._s(_.item.phone_number)+" ")])]),_._v(" "),v(l.a,{attrs:{cols:"6"}},[v("small",[_._v(" Purpose ")])]),_._v(" "),v(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[v("small",[_._v(" "+_._s((null===(e=_.item)||void 0===e||null===(n=e.purpose)||void 0===n?void 0:n.name)||"---")+" ")])]),_._v(" "),v(l.a,{attrs:{cols:"6"}},[v("small",[_._v(" Gender ")])]),_._v(" "),v(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[v("small",[_._v(" "+_._s(_.item.gender)+" ")])]),_._v(" "),v(l.a,{attrs:{cols:"6"}},[v("small",[_._v(" Visit From ")])]),_._v(" "),v(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[v("small",[_._v(" "+_._s(_.item.visit_from)+" "+_._s(_.item.time_in)+" ")])]),_._v(" "),v(l.a,{attrs:{cols:"6"}},[v("small",[_._v(" Visit To ")])]),_._v(" "),v(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[v("small",[_._v(" "+_._s(_.item.visit_to)+" "+_._s(_.item.time_out)+" ")])])],1)],1)],1)],1),_._v(" "),v(l.a,{attrs:{cols:"8"}},[v(d.a),_._v(" "),v(m.a,{staticClass:"px-3",attrs:{"no-gutters":""}},[v(l.a,{attrs:{cols:"12"}},[v("div",{staticClass:"mt-4"},[v("table",{staticStyle:{width:"100%"}},[v("tr",[v("td",{staticStyle:{"font-size":"12px"}},[v("small",[v("b",[_._v("#")])])]),_._v(" "),v("td",{staticStyle:{"font-size":"12px"}},[v("small",[v("b",[_._v("Date Time")])])]),_._v(" "),v("td",{staticStyle:{"font-size":"12px"}},[v("small",[v("b",[_._v("Tenant")])])]),_._v(" "),v("td",{staticStyle:{"font-size":"12px"}},[v("small",[v("b",[_._v("Flat")])])]),_._v(" "),v("td",{staticStyle:{"font-size":"12px"}},[v("small",[v("b",[_._v("Device")])])]),_._v(" "),v("td",{staticStyle:{"font-size":"12px"}},[v("small",[v("b",[_._v("In/Out")])])])]),_._v(" "),_._l(_.item.attendance_logs,(function(t,e){var n,o,r,l,c,d,m,h,f,y,x;return v("tr",{key:e},[v("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[v("small",[_._v(_._s(e+1))])]),_._v(" "),v("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[v("small",[_._v(_._s(t.LogTime))])]),_._v(" "),t.visitor?v("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[v("small",[_._v(_._s(null===(n=t.visitor.tanent)||void 0===n?void 0:n.full_name))]),v("br"),_._v(" "),v("small",[_._v(_._s(null===(o=t.visitor.tanent)||void 0===o?void 0:o.phone_number))])]):_._e(),_._v(" "),t.contractor?v("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[v("small",[_._v(_._s(null===(r=t.contractor.tanent)||void 0===r?void 0:r.full_name))]),v("br"),_._v(" "),v("small",[_._v(_._s(null===(l=t.contractor.tanent)||void 0===l?void 0:l.phone_number))])]):_._e(),_._v(" "),t.delivery?v("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[v("small",[_._v(_._s(null===(c=t.delivery.tanent)||void 0===c?void 0:c.full_name))]),v("br"),_._v(" "),v("small",[_._v(_._s(null===(d=t.delivery.tanent)||void 0===d?void 0:d.phone_number))])]):_._e(),_._v(" "),t.visitor?v("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[v("small",[_._v(_._s(null===(m=t.visitor.tanent)||void 0===m?void 0:m.room.room_number))]),v("br")]):t.contractor?v("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[v("small",[_._v(_._s(null===(h=t.contractor.tanent)||void 0===h?void 0:h.room.room_number))]),v("br")]):t.delivery?v("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[v("small",[_._v(_._s(null===(f=t.delivery.tanent)||void 0===f?void 0:f.room.room_number))]),v("br")]):_._e(),_._v(" "),v("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[v("small",[_._v(_._s(null!==(y=null==t||null===(x=t.device)||void 0===x?void 0:x.short_name)&&void 0!==y?y:"Manual"))])]),_._v(" "),v("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[v("small",[_._v(_._s(_.caps(null==t?void 0:t.log_type)))])])])}))],2)])])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},968:function(t,e,n){"use strict";n.r(e);var o=n(329),r=n(133),l=n(516),c=n(876),d=n(1019),m=n(212),_=n(515),v=n(23),h=(n(88),n(33),n(266),n(58),n(935),n(519),n(35),{props:["visitor_type","UserID"],data:function(){return{loading:!1,dialog:!1,payload:{},searchCard:!0,infoCard:!1,item:{},response:null,firstItem:{},lastItem:{},errors:[]}},created:function(){var t=this;return Object(v.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!1,t.search();case 2:case"end":return e.stop()}}),e)})))()},methods:{caps:function(t){if(t)return t.replace(/\b\w/g,(function(t){return t.toUpperCase()}))},close:function(){this.searchCard=!0,this.infoCard=!1,this.dialog=!1},search:function(){var t=this;this.loading=!0,this.response=null,this.$axios.get("get_logs_by_tanent_id",{params:{per_page:100,company_id:this.$auth.user.company_id,id:this.UserID,UserID:this.UserID,user_type:this.visitor_type}}).then((function(e){var data=e.data;if(!data)return t.response="No record found",void(t.loading=!1);t.response=null,t.searchCard=!1,t.infoCard=!0,t.item=data,t.loading=!1;var n=data.attendance_logs;t.firstItem=n[0],t.lastItem=n[n.length-1]})).catch((function(e){var n=e.response;t.response=null,t.searchCard=!1,t.infoCard=!0,t.data=[],t.loading=!1,console.log("error:",n)}))},checkout:function(){var t=this;return Object(v.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={UserID:t.UserID,LogTime:t.getCurrentDateTime(),DeviceID:"Manual",company_id:t.$auth.user.company_id,log_type:"out",visitor_id:t.item.id},t.loading=!0,t.$axios.post("generate_log",n).then((function(e){var data=e.data;t.loading=!1,data.status?(t.$emit("success","Checkout has been recorded"),t.dialog=!1):t.errors=data.errors})).catch((function(e){e.message;t.$emit("response","Checkout cannot be done")}));case 3:case"end":return e.stop()}}),e)})))()},getCurrentDateTime:function(){var t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),r=String(t.getHours()).padStart(2,"0"),l=String(t.getMinutes()).padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(o," ").concat(r,":").concat(l)}}}),f=n(116),component=Object(f.a)(h,(function(){var t=this,e=t._self._c;return e(r.a,[e(c.a,[e(_.a,{attrs:{"no-gutters":""}},[e(l.a,{staticStyle:{"border-right":"1px solid #dddddd"},attrs:{cols:"4"}},[e(r.a,{attrs:{elevation:"0",outlined:""}},[e(c.a,[e("h3",[t._v(t._s(t.caps(t.item.member_type)))]),t._v(" "),e(_.a,[e(l.a,{staticClass:"text-center",attrs:{cols:"12"}},[e(o.a,{staticStyle:{border:"1px solid #dddddd"},attrs:{size:"100"}},[t.item.profile_picture?e(m.a,{attrs:{src:t.item.profile_picture}}):e(m.a,{attrs:{src:"/no-profile-image.jpg"}})],1),t._v(" "),e("div",{staticClass:"mt-1",staticStyle:{"font-size":"14px",height:"10px"}},[t._v("\n                  "+t._s(t.item.member_type)+"\n                ")])],1),t._v(" "),e(l.a,{attrs:{cols:"12"}},[e(_.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("ID")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("\n                      "+t._s(t.item.system_user_id)+"\n                    ")])]),t._v(" "),e(l.a,{attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("Full Name")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("\n                      "+t._s(t.item.full_name)+"\n                    ")])]),t._v(" "),e(l.a,{attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("Phone Number")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("\n                      "+t._s(t.item.phone_number)+"\n                    ")])]),t._v(" "),e(l.a,{attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("Age")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("\n                      "+t._s(t.item.age)+" years old\n                    ")])]),t._v(" "),e(l.a,{attrs:{cols:"4"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("Nationality")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"8"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("\n                      "+t._s(t.item.nationality)+"\n                    ")])]),t._v(" "),e(l.a,{attrs:{cols:"3"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("Gender")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"9"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v(" "+t._s(t.item.gender)+" ")])]),t._v(" "),e(l.a,{attrs:{cols:"3"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("RFID")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"9"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v(" "+t._s(t.item.rfid)+" ")])]),t._v(" "),e(l.a,{attrs:{cols:"3"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("Pin")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"9"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v(" "+t._s(t.item.pin)+" ")])])],1)],1)],1)],1)],1)],1),t._v(" "),e(l.a,{attrs:{cols:"8"}},[e(d.a),t._v(" "),e(_.a,{staticClass:"px-3",attrs:{"no-gutters":""}},[e(l.a,{attrs:{cols:"12"}},[e("div",{staticClass:"mt-4"},[e("table",{staticStyle:{width:"100%"}},[e("tr",[e("td",{staticStyle:{"font-size":"12px"}},[e("small",[e("b",[t._v("#")])])]),t._v(" "),e("td",{staticStyle:{"font-size":"12px"}},[e("small",[e("b",[t._v("Date Time")])])]),t._v(" "),e("td",{staticStyle:{"font-size":"12px"}},[e("small",[e("b",[t._v("Device")])])]),t._v(" "),e("td",{staticStyle:{"font-size":"12px"}},[e("small",[e("b",[t._v("In/Out")])])])]),t._v(" "),t._l(t.item.attendance_logs,(function(n,o){var r,l;return e("tr",{key:o},[e("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[e("small",[t._v(t._s(o+1))])]),t._v(" "),e("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[e("small",[t._v(t._s(n.LogTime))])]),t._v(" "),e("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[e("small",[t._v(t._s(null!==(r=null==n||null===(l=n.device)||void 0===l?void 0:l.short_name)&&void 0!==r?r:"Manual"))])]),t._v(" "),e("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[e("small",[t._v(t._s(t.caps(null==n?void 0:n.log_type)))])])])}))],2)])])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},969:function(t,e,n){"use strict";n.r(e);var o=n(329),r=n(516),l=n(1019),c=n(515),d=(n(37),n(56),n(31)),m=n(23),_=(n(33),n(58),n(519),n(6),n(72),n(35),n(80),n(28),n(88),{props:["item"],data:function(){return{logs_data:null,loading:!1,log_endpoint:"attendance_logs",log_headers:[{text:"#",align:"left",sortable:!1,key:"id",value:"id",width:"10px"},{text:"DateTime",align:"left",sortable:!1,key:"date_range",value:"LogTime",fieldType:"date_range_picker"},{text:"Device",align:"left",sortable:!0,key:"device",value:"device",filterable:!0,filterSpecial:!0}],dialog:!1,UserID:null,profile_pictrue:"no-profile-image.jpg",company_id:0,employee_stats:[],todayAttendance:null,remainingTime:"00:00"}},created:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.company_id=t.$auth.user.company_id,e.next=3,t.getEmployeeStats();case 3:return e.next=5,t.getTodayAttendance();case 5:return e.next=7,t.getLogs();case 7:case"end":return e.stop()}}),e)})))()},methods:{caps:function(t){if(t)return t.replace(/\b\w/g,(function(t){return t.toUpperCase()}))},getDate:function(){var t=new Date,e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),o=t.getDate().toString().padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(o)},getLogs:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$axios.get(t.log_endpoint,{params:{per_page:10,company_id:t.company_id,UserID:t.item.employee.system_user_id,from_date:t.getDate(),to_date:t.getDate()}}).then((function(e){var data=e.data;t.logs_data=data.data}));case 1:case"end":return e.stop()}}),e)})))()},getTodayAttendance:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!0,t.$axios.get("report",{params:{company_id:t.company_id,employee_id:t.item.employee.system_user_id,from_date:t.getFormattedDate(),to_date:t.getFormattedDate()}}).then((function(e){var data=e.data;if(t.loading=!1,!data.data.length)return t.getRemainingTime("00:00","00:00"),void(t.todayAttendance={total_hrs:"00:00",ot:"00:00"});var n=data.data[0],o=n.total_hrs,r=n.ot,l=n.shift;if(!l)return t.getRemainingTime("00:00","00:00"),void(t.todayAttendance={total_hrs:"00:00",ot:"00:00"});t.todayAttendance={total_hrs:t.timeHandler(o),ot:t.timeHandler(r)},t.getRemainingTime(t.timeHandler(o),t.timeHandler(l.working_hours))}));case 2:case"end":return e.stop()}}),e)})))()},timeHandler:function(t){return"---"===t?"00:00":t},getEmployeeStats:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$axios.get("employee-statistics",{params:{company_id:t.company_id,employee_id:t.item.employee.system_user_id}}).then((function(e){var data=e.data;t.employee_stats=data}));case 1:case"end":return e.stop()}}),e)})))()},getFormattedDate:function(){var t=new Date;return"".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0"))},getRemainingTime:function(t,e){var n=t.split(":").map(Number),o=Object(d.a)(n,2),r=o[0],l=o[1],c=e.split(":").map(Number),m=Object(d.a)(c,2),_=60*r+l-(60*m[0]+m[1]);if(_<0){var v=Math.abs(Math.ceil(_/60)),h=Math.abs(_%60);this.remainingTime="".concat(String(v).padStart(2,"0"),":").concat(String(h).padStart(2,"0"))}}}}),v=n(116),component=Object(v.a)(_,(function(){var t,e,n,d,m,_,v,h=this,f=h._self._c;return h.item&&h.item.id?f(c.a,{attrs:{"no-gutters":""}},[f(r.a,{staticStyle:{"border-right":"1px solid #dddddd"},attrs:{cols:"4"}},[f(l.a),h._v(" "),f(c.a,{staticClass:"pa-0 ma-0"},[f(r.a,{attrs:{cols:"12"}},[f("h3",[h._v("Employee")]),h._v(" "),f(c.a,{attrs:{"no-gutters":""}},[f(r.a,{staticClass:"text-center",attrs:{cols:"12"}},[h._v("\n            "+h._s(h.item.employee.profile_pictrue)+"\n            "),f(o.a,{attrs:{size:"100"}},[f("img",{staticStyle:{width:"100%"},attrs:{src:h.item.employee&&h.item.employee.profile_picture?h.item.employee.profile_picture:"/no-profile-image.jpg",alt:"Avatar"}})])],1),h._v(" "),f(r.a,{staticClass:"text-center",attrs:{cols:"12"}},[f("div",{staticClass:"mt-1",staticStyle:{height:"15px","font-size":"12px"}},[h._v("\n              "+h._s(null!==(t=h.item.employee.first_name)&&void 0!==t?t:"---")+"\n              "+h._s(null!==(e=h.item.employee.last_name)&&void 0!==e?e:"---")+"\n            ")]),h._v(" "),f("div",{staticStyle:{height:"15px","font-size":"12px"}},[f("small",[h._v("\n                "+h._s(null!==(n=null===(d=h.item)||void 0===d||null===(m=d.employee)||void 0===m||null===(_=m.designation)||void 0===_?void 0:_.name)&&void 0!==n?n:"---")+"\n              ")])]),h._v(" "),f("div",{staticStyle:{"font-size":"12px"}},[f("small",[h._v("\n                "+h._s(null!==(v=h.item.employee.phone_number)&&void 0!==v?v:"---")+"\n              ")])])])],1)],1),h._v(" "),f(r.a,{attrs:{cols:"12"}},[f(l.a),h._v(" "),h._l(h.employee_stats.slice(0,6),(function(t,e){return f(c.a,{key:e,staticStyle:{"font-size":"15px",height:"20px"},attrs:{"no-gutters":""}},[f(r.a,{attrs:{cols:"6"}},[f("small",[h._v(" "+h._s(t.title))])]),h._v(" "),f(r.a,{staticClass:"text-right",attrs:{cols:"6"}},[f("small",[h._v(" "+h._s(t.value))])])],1)}))],2)],1)],1),h._v(" "),f(r.a,{attrs:{cols:"8"}},[f(l.a),h._v(" "),f(c.a,{staticClass:"px-3",attrs:{"no-gutters":""}},[f(r.a,{attrs:{cols:"12"}},[h.loading?f("ComonPreloader",{attrs:{icon:"face-scan"}}):f("table",{staticClass:"mt-4",staticStyle:{width:"100%"}},[f("tr",[f("td",{staticStyle:{"font-size":"12px"}},[f("small",{},[f("b",[h._v("#")])])]),h._v(" "),f("td",{staticStyle:{"font-size":"12px"}},[f("small",{},[f("b",[h._v("Date Time")])])]),h._v(" "),f("td",{staticStyle:{"font-size":"12px"}},[f("small",[f("b",[h._v("Device")])])]),h._v(" "),f("td",{staticStyle:{"font-size":"12px"}},[f("small",[f("b",[h._v("In/Out")])])])]),h._v(" "),h._l(h.logs_data,(function(t,e){var n;return f("tr",{key:t.id},[f("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[f("small",[h._v(h._s(e+1))])]),h._v(" "),f("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[f("small",[h._v(h._s(t.date)+" "+h._s(t.time))])]),h._v(" "),f("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[f("small",[h._v(h._s(t.device?t.device.name:"---"))])]),h._v(" "),f("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[f("small",[h._v(h._s(h.caps(null===(n=h.log)||void 0===n?void 0:n.log_type)))])])])}))],2)],1)],1)],1)],1):h._e()}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ComonPreloader:n(895).default})}}]);