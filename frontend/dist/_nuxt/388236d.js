(window.webpackJsonp=window.webpackJsonp||[]).push([[296,5,6,10,33,36,74,76,85,87,90,93,94,95,96,100,170,180,188,233,254,255,258,411,412],{1168:function(t,e,n){t.exports=n.p+"img/checked-in2.36d8de2.png"},1169:function(t,e,n){t.exports=n.p+"img/checked-out.8e7fd55.png"},1170:function(t,e,n){var content=n(1240);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("2c15df69",content,!0,{sourceMap:!1})},1171:function(t,e,n){var content=n(1242);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("43ea7896",content,!0,{sourceMap:!1})},1206:function(t,e,n){"use strict";n.r(e);var r=n(114),o=n(133),l=n(872),c=n(3),d={props:["user_type","label"],data:function(){var t;return t={tableHeight:750,status:"",department_ids:"",employee_id:"",daily_date:"",to_date:"",isFilter:!1,totalRowsCount:0,snack:!1,snackColor:"",snackText:"",date:null,menu:!1,options:{}},Object(c.a)(t,"date",null),Object(c.a)(t,"menu",!1),Object(c.a)(t,"loading",!1),Object(c.a)(t,"time_menu",!1),Object(c.a)(t,"Model","Attendance Reports"),Object(c.a)(t,"endpoint","access_control_report"),Object(c.a)(t,"search",""),Object(c.a)(t,"snackbar",!1),Object(c.a)(t,"add_manual_log",!1),Object(c.a)(t,"dialog",!1),Object(c.a)(t,"generateLogsDialog",!1),Object(c.a)(t,"reportSync",!1),Object(c.a)(t,"from_menu",!1),Object(c.a)(t,"to_menu",!1),Object(c.a)(t,"ids",[]),Object(c.a)(t,"departments",[]),Object(c.a)(t,"users",[]),Object(c.a)(t,"DateRange",!0),Object(c.a)(t,"devices",[]),Object(c.a)(t,"loading",!1),Object(c.a)(t,"total",0),Object(c.a)(t,"payload",{DeviceID:"",report_type:"",user_type:"",from_date:"",to_date:"",UserID:"",department_ids:[],status:"-1",branch_id:"",include_device_types:["all","Access Control"]}),Object(c.a)(t,"response",""),Object(c.a)(t,"data",[]),Object(c.a)(t,"errors",[]),Object(c.a)(t,"report_template","Template1"),Object(c.a)(t,"headers",[{text:"S.NO",align:"left",sortable:!0,key:"id",value:"id"},{text:"Name",align:"left",sortable:!0,key:"user",value:"user"},{text:"Flat",align:"left",sortable:!0,key:"flat",value:"flat"},{text:"Phone",align:"left",sortable:!0,key:"phone_number",value:"phone_number"},{text:"Door",align:"left",sortable:!0,key:"door",value:"door"},{text:"DateTime",align:"left",sortable:!1,key:"dateTime",value:"dateTime",fieldType:"date_range_picker"},{text:"In",align:"left",sortable:!1,key:"in",value:"in"},{text:"Out",align:"left",sortable:!1,key:"out",value:"out"},{text:"Mode",align:"left",sortable:!1,key:"mode",value:"mode"},{text:"Status",align:"left",sortable:!1,key:"status",value:"status"},{text:"User Type",align:"left",sortable:!1,key:"user_type",value:"user_type"}]),Object(c.a)(t,"max_date",null),Object(c.a)(t,"isCompany",!0),t},mounted:function(){var t=this;this.tableHeight=window.innerHeight-370,window.addEventListener("resize",(function(){t.tableHeight=window.innerHeight-370}))},methods:{handleSuccessResponse:function(t){this.snackbar=!0,this.response=t,this.getDataFromApi()},can:function(t){return this.$pagePermission.can(t,this)}}},m=n(116),component=Object(m.a)(d,(function(){var t=this,e=t._self._c;return t.can("attendance_report_view")?e("div",[e(o.a,{staticClass:"mb-5 mt-5",attrs:{elevation:"0"}},[t.can("attendance_report_access")?e("div",[e("div",{staticClass:"text-center"},[e(l.a,{attrs:{top:"top",color:"secondary",elevation:"24"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n          "+t._s(t.response)+"\n        ")]),t._v(" "),e(l.a,{attrs:{timeout:3e3,color:t.snackColor},scopedSlots:t._u([{key:"action",fn:function(n){var o=n.attrs;return[e(r.a,t._b({attrs:{text:""},on:{click:function(e){t.snack=!1}}},"v-btn",o,!1),[t._v(" Close ")])]}}],null,!1,3090489768),model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n          "+t._s(t.snackText)+"\n\n          ")])],1),t._v(" "),e(o.a,{staticClass:"mb-5",attrs:{elevation:"0"}},[e("CommunityReport",{attrs:{label:t.label,user_type:t.user_type,showFilters:!1}})],1)],1):t._e()])],1):e("NoAccess")}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CommunityReport:n(989).default,NoAccess:n(879).default})},1239:function(t,e,n){"use strict";n(1170)},1240:function(t,e,n){var r=n(21)((function(i){return i[1]}));r.push([t.i,".apexcharts-canvas{width:100%}",""]),r.locals={},t.exports=r},1241:function(t,e,n){"use strict";n(1171)},1242:function(t,e,n){var r=n(21)((function(i){return i[1]}));r.push([t.i,"#pie .apexcharts-legend-series[data-v-15a9af88]{margin:0 50px 2px 0!important}",""]),r.locals={},t.exports=r},1282:function(t,e,n){var content=n(1460);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("da110f36",content,!0,{sourceMap:!1})},1366:function(t,e,n){"use strict";n.r(e);var r=n(893),o=n(114),l=n(133),c=n(87),d=n(518),m=n(875),v=n(1545),_=n(1546),f=n(350),h=n(1019),y=n(935),x=n(147),k=n(212),D=n(326),O=n(204),w=n(60),S=n(862),C=n(517),j=n(892),I=n(872),$=n(349),F=n(214),P=n(944),T=n(996),A=n(96),M=n(855),R=n(81),z=(n(37),n(35),n(12),n(14),n(17),n(11),n(18),n(23)),U=n(3),L=(n(88),n(521),n(33),n(266),n(56),n(523),n(215),n(80),n(6),n(72),n(58),n(914),n(45),n(915),n(916),n(917),n(918),n(919),n(920),n(921),n(922),n(923),n(924),n(925),n(926),n(927),n(928),n(929),n(930),n(50),n(13),n(55),n(905)),V=n(957);function H(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function N(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?H(Object(source),!0).forEach((function(e){Object(U.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):H(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var E={components:{Calender:L.default,Visitorinfo:V.default},data:function(){var t,e,n,r,o;return t={keyId:1,purposeList:[],branchesList:[],hostList:[],cumulativeIndex:1,perPage:10,currentPage:1,renderVisitorDialog:!1,users:[],formData:{max:10,date:(e=new Date,n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),"".concat(n,"-").concat(r,"-").concat(o)),company_id:0},attendancFilters:!1,filters:{},isFilter:!1,totalRowsCount:0,datatable_search_textbox:"",datatable_filter_date:"",filter_visitor_id:"",snack:!1,snackColor:"",snackText:"",date:null},Object(U.a)(t,"filter_visitor_id",""),Object(U.a)(t,"generateLogsDialog",!1),Object(U.a)(t,"reportSync",!1),Object(U.a)(t,"isCompany",!0),Object(U.a)(t,"time_table_dialog",!1),Object(U.a)(t,"log_details",!1),Object(U.a)(t,"overtime",!1),Object(U.a)(t,"options",{}),Object(U.a)(t,"date",null),Object(U.a)(t,"menu",!1),Object(U.a)(t,"loading",!1),Object(U.a)(t,"time_menu",!1),Object(U.a)(t,"manual_time_menu",!1),Object(U.a)(t,"Model","Visitor Reports"),Object(U.a)(t,"endpoint","visitor_attendance"),Object(U.a)(t,"search",""),Object(U.a)(t,"snackbar",!1),Object(U.a)(t,"add_manual_log",!1),Object(U.a)(t,"dialog",!1),Object(U.a)(t,"from_date",null),Object(U.a)(t,"from_menu",!1),Object(U.a)(t,"to_date",null),Object(U.a)(t,"to_menu",!1),Object(U.a)(t,"ids",[]),Object(U.a)(t,"visitors",[]),Object(U.a)(t,"DateRange",!0),Object(U.a)(t,"devices",[]),Object(U.a)(t,"valid",!0),Object(U.a)(t,"nameRules",[function(t){return!!t||"reason is required"}]),Object(U.a)(t,"timeRules",[function(t){return!!t||"time is required"}]),Object(U.a)(t,"deviceRules",[function(t){return!!t||"device is required"}]),Object(U.a)(t,"daily_menu",!1),Object(U.a)(t,"daily_date",null),Object(U.a)(t,"dailyDate",!1),Object(U.a)(t,"editItems",{attendance_logs_id:"",UserID:"",device_id:"",user_id:"",reason:"",date:"",time:null}),Object(U.a)(t,"loading",!1),Object(U.a)(t,"total",0),Object(U.a)(t,"log_headers",[{text:"#",align:"left",sortable:!1,filterable:!1,value:"sno"},{text:"Device",align:"left",sortable:!1,filterable:!1,value:"device.name"},{text:"Location",align:"left",sortable:!1,filterable:!1,value:"device.location"},{text:"Time",align:"left",sortable:!1,filterable:!1,value:"time"}]),Object(U.a)(t,"headers",[{text:"#",align:"left",sortable:!1,filterable:!1,value:"sno"},{text:"Date",align:"left",sortable:!0,filterable:!1,filterSpecial:!0,value:"date"},{text:"Visitor  ",align:"left",sortable:!1,filterable:!0,filterSpecial:!1,value:"visitor_first_name",key:"item.visitor"},{text:"Host",align:"left",sortable:!1,filterable:!0,filterSpecial:!0,value:"host_id",key:"host_id"},{text:"Purpose",align:"left",sortable:!0,filterable:!0,filterSpecial:!0,value:"purpose_id"},{text:"Check In",align:"left",sortable:!0,filterable:!0,filterSpecial:!1,value:"in"},{text:"Check Out",align:"left",sortable:!0,filterable:!0,filterSpecial:!1,value:"out"},{text:"Duration",align:"left",sortable:!0,filterable:!0,filterSpecial:!1,value:"total_hrs"},{text:"OverStay",align:"left",sortable:!0,filterable:!1,filterSpecial:!0,value:"overstay"},{text:"Options",value:"options",sortable:!1}]),Object(U.a)(t,"frequency","Monthly"),Object(U.a)(t,"payload",{from_date:null,to_date:null,daily_date:null,visitor_id:"",status:"All"}),Object(U.a)(t,"log_payload",{user_id:null,device_id:"",date:null,time:null}),Object(U.a)(t,"log_list",[]),Object(U.a)(t,"snackbar",!1),Object(U.a)(t,"editedIndex",-1),Object(U.a)(t,"editedItem",{name:""}),Object(U.a)(t,"defaultItem",{name:""}),Object(U.a)(t,"response",""),Object(U.a)(t,"data",[]),Object(U.a)(t,"shifts",[]),Object(U.a)(t,"errors",[]),Object(U.a)(t,"custom_options",{}),Object(U.a)(t,"max_date",null),Object(U.a)(t,"item",null),Object(U.a)(t,"viewDialog",!1),Object(U.a)(t,"attendance",[]),t},computed:{formTitle:function(){return-1===this.editedIndex?"New":"Edit"}},watch:{dialog:function(t){t||this.close(),this.errors=[],this.search=""},options:{handler:function(){this.getDataFromApi()},deep:!0}},created:function(){this.loading=!0,this.getVisitors(),this.payload.daily_date=(new Date).toJSON().slice(0,10),this.custom_options={params:{per_page:1e3,company_id:this.$auth.user.company_id}},this.getDeviceList();var dt=new Date,t=dt.getFullYear(),e=dt.getMonth()+1,dd=new Date(dt.getFullYear(),e,0);if(e=e<10?"0"+e:e,this.payload.from_date="".concat(t,"-").concat(e,"-01"),this.payload.to_date="".concat(t,"-").concat(e,"-").concat(dd.getDate()),null==this.$auth.user.branch_id||0==this.$auth.user.branch_id){var n;(n=this.headers).splice.apply(n,[2,0].concat([{text:"Branch",align:"left",sortable:!0,value:"branch_id",filterable:!0,filterName:"branch_id",filterSpecial:!0}]))}},methods:{viewInfo:function(t){this.keyId++,this.item=t.visitor,this.attendance=t,this.viewDialog=!0},filterAttr:function(data){this.payload.from_date=data.from,this.payload.to_date=data.to,this.getDataFromApi()},addUser:function(){this.users.push({visitor_id:""})},removeUser:function(t){this.users.splice(t,1)},submitData:function(){var t=this;this.formData.userIds=this.users.map((function(t){return t.visitor_id})),this.formData.company_id=this.$auth.user.company_id,this.$axios.post("/render_daily_report",this.formData).then((function(e){var data=e.data;t.getDataFromApi(),t.snackbar=!0,t.response=data.message,t.dialog=!1})).catch((function(e){var n=e.message;t.snackbar=!0,t.response=n}))},datatable_cancel:function(){this.datatable_search_textbox=""},datatable_open:function(){this.datatable_search_textbox=""},datatable_close:function(){this.loading=!1},processFilterDates:function(){var t=new Date(this.payload.from_date);t.setDate(t.getDate()+("Weekly"==this.frequency?6:30));var e=t.getDate().toString().padStart(2,"0"),n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getFullYear();"Custom"!==this.frequency&&(this.payload.to_date="".concat(r,"-").concat(n,"-").concat(e)),this.max_date="".concat(r,"-").concat(n,"-").concat(e),this.getDataFromApi()},set_date_save:function(t,e){t.save(e),this.processFilterDates()},changeReportFrequency:function(){this.processFilterDates()},applyFilters:function(t,e){this.getDataFromApi()},toggleFilter:function(){var t=this;return Object(z.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isFilter=!t.isFilter,t.isFilter&&(t.refresh=!0,t.handleChangeEvent());case 2:case"end":return e.stop()}}),e)})))()},handleChangeEvent:function(){var t=this;return Object(z.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("fetchDropDowns",{key:"branchList",endpoint:"branch-list"});case 2:return t.branchesList=e.sent,e.next=5,t.$store.dispatch("fetchDropDowns",{key:"hostList",endpoint:"host_list"});case 5:return t.hostList=e.sent,e.next=8,t.$store.dispatch("fetchDropDowns",{key:"purposeList",endpoint:"purpose_list"});case 8:t.purposeList=e.sent;case 9:case"end":return e.stop()}}),e)})))()},clearFilters:function(){this.filters={},this.isFilter=!1,this.getDataFromApi()},getDeviceList:function(){var t=this,e={params:{company_id:this.$auth.user.company_id}};this.$axios.get("/device_list",e).then((function(e){var data=e.data;t.devices=data}))},store_schedule:function(){var t=this,e=this.log_payload,n={UserID:e.user_id,LogTime:e.date+" "+e.time,DeviceID:e.device_id,company_id:this.$auth.user.company_id};this.loading=!0,this.$axios.post("/generate_log",n).then((function(e){e.data;t.getDataFromApi(),t.add_manual_log=!1,t.loading=!1})).catch((function(e){var n=e.message;t.snackbar=!0,t.response=n}))},setVisitorId:function(t){this.$store.commit("visitor_id",t)},getVisitors:function(){var t=this;return Object(z.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:{company_id:t.$auth.user.company_id}},e.next=3,t.$axios.get("/visitors_with_type",n).then((function(e){var data=e.data;t.visitors=data,t.visitors.unshift({system_user_id:"",name_with_user_id:"Select All"})}));case 3:case"end":return e.stop()}}),e)})))()},caps:function(t){return t.replace(/_/g," ").replace(/\b\w/g,(function(t){return t.toUpperCase()}))},can:function(t){return this.$pagePermission.can(t,this)},getDataFromApi:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.endpoint,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.loading=!0;var o=this.options,l=o.sortBy,c=o.sortDesc,d=o.page,m=o.itemsPerPage,v=l?l[0]:"",_=c?c[0]:"";if("Custom"==this.frequency){if(null==this.payload.from_date)return!1;if(null==this.payload.to_date)return!1}var f={params:N(N({page:d,sortBy:v,sortDesc:_,per_page:m,company_id:this.$auth.user.company_id},this.payload),{},{frequency:this.frequency},this.filters)};this.currentPage=d,""!=n&&(f.params[n]=r),this.$axios.get(e,f).then(function(){var e=Object(z.a)(regeneratorRuntime.mark((function e(r){var data,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(data=r.data,""==n||0!=data.data.length){e.next=7;break}return t.snack=!0,t.snackColor="error",t.snackText="No Results Found",t.loading=!1,e.abrupt("return",!1);case 7:return t.data=data.data,o=new Set,e.next=11,data.data.filter((function(t){var e=t.visitor_id;return!o.has(e)&&(o.add(e),!0)}));case 11:t.users=e.sent,t.total=data.total,t.loading=!1,t.totalRowsCount=data.total;case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},editItem:function(t){this.dialog=!0,this.editItems.UserID=t.visitor_id,this.editItems.date=t.edit_date},update:function(){var t=this;if(this.$refs.form.validate()){var e={UserID:this.editItems.UserID,LogTime:this.editItems.date+" "+this.editItems.time,DeviceID:this.editItems.device_id,user_id:this.editItems.UserID,company_id:this.$auth.user.company_id,reason:this.editItems.reason};this.$axios.post("/generate_manual_log",e).then((function(e){var data=e.data;t.loading=!1,data.status?(t.snackbar=!0,t.response=data.message,t.close()):t.errors=data.errors})).catch((function(t){return console.log(t)}))}},renderByType:function(t){var e=this,n=this.editItems.UserID,r=this.editItems.date;if(n&&r){var o={params:{date:this.editItems.date,UserID:this.editItems.UserID,updated_by:this.$auth.user.id,company_id:this.$auth.user.company_id,manual_entry:!0,reason:this.editItems.reason}};this.$axios.get("/"+t,o).then((function(t){var data=t.data;e.loading=!1,e.snackbar=!0,e.response=data.message,e.getDataFromApi()})).catch((function(t){return console.log(t)}))}else alert("System User Id and Date field is required")},viewItem:function(t){var e=this;this.log_list=[];var n={params:{per_page:500,UserID:t.system_user_id,LogTime:t.edit_date,company_id:this.$auth.user.company_id}};this.log_details=!0,this.$axios.get("visitor_log_list",n).then((function(t){var data=t.data;e.log_list=data.data}))},close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}),300)},process_file:function(t){if(this.data.length){var e=this.payload,n=e.visitor_id,r=e.daily_date,o=e.from_date,l=e.to_date,c=e.status,d=this.frequency,m=this.$auth.user.company_id,v=(this.options.itemsPerPage,"");v+="".concat("http://192.168.88.30:8000/api/visitor_attendance_report"),v+="?company_id=".concat(m),v+="&status=".concat(c),v+="&visitor_id=".concat(n),v+="&frequency=".concat(d),v+="&action=".concat(t),v+="&per_page=".concat(20),v+="Daily"==d?"&daily_date=".concat(r):"&from_date=".concat(o,"&to_date=").concat(l);var _=document.createElement("a");_.setAttribute("href",v),_.setAttribute("target","_blank"),_.click(),this.getDataFromApi()}else alert("No record found")}}},B=E,G=n(116),component=Object(G.a)(B,(function(){var t=this,e=t._self._c;return e("div",[e(f.a,{attrs:{width:"1200"},model:{value:t.viewDialog,callback:function(e){t.viewDialog=e},expression:"viewDialog"}},[e(l.a,[e(c.c,{staticClass:"popup_background",attrs:{dense:""}},[t._v("\n        Visitor Information - "+t._s(t.item&&t.item.full_name)+"\n        "),e($.a),t._v(" "),e(x.a,{attrs:{outlined:"",dark:""},on:{click:function(e){t.viewDialog=!1}}},[t._v("\n          mdi mdi-close-circle\n        ")])],1),t._v(" "),e(c.b,[e("Visitorinfo",{key:t.keyId,attrs:{item:t.item,attendance:t.attendance}})],1)],1)],1),t._v(" "),e("div",{staticClass:"text-center ma-2"},[e(I.a,{attrs:{top:"top",color:"secondary",elevation:"24"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.response)+"\n    ")]),t._v(" "),e(I.a,{attrs:{timeout:3e3,color:t.snackColor},scopedSlots:t._u([{key:"action",fn:function(n){var r=n.attrs;return[e(o.a,t._b({attrs:{text:""},on:{click:function(e){t.snack=!1}}},"v-btn",r,!1),[t._v(" Close ")])]}}]),model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n      "+t._s(t.snackText)+"\n      ")])],1),t._v(" "),e(C.a,{attrs:{justify:"center"}},[e("div",{staticClass:"text-center"},[e(f.a,{attrs:{persistent:"",width:"900"},model:{value:t.attendancFilters,callback:function(e){t.attendancFilters=e},expression:"attendancFilters"}},[e(l.a,[e(c.c,{staticClass:"popup_background"},[e("span",{staticClass:"headline"},[t._v(" Visitor Reports Filters ")]),t._v(" "),e($.a),t._v(" "),e(o.a,{staticClass:"ma-0",attrs:{"x-small":"",ripple:!1,text:"",title:"PRINT"},on:{click:function(e){return t.process_file("print")}}},[e(x.a,[t._v("mdi-printer-outline")])],1),t._v(" "),e(o.a,{attrs:{"x-small":"",ripple:!1,text:"",title:"DOWNLOAD"},on:{click:function(e){return t.process_file("download")}}},[e(x.a,[t._v("mdi-download-outline")])],1),t._v(" "),e(o.a,{attrs:{"x-small":"",ripple:!1,text:"",title:"CSV"},on:{click:function(e){return t.process_file("csv")}}},[e(x.a,[t._v("mdi-file-outline")])],1)],1),t._v(" "),e(c.b,{staticClass:"py-3"},[e(C.a,[e(d.a,{attrs:{md:"6"}},[t._v("\n                Report Type\n\n                "),e(r.a,{attrs:{outlined:"",dense:"","x-small":"",items:["All","Approved","Pending","Rejected","Cancelled"],"item-value":"id","item-text":"name","hide-details":!0},on:{change:function(e){return t.getDataFromApi("visitor_attendance")}},model:{value:t.payload.status,callback:function(e){t.$set(t.payload,"status",e)},expression:"payload.status"}})],1),t._v(" "),e(d.a,{attrs:{md:"6"}},[t._v("\n                Visitor ID\n                "),e(r.a,{attrs:{outlined:"",dense:"","x-small":"",items:t.visitors,"item-value":"system_user_id","item-text":"name_with_user_id","hide-details":!0},on:{change:function(e){return t.getDataFromApi("visitor_attendance")}},model:{value:t.payload.visitor_id,callback:function(e){t.$set(t.payload,"visitor_id",e)},expression:"payload.visitor_id"}})],1),t._v(" "),e(d.a,{attrs:{md:"6"}},[e("div",[t._v("Frequency")]),t._v(" "),e(r.a,{attrs:{outlined:"",dense:"","x-small":"",items:["Daily","Weekly","Monthly","Custom"],"item-text":"['Daily']","hide-details":!0},on:{change:t.changeReportFrequency},model:{value:t.frequency,callback:function(e){t.frequency=e},expression:"frequency"}})],1),t._v(" "),e(d.a,["Daily"==t.frequency?e(C.a,[e(d.a,{attrs:{cols:"12"}},[e("div",[t._v("Date")]),t._v(" "),e("div",{staticClass:"text-left"},[e(S.a,{ref:"daily_menu",attrs:{"close-on-content-click":!1,"return-value":t.daily_date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.daily_date=e},"update:return-value":function(e){t.daily_date=e}},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(F.a,t._g(t._b({attrs:{"hide-details":t.payload.daily_date,outlined:"",dense:"",readonly:""},model:{value:t.payload.daily_date,callback:function(e){t.$set(t.payload,"daily_date",e)},expression:"payload.daily_date"}},"v-text-field",o,!1),r))]}}],null,!1,398604961),model:{value:t.daily_menu,callback:function(e){t.daily_menu=e},expression:"daily_menu"}},[t._v(" "),e(_.a,{attrs:{"no-title":"",scrollable:""},model:{value:t.payload.daily_date,callback:function(e){t.$set(t.payload,"daily_date",e)},expression:"payload.daily_date"}},[e($.a),t._v(" "),e(o.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.daily_menu=!1}}},[t._v("\n                            Cancel\n                          ")]),t._v(" "),e(o.a,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.set_date_save(t.$refs.daily_menu,t.payload.daily_date)}}},[t._v("\n                            OK\n                          ")])],1)],1)],1)])],1):e(C.a,[e(d.a,{attrs:{md:"6"}},[e("div",[t._v("From Date")]),t._v(" "),e("div",{staticClass:"text-left"},[e(S.a,{ref:"from_menu",attrs:{"close-on-content-click":!1,"return-value":t.from_date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.from_date=e},"update:return-value":function(e){t.from_date=e}},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(F.a,t._g(t._b({attrs:{"hide-details":t.payload.from_date,outlined:"",dense:"",readonly:""},model:{value:t.payload.from_date,callback:function(e){t.$set(t.payload,"from_date",e)},expression:"payload.from_date"}},"v-text-field",o,!1),r))]}}]),model:{value:t.from_menu,callback:function(e){t.from_menu=e},expression:"from_menu"}},[t._v(" "),e(_.a,{attrs:{"no-title":"",scrollable:""},model:{value:t.payload.from_date,callback:function(e){t.$set(t.payload,"from_date",e)},expression:"payload.from_date"}},[e($.a),t._v(" "),e(o.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.from_menu=!1}}},[t._v("\n                            Cancel\n                          ")]),t._v(" "),e(o.a,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.set_date_save(t.$refs.from_menu,t.payload.from_date)}}},[t._v("\n                            OK\n                          ")])],1)],1)],1)]),t._v(" "),e(d.a,{attrs:{md:"6"}},[e("div",[t._v("To Date")]),t._v(" "),e("div",{staticClass:"text-left"},[e(S.a,{ref:"to_menu",attrs:{"close-on-content-click":!1,"return-value":t.to_date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.to_date=e},"update:return-value":function(e){t.to_date=e}},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(F.a,t._g(t._b({attrs:{"hide-details":t.payload.to_date,outlined:"",dense:"",readonly:""},model:{value:t.payload.to_date,callback:function(e){t.$set(t.payload,"to_date",e)},expression:"payload.to_date"}},"v-text-field",o,!1),r))]}}]),model:{value:t.to_menu,callback:function(e){t.to_menu=e},expression:"to_menu"}},[t._v(" "),e(_.a,{attrs:{max:t.max_date,"no-title":"",scrollable:""},model:{value:t.payload.to_date,callback:function(e){t.$set(t.payload,"to_date",e)},expression:"payload.to_date"}},[e($.a),t._v(" "),e(o.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.to_menu=!1}}},[t._v("\n                            Cancel\n                          ")]),t._v(" "),e(o.a,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.set_date_save(t.$refs.to_menu,t.payload.to_date)}}},[t._v("\n                            OK\n                          ")])],1)],1)],1)])],1)],1)],1)],1),t._v(" "),e(h.a),t._v(" "),e(c.a,[e($.a),t._v(" "),e(o.a,{attrs:{color:"primary",text:""},on:{click:function(e){t.attendancFilters=!1}}},[t._v("\n              Close\n            ")])],1)],1)],1)],1),t._v(" "),e(f.a,{attrs:{persistent:"","max-width":"600px"},model:{value:t.time_table_dialog,callback:function(e){t.time_table_dialog=e},expression:"time_table_dialog"}},[e(l.a,{staticClass:"darken-1"},[e(A.a,{staticClass:"popup-background",attrs:{dense:"",flat:""}},[e("span",{staticClass:"text-h5"},[t._v("Time Slots")])]),t._v(" "),e(c.b,[e("ol",{staticClass:"pa-3"},t._l(t.shifts,(function(n,r){return e("li",{key:r},[t._v("\n              "+t._s(n&&n.name||"---")+"\n              "+t._s(n.on_duty_time?"(".concat(n.on_duty_time," - ").concat(n.off_duty_time,")"):"")+"\n            ")])})),0)])],1)],1)],1),t._v(" "),e(C.a,{attrs:{justify:"center"}},[e(f.a,{attrs:{persistent:"","max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(l.a,[e(c.c,{staticClass:"primary darken-2"},[e("span",{staticClass:"headline white--text"},[t._v(" Update Log ")])]),t._v(" "),e(c.b,[e(m.a,[e(C.a,[e(y.a,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(d.a,{attrs:{md:"12"}},[e(S.a,{ref:"time_menu_ref",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.payload.time,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){return t.$set(t.payload,"time",e)},"update:return-value":function(e){return t.$set(t.payload,"time",e)}},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(F.a,t._g(t._b({attrs:{label:"Time",readonly:"",rules:t.timeRules},model:{value:t.editItems.time,callback:function(e){t.$set(t.editItems,"time",e)},expression:"editItems.time"}},"v-text-field",o,!1),r))]}}]),model:{value:t.time_menu,callback:function(e){t.time_menu=e},expression:"time_menu"}},[t._v(" "),t.time_menu?e(T.a,{attrs:{"full-width":"",format:"24hr"},model:{value:t.editItems.time,callback:function(e){t.$set(t.editItems,"time",e)},expression:"editItems.time"}},[e($.a),t._v(" "),e(o.a,{attrs:{"x-small":"",color:"primary"},on:{click:function(e){t.time_menu=!1}}},[t._v("\n                        Cancel\n                      ")]),t._v(" "),e(o.a,{attrs:{"x-small":"",color:"primary"},on:{click:function(e){return t.$refs.time_menu_ref.save(t.editItems.time)}}},[t._v("\n                        OK\n                      ")])],1):t._e()],1),t._v(" "),t.errors&&t.errors.time?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.time[0]))]):t._e()],1),t._v(" "),e(d.a,{attrs:{md:"12"}},[e(r.a,{attrs:{label:"Select Device",items:t.devices,"item-text":"name","item-value":"id",rules:t.deviceRules},model:{value:t.editItems.device_id,callback:function(e){t.$set(t.editItems,"device_id",e)},expression:"editItems.device_id"}}),t._v(" "),t.errors&&t.errors.device_id?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.device_id[0]))]):t._e()],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e(P.a,{attrs:{filled:"",label:"Reason","auto-grow":"",rules:t.nameRules,required:""},model:{value:t.editItems.reason,callback:function(e){t.$set(t.editItems,"reason",e)},expression:"editItems.reason"}}),t._v(" "),t.errors&&t.errors.reason?e("span",{staticClass:"error--text"},[t._v("\n                    "+t._s(t.errors.reason[0])+"\n                  ")]):t._e()],1)],1)],1)],1)],1),t._v(" "),e(c.a,[e($.a),t._v(" "),e(o.a,{staticClass:"error",attrs:{small:""},on:{click:t.close}},[t._v(" Cancel ")]),t._v(" "),e(o.a,{staticClass:"primary",attrs:{small:""},on:{click:t.update}},[t._v("Save")])],1)],1)],1)],1),t._v(" "),e(f.a,{attrs:{persistent:"",width:"700"},model:{value:t.add_manual_log,callback:function(e){t.add_manual_log=e},expression:"add_manual_log"}},[e(l.a,[e(c.c,{staticClass:"text-h5 primary white--text darken-2",attrs:{dark:""}},[t._v("\n        Manual Log\n      ")]),t._v(" "),e(c.b,{staticClass:"pa-3"},[e(C.a,[e(d.a,{attrs:{md:"12"}},[e(F.a,{attrs:{label:"User Id"},model:{value:t.log_payload.user_id,callback:function(e){t.$set(t.log_payload,"user_id",e)},expression:"log_payload.user_id"}}),t._v(" "),t.errors&&t.errors.user_id?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.user_id[0]))]):t._e()],1),t._v(" "),e(d.a,{attrs:{md:"12"}},[e(r.a,{attrs:{label:"Select Device",items:t.devices,"item-text":"name","item-value":"id",rules:t.deviceRules},model:{value:t.log_payload.device_id,callback:function(e){t.$set(t.log_payload,"device_id",e)},expression:"log_payload.device_id"}}),t._v(" "),t.errors&&t.errors.device_id?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.device_id[0]))]):t._e()],1),t._v(" "),e(d.a,{attrs:{md:"12"}},[e(r.a,{attrs:{label:"In/Out",items:["In","Out"],rules:t.deviceRules},model:{value:t.log_payload.log_type,callback:function(e){t.$set(t.log_payload,"log_type",e)},expression:"log_payload.log_type"}},[t._v("\n              "+t._s(t.log_payload.log_type)+"\n            ")]),t._v(" "),t.errors&&t.errors.log_type?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.log_type[0]))]):t._e()],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"6"}},[e(S.a,{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(F.a,t._g(t._b({attrs:{label:"Date",readonly:""},model:{value:t.log_payload.date,callback:function(e){t.$set(t.log_payload,"date",e)},expression:"log_payload.date"}},"v-text-field",o,!1),r))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),e(_.a,{attrs:{"no-title":"",scrollable:""},model:{value:t.log_payload.date,callback:function(e){t.$set(t.log_payload,"date",e)},expression:"log_payload.date"}},[e($.a),t._v(" "),e(o.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("\n                  Cancel\n                ")]),t._v(" "),e(o.a,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.log_payload.date)}}},[t._v("\n                  OK\n                ")])],1)],1)],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"6"}},[e(S.a,{ref:"manual_time_menu_ref",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.log_payload.time,transition:"scale-transition","offset-y":"","max-width":"290px","min-height":"320px"},on:{"update:returnValue":function(e){return t.$set(t.log_payload,"time",e)},"update:return-value":function(e){return t.$set(t.log_payload,"time",e)}},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(F.a,t._g(t._b({attrs:{label:"Time",readonly:""},model:{value:t.log_payload.time,callback:function(e){t.$set(t.log_payload,"time",e)},expression:"log_payload.time"}},"v-text-field",o,!1),r))]}}]),model:{value:t.manual_time_menu,callback:function(e){t.manual_time_menu=e},expression:"manual_time_menu"}},[t._v(" "),t.manual_time_menu?e(T.a,{attrs:{"full-width":"",format:"24hr"},model:{value:t.log_payload.time,callback:function(e){t.$set(t.log_payload,"time",e)},expression:"log_payload.time"}},[e($.a),t._v(" "),e(o.a,{attrs:{"x-small":"",color:"primary"},on:{click:function(e){t.manual_=!1}}},[t._v("\n                  Cancel\n                ")]),t._v(" "),e(o.a,{attrs:{"x-small":"",color:"primary"},on:{click:function(e){return t.$refs.manual_time_menu_ref.save(t.log_payload.time)}}},[t._v("\n                  OK\n                ")])],1):t._e()],1),t._v(" "),t.errors&&t.errors.time?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.time[0]))]):t._e()],1)],1)],1),t._v(" "),e(h.a),t._v(" "),e(c.a,[e($.a),t._v(" "),e(o.a,{attrs:{small:"",loading:t.loading,color:"primary"},on:{click:t.store_schedule}},[t._v("\n          Submit\n        ")])],1)],1)],1),t._v(" "),e(C.a,[e(d.a,[e(l.a,{staticClass:"mb-5",attrs:{elevation:"0"}},[e(A.a,{attrs:{flat:""}},[e(M.b,[e("span",[t._v(" Visitor Report ")])]),t._v(" "),e("span",[e(o.a,{attrs:{"x-small":"",ripple:!1,text:"",title:"Reload"},on:{click:function(e){return t.clearFilters()}}},[e(x.a,{attrs:{dark:""},on:{click:function(e){return t.clearFilters()}}},[t._v("mdi-reload")])],1)],1),t._v(" "),e("span",[e(o.a,{attrs:{"x-small":"",ripple:!1,text:"",title:"Filter"},on:{click:t.toggleFilter}},[e(x.a,{attrs:{dark:""}},[t._v("mdi-filter")])],1)],1),t._v(" "),e($.a),t._v(" "),e("span",[e("Calender",{staticStyle:{width:"100%"},attrs:{defaultFilterType:1,height:"28px "},on:{"filter-attr":t.filterAttr}})],1)],1),t._v(" "),t.can("attendance_report_view")?e(v.a,{staticClass:"elevation-1",attrs:{dense:"",headers:t.headers,items:t.data,loading:t.loading,options:t.options,"footer-props":{itemsPerPageOptions:[10,50,100,500,1e3]},"model-value":"data.id","server-items-length":t.totalRowsCount},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"header",fn:function(n){var r=n.props.headers;return[t.isFilter?e("tr",t._l(r,(function(header){return e("td",{key:header.text},[e(m.a,{staticStyle:{"padding-left":"0px !important"}},[header.filterable&&!header.filterSpecial?e(F.a,{attrs:{clearable:"","hide-details":!0,id:header.value,outlined:"",dense:"",autocomplete:"off"},on:{"click:clear":function(e){t.filters[header.value]="",t.getDataFromApi()},input:function(e){return t.getDataFromApi()}},model:{value:t.filters[header.value],callback:function(e){t.$set(t.filters,header.value,e)},expression:"filters[header.value]"}}):t._e(),t._v(" "),header.filterSpecial&&"branch_id"==header.value?e(j.a,{attrs:{"hide-details":!0,clearable:"","item-value":"id","item-text":"name",outlined:"",dense:"",items:[{name:"All Branches",id:""}].concat(Object(R.a)(t.branchesList))},on:{change:function(e){return t.applyFilters("status",e)}},model:{value:t.filters[header.value],callback:function(e){t.$set(t.filters,header.value,e)},expression:"filters[header.value]"}}):t._e(),t._v(" "),header.filterSpecial&&"host_id"==header.value?e(j.a,{attrs:{"hide-details":!0,clearable:"","item-value":"id","item-text":"employee.full_name",outlined:"",dense:"",items:[{"employee.full_name":"All Hosts",id:""}].concat(Object(R.a)(t.hostList))},on:{change:function(e){return t.applyFilters("status",e)}},model:{value:t.filters[header.value],callback:function(e){t.$set(t.filters,header.value,e)},expression:"filters[header.value]"}}):t._e(),t._v(" "),header.filterSpecial&&"purpose_id"==header.value?e(j.a,{attrs:{"hide-details":!0,clearable:"","item-value":"id","item-text":"name",outlined:"",dense:"",items:[{name:"All",id:""}].concat(Object(R.a)(t.purposeList))},on:{change:function(e){return t.applyFilters("status",e)}},model:{value:t.filters[header.value],callback:function(e){t.$set(t.filters,header.value,e)},expression:"filters[header.value]"}}):t._e(),t._v(" "),header.filterSpecial&&"overstay"==header.value?e(j.a,{attrs:{"hide-details":!0,clearable:"","item-value":"id","item-text":"name",outlined:"",dense:"",items:[{name:"All",id:""},{name:"No Overstay",id:"0"},{name:"Only Overstay",id:"1"}]},on:{change:function(e){return t.applyFilters("status",e)}},model:{value:t.filters[header.value],callback:function(e){t.$set(t.filters,header.value,e)},expression:"filters[header.value]"}}):t._e()],1)],1)})),0):t._e()]}},{key:"item.sno",fn:function(e){var n=e.item;e.index;return[t._v("\n            "+t._s(t.currentPage?(t.currentPage-1)*t.perPage+(t.cumulativeIndex+t.data.indexOf(n)):"")+"\n          ")]}},{key:"item.visitor_first_name",fn:function(n){var r=n.item;return[e(C.a,{attrs:{"no-gutters":""}},[e(d.a,{staticStyle:{padding:"5px","padding-left":"0px",width:"50px","max-width":"50px"}},[e(k.a,{staticStyle:{"border-radius":"50%",height:"50px",width:"50px","max-width":"50px",border:"1px solid #ddd"},attrs:{src:r.visitor&&r.visitor.logo?r.visitor.logo:"/no-profile-image.jpg"}})],1),t._v(" "),e(d.a,{staticStyle:{padding:"10px"}},[e("strong",[t._v("\n                  "+t._s(r.visitor?r.visitor.first_name:"---")+"\n                  "+t._s(r.visitor?r.visitor.last_name:"---"))]),t._v(" "),e("div",{staticClass:"secondary-value"},[t._v("\n                  "+t._s(r.visitor?r.visitor.phone_number:"---")+"\n                ")]),t._v(" "),e("div",{staticClass:"secondary-value"},[t._v("\n                  "+t._s(r.visitor?r.visitor.email:"---")+"\n                ")])])],1)]}},{key:"item.branch_id",fn:function(n){var r=n.item;return[t._v("\n            "+t._s(r.branch&&r.branch.branch_name)+"\n            "),e("div",{staticClass:"secondary-value"},[t._v("\n              "+t._s(r.visitor.host&&r.visitor.host.floor_number||"---")+"\n              -\n              "+t._s(r.visitor.host&&r.visitor.host.flat_number||"---")+"\n            ")])]}},{key:"item.purpose_id",fn:function(e){var n,r=e.item;return[t._v("\n            "+t._s(r.visitor&&(null===(n=r.visitor.purpose)||void 0===n?void 0:n.name))+"\n          ")]}},{key:"item.in",fn:function(n){var r=n.item;n.index;return[e("div",[t._v("\n              "+t._s(r.in?t.$dateFormat.time2Hm(r.in):"---")+"\n              "),e("div",{staticClass:"secondary-value"},[t._v("\n                "+t._s(r.device_in_name?r.device_in_name.name:"---")+"\n              ")])])]}},{key:"item.out",fn:function(n){var r=n.item;n.index;return[e("div",[t._v("\n              "+t._s(r.out?t.$dateFormat.time2Hm(r.out):"---")+"\n              "),e("div",{staticClass:"secondary-value"},[t._v("\n                "+t._s(r.device_out_name?r.device_out_name.name:"---")+"\n              ")])])]}},{key:"item.overstay",fn:function(n){var r=n.item;n.index;return[e("div",{style:r.over_stay?"color:red":" ;"},[t._v("\n              "+t._s(r.over_stay?r.over_stay:"---")+"\n            ")])]}},{key:"item.host_id",fn:function(n){var r,o,l,c=n.item;n.index;return[e("div",[t._v("\n              "+t._s(c.visitor.host?null===(r=c.visitor.host.employee)||void 0===r?void 0:r.first_name:"---")+"\n              "+t._s(c.visitor.host?null===(o=c.visitor.host.employee)||void 0===o?void 0:o.last_name:"---")+"\n            ")]),t._v(" "),e("div",{staticClass:"secondary-value"},[t._v("\n              "+t._s(c.visitor.host?null===(l=c.visitor.host.employee)||void 0===l?void 0:l.phone_number:"---")+"\n            ")])]}},{key:"item.options",fn:function(n){var r=n.item;return[e(S.a,{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[e(o.a,t._g(t._b({attrs:{"dark-2":"",icon:""}},"v-btn",l,!1),r),[e(x.a,[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[t._v(" "),e(D.a,{attrs:{width:"150",dense:""}},[e(O.a,{on:{click:function(e){return t.viewInfo(r)}}},[e(w.c,[e(x.a,{attrs:{small:""}},[t._v(" mdi-eye ")]),t._v("\n                    View\n                  ")],1)],1),t._v(" "),e(O.a,{on:{click:function(e){return t.viewItem(r)}}},[e(w.c,[e(x.a,{attrs:{small:""}},[t._v(" mdi-history ")]),t._v("\n                    Device Logs\n                  ")],1)],1)],1)],1)]}}],null,!1,3515704679)}):e("NoAccess")],1)],1)],1),t._v(" "),e(C.a,{attrs:{justify:"center"}},[e(f.a,{attrs:{persistent:"","max-width":"600px"},model:{value:t.log_details,callback:function(e){t.log_details=e},expression:"log_details"}},[e(l.a,{staticClass:"darken-1"},[e(A.a,{staticClass:"popup_background",attrs:{dense:"",flat:""}},[e("span",{staticClass:"text-h5 pa-2"},[t._v("Log Details")]),t._v(" "),e($.a),t._v(" "),e($.a),t._v(" "),e(x.a,{on:{click:function(e){t.log_details=!1}}},[t._v("mdi-close-circle-outline")])],1),t._v(" "),e(c.b,[e("div",{staticClass:"pt-5"},[e(v.a,{staticClass:"elevation-1",attrs:{headers:t.log_headers,items:t.log_list,"hide-default-footer":""},scopedSlots:t._u([{key:"item.sno",fn:function(e){e.item;var n=e.index;return[t._v("\n                "+t._s(++n)+"\n              ")]}}])})],1)])],1)],1),t._v(" "),e(f.a,{attrs:{persistent:"","max-width":"500px"},model:{value:t.renderVisitorDialog,callback:function(e){t.renderVisitorDialog=e},expression:"renderVisitorDialog"}},[e(l.a,[e(c.c,{staticClass:"popup_background"},[e("span",{staticClass:"headline"},[t._v("Submit Data")]),t._v(" "),e($.a),t._v(" "),e(o.a,{attrs:{"x-small":"",ripple:!1,text:"",title:"Add user"},on:{click:t.addUser}},[e(x.a,{attrs:{dark:""}},[t._v("mdi-plus-circle")])],1)],1),t._v(" "),e(c.b,[e(y.a,{on:{submit:function(e){return e.preventDefault(),t.submitData.apply(null,arguments)}}},[e(m.a,[e(C.a,[e(d.a,{attrs:{cols:"12"}},[e(F.a,{attrs:{label:"Date",required:""},model:{value:t.formData.date,callback:function(e){t.$set(t.formData,"date",e)},expression:"formData.date"}})],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},t._l(t.users,(function(n,i){return e(C.a,{key:i},[e(d.a,{attrs:{cols:"10"}},[e(F.a,{attrs:{label:"User Id",required:""},model:{value:n.visitor_id,callback:function(e){t.$set(n,"visitor_id",e)},expression:"user.visitor_id"}})],1),t._v(" "),e(d.a,{attrs:{cols:"2"}},[e(x.a,{attrs:{color:"error"},on:{click:function(e){return t.removeUser(i)}}},[t._v("mdi-delete")])],1)],1)})),1)],1)],1)],1)],1),t._v(" "),e(c.a,[e($.a),t._v(" "),e(o.a,{attrs:{small:"",color:"primary"},on:{click:t.submitData}},[t._v("Submit")]),t._v(" "),e(o.a,{attrs:{small:"",color:"gray"},on:{click:function(e){t.renderVisitorDialog=!1}}},[t._v("Cancel")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Calender:n(905).default,NoAccess:n(879).default})},1367:function(t,e,n){"use strict";n.r(e);var r=n(114),o=n(133),l=n(87),c=n(518),d=n(1545),m=n(1546),v=n(350),_=n(147),f=n(212),h=n(862),y=n(517),x=n(892),k=n(872),D=n(349),O=n(214),w=n(96),S=n(855),C=n(81),j=(n(35),n(37),n(23)),I=n(3);n(88),n(215),n(6),n(72),n(33),n(58),n(521),n(12),n(14),n(13),n(17),n(11),n(18);function $(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function F(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?$(Object(source),!0).forEach((function(e){Object(I.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):$(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var P={data:function(){var t;return t={purposeList:[],branchesList:[],id:"",from_menu_filter:"",from_date_filter:"",showFilters:!1,filters:{},isFilter:!1,generateLogsDialog:!1,totalRowsCount:0,datatable_search_textbox:"",datatable_searchById:"",filter_employeeid:"",snack:!1,snackColor:"",snackText:"",departments:[],Model:"Log",endpoint:"visitor_logs",from_date:null,from_menu:!1,to_date:null,to_menu:!1,payload:{},loading:!0,date:null,menu:!1},Object(I.a)(t,"loading",!1),Object(I.a)(t,"time_menu",!1),Object(I.a)(t,"log_payload",{user_id:41,device_id:"",date:null,time:null}),Object(I.a)(t,"ids",[]),Object(I.a)(t,"data",[]),Object(I.a)(t,"devices",[]),Object(I.a)(t,"total",0),Object(I.a)(t,"pagination",{current:1,total:0,itemsPerPage:1e3}),Object(I.a)(t,"payloadOptions",{}),Object(I.a)(t,"options",{current:1,total:0,itemsPerPage:10}),Object(I.a)(t,"errors",[]),Object(I.a)(t,"response",""),Object(I.a)(t,"snackbar",!1),Object(I.a)(t,"headers",[{text:"Visitor ID",align:"left",sortable:!0,key:"UserID",value:"UserID",width:"150px",filterable:!0,filterSpecial:!1},{text:"Visitor",align:"left",sortable:!0,key:"visitor_full_name",value:"visitor_full_name",width:"300px",filterable:!0,filterSpecial:!1},{text:"Purpose",align:"left",sortable:!1,key:"purpose",value:"purpose_id",filterable:!0,filterSpecial:!0},{text:"Log Time",align:"left",sortable:!0,key:"LogTime",value:"LogTime",filterable:!0,filterSpecial:!0},{text:"Device Name",align:"left",sortable:!0,key:"device",value:"device.name",filterable:!0,filterSpecial:!0},{text:"Device Location",align:"left",sortable:!0,key:"devicelocation",value:"device.location",filterable:!0,filterSpecial:!0}]),t},created:function(){if(this.firstLoad(),null==this.$auth.user.branch_id||0==this.$auth.user.branch_id){var t;(t=this.headers).splice.apply(t,[1,0].concat([{text:"Branch",align:"left",sortable:!0,value:"branch_id",filterable:!0,filterName:"branch_id",filterSpecial:!0}]))}},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},methods:{getDepartments:function(){var t=this,e={params:{per_page:10,company_id:this.$auth.user.company_id}};this.$axios.get("departments",e).then((function(e){var data=e.data;t.departments=data.data,t.departments.unshift({name:"All Departments",id:""})}))},applyFilters:function(){this.getDataFromApi(),this.from_menu_filter=!1,this.to_menu_filter=!1},toggleFilter:function(){var t=this;return Object(j.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isFilter=!t.isFilter,t.isFilter&&(t.refresh=!0,t.handleChangeEvent(),t.getDeviceList());case 2:case"end":return e.stop()}}),e)})))()},handleChangeEvent:function(){var t=this;return Object(j.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("fetchDropDowns",{key:"purposeList",endpoint:"purpose_list"});case 2:return t.purposeList=e.sent,e.next=5,t.$store.dispatch("fetchDropDowns",{key:"branchList",endpoint:"branch-list"});case 5:t.branchesList=e.sent;case 6:case"end":return e.stop()}}),e)})))()},clearFilters:function(){this.filters={},this.isFilter=!1,this.getDataFromApi()},firstLoad:function(){this.loading=!0,this.payload.from_date=this.getDate(),this.payload.to_date=this.getDate(),this.payload.from_date_txt=this.getDate(),this.payload.to_date_txt=this.getDate(),this.getDataFromApi()},caps:function(t){return""==t||null==t?"---":t.toString().replace(/\b\w/g,(function(t){return t.toUpperCase()}))},datatable_save:function(){},datatable_cancel:function(){this.datatable_search_textbox=""},datatable_open:function(){this.datatable_search_textbox=""},datatable_close:function(){this.loading=!1},getDeviceList:function(){var t=this,e={params:{company_id:this.$auth.user.company_id}};this.$axios.get("device-list",e).then((function(e){var data=e.data;t.devices=data}))},getDate:function(){var t=new Date,e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getDate().toString().padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(r)},can:function(t){return this.$pagePermission.can(t,this)},getRecords:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this.filters={},this.isFilter=!1,""!=e&&e.length<=2)return this.snack=!0,this.snackColor="error",this.snackText="Minimum 3 Characters to filter ",this.loading=!1,!1;this.getDataFromApi(this.endpoint,t,e)},getDataFromApi:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.endpoint,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=this.options,l=o.sortBy,c=o.sortDesc,d=o.page,m=o.itemsPerPage,v=l?l[0]:"",_=c?c[0]:"";this.payloadOptions={params:F(F({page:d,sortBy:v,sortDesc:_,per_page:m,company_id:this.$auth.user.company_id},this.payload),this.filters)},""!=n&&(this.payloadOptions.params[n]=r),this.loading=!0,this.$axios.get("".concat(e,"?page=").concat(this.options.page),this.payloadOptions).then((function(e){var data=e.data;t.data=data.data,t.total=data.total,t.loading=!1,t.totalRowsCount=data.total}))},searchIt:function(){this.payload.from_date_txt=this.payload.from_date,this.payload.to_date_txt=this.payload.to_date,this.getDataFromApi(),this.from_menu=!1,this.to_menu=!1}}},T=P,A=n(116),component=Object(A.a)(T,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"text-center ma-2"},[e(k.a,{attrs:{top:"top",color:"secondary",elevation:"24"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.response)+"\n    ")]),t._v(" "),e(k.a,{attrs:{timeout:3e3,color:t.snackColor},scopedSlots:t._u([{key:"action",fn:function(n){var o=n.attrs;return[e(r.a,t._b({attrs:{text:""},on:{click:function(e){t.snack=!1}}},"v-btn",o,!1),[t._v(" Close ")])]}}]),model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n      "+t._s(t.snackText)+"\n\n      ")])],1),t._v(" "),e(y.a,{attrs:{justify:"center"}},[e(v.a,{attrs:{persistent:"","max-width":"700px"},model:{value:t.generateLogsDialog,callback:function(e){t.generateLogsDialog=e},expression:"generateLogsDialog"}},[e(o.a,[e(l.c,{staticClass:"popup_background"},[e("span",{staticClass:"headline",attrs:{dense:""}},[t._v(" Generate Log ")]),t._v(" "),e(D.a),t._v(" "),e(_.a,{attrs:{dark:"",outlined:""},on:{click:function(e){t.generateLogsDialog=!1}}},[t._v("\n            mdi mdi-close-circle\n          ")])],1),t._v(" "),e(l.b,[e("GenerateLog",{on:{"update-data-table":function(e){return t.getDataFromApi()}}})],1)],1)],1)],1),t._v(" "),e(y.a,[e(c.a,[e(o.a,{staticClass:"mb-5",attrs:{elevation:"0"}},[e(w.a,{staticClass:"rounded-md",attrs:{dense:"",flat:""}},[e(S.b,[e("span",[t._v(" Visitor Device Logs")])]),t._v(" "),e(r.a,{staticClass:"ma-0 px-0",attrs:{dense:"","x-small":"",ripple:!1,text:"",title:"Reload"},on:{click:t.getRecords}},[e(_.a,{staticClass:"ml-2",attrs:{dark:""}},[t._v("mdi mdi-reload")])],1),t._v(" "),e(r.a,{attrs:{"x-small":"",ripple:!1,text:"",title:"Filter"},on:{click:t.toggleFilter}},[e(_.a,{attrs:{dark:""}},[t._v("mdi-filter")])],1),t._v(" "),e(D.a)],1),t._v(" "),e(d.a,{staticClass:"elevation-1",attrs:{dense:"",headers:t.headers,items:t.data,"model-value":"data.id",loading:t.loading,options:t.options,"footer-props":{itemsPerPageOptions:[10,50,100,500,1e3]},"server-items-length":t.totalRowsCount},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"header",fn:function(n){var o=n.props.headers;return[t.isFilter?e("tr",t._l(o,(function(header){return e("td",{key:header.text},[header.filterable&&!header.filterSpecial?e(O.a,{staticClass:"ma-3",attrs:{clearable:"","hide-details":!0,id:header.value,outlined:"",dense:"",autocomplete:"off"},on:{input:function(e){return t.applyFilters(header.key,e)}},model:{value:t.filters[header.key],callback:function(e){t.$set(t.filters,header.key,e)},expression:"filters[header.key]"}}):t._e(),t._v(" "),header.filterSpecial&&"branch_id"==header.value?e(x.a,{attrs:{"hide-details":!0,clearable:"","item-value":"id","item-text":"name",outlined:"",dense:"",items:[{name:"All Branches",id:""}].concat(Object(C.a)(t.branchesList))},on:{change:function(e){return t.applyFilters("status",e)}},model:{value:t.filters[header.value],callback:function(e){t.$set(t.filters,header.value,e)},expression:"filters[header.value]"}}):t._e(),t._v(" "),header.filterSpecial&&"purpose_id"==header.value?e(x.a,{attrs:{"hide-details":!0,clearable:"","item-value":"id","item-text":"name",outlined:"",dense:"",items:[{name:"All",id:""}].concat(Object(C.a)(t.purposeList))},on:{change:function(e){return t.applyFilters("status",e)}},model:{value:t.filters[header.value],callback:function(e){t.$set(t.filters,header.value,e)},expression:"filters[header.value]"}}):t._e(),t._v(" "),header.filterSpecial&&"LogTime"==header.value?e(h.a,{ref:"from_menu_filter",refInFor:!0,attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(O.a,t._g(t._b({staticClass:"ma-3",attrs:{"hide-details":!t.from_date_filter,outlined:"",dense:"",readonly:"",placeholder:"Select Date",clearable:""},model:{value:t.filters[header.value],callback:function(e){t.$set(t.filters,header.value,e)},expression:"filters[header.value]"}},"v-text-field",o,!1),r))]}}],null,!0),model:{value:t.from_menu_filter,callback:function(e){t.from_menu_filter=e},expression:"from_menu_filter"}},[t._v(" "),e(m.a,{staticStyle:{height:"350px"},attrs:{"no-title":"",scrollable:""},on:{input:function(e){return t.applyFilters("status",e)}},model:{value:t.filters[header.value],callback:function(e){t.$set(t.filters,header.value,e)},expression:"filters[header.value]"}},[e(D.a),t._v(" "),e(r.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.filters[header.value]="",t.from_menu_filter=!1,t.applyFilters()}}},[t._v("\n                      Clear\n                    ")])],1)],1):t._e(),t._v(" "),header.filterSpecial&&"device.name"==header.value?e(x.a,{staticClass:"ma-3",attrs:{clearable:"",id:header.key,"hide-details":!0,outlined:"",dense:"",small:"","item-text":"name","item-value":"id",items:[{name:"All Devices",id:""}].concat(Object(C.a)(t.devices)),placeholder:"Device Name",flat:""},on:{change:function(e){return t.applyFilters("status",e)}},model:{value:t.filters[header.key],callback:function(e){t.$set(t.filters,header.key,e)},expression:"filters[header.key]"}}):t._e(),t._v(" "),header.filterSpecial&&"device.location"==header.value?e(x.a,{staticClass:"ma-3",attrs:{id:header.key,"hide-details":!0,outlined:"",clearable:"",dense:"",small:"","item-text":"location","item-value":"id",items:[{location:"All Locations",id:""}].concat(Object(C.a)(t.devices)),placeholder:"Location",flat:""},on:{change:function(e){return t.applyFilters("status",e)}},model:{value:t.filters[header.key],callback:function(e){t.$set(t.filters,header.key,e)},expression:"filters[header.key]"}}):t._e()],1)})),0):t._e()]}},{key:"item.UserID",fn:function(n){var r=n.item;return[e("strong",[t._v(" "+t._s(r.UserID?r.UserID:"---"))])]}},{key:"item.visitor_full_name",fn:function(n){var r,o,l=n.item;n.index;return[e(y.a,{attrs:{"no-gutters":""}},[e(c.a,{staticStyle:{padding:"5px","padding-left":"0px",width:"50px","max-width":"50px"}},[e(f.a,{staticStyle:{"border-radius":"50%",height:"auto",width:"50px","max-width":"50px"},attrs:{src:l.visitor&&l.visitor.logo?l.visitor.logo:"/no-profile-image.jpg"}})],1),t._v(" "),e(c.a,{staticStyle:{padding:"10px"}},[e("strong",[t._v("\n                  "+t._s(l.visitor?l.visitor.first_name:"---")+"\n                  "+t._s(l.visitor?l.visitor.last_name:"---"))]),t._v(" "),e("div",[t._v("\n                  "+t._s(l.visitor?t.caps(null==l||null===(r=l.visitor)||void 0===r||null===(o=r.zone)||void 0===o?void 0:o.name):"---")+"\n                ")])])],1)]}},{key:"item.branch_id",fn:function(n){var r,o,l,c,d,m=n.item;return[t._v("\n            "+t._s((null===(r=m.visitor)||void 0===r?void 0:r.branch)&&m.visitor.branch.branch_name||"---")+"\n            "),e("div",{staticClass:"secondary-value"},[t._v("\n              "+t._s((null===(o=m.visitor)||void 0===o||null===(l=o.host)||void 0===l?void 0:l.floor_number)||"---")+" -\n              "+t._s((null===(c=m.visitor)||void 0===c||null===(d=c.host)||void 0===d?void 0:d.flat_number)||"---")+"\n            ")])]}},{key:"item.purpose_id",fn:function(e){var n,r,o=e.item;return[t._v("\n            "+t._s((null===(n=o.visitor)||void 0===n||null===(r=n.purpose)||void 0===r?void 0:r.name)||"---")+"\n          ")]}},{key:"item.LogTime",fn:function(n){var r=n.item;return[t._v("\n            "+t._s(r.LogTime.split(" ")[1]||"---")+"\n            "),e("div",{staticClass:"secondary-value"},[t._v("\n              "+t._s(t.$dateFormat.format1(r.LogTime.split(" ")[0])||"---")+"\n            ")])]}},{key:"item.device.name",fn:function(e){var n=e.item;return[t._v("\n            "+t._s(n.device?t.caps(n.device.name):"---")+"\n          ")]}},{key:"item.device.location",fn:function(e){var n=e.item;return[t._v("\n            "+t._s(n.device?t.caps(n.device.location):"---")+"\n          ")]}}])})],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{GenerateLog:n(906).default})},1368:function(t,e,n){"use strict";n.r(e);var r=n(518),o=n(517),l=(n(37),n(23)),c=(n(6),n(11),n(88),{props:["name","height","branch_id"],data:function(){return{series:[{name:"In",data:[]},{name:"Out",data:[]}],chartOptions:{colors:["#14B012","#FF0000","#FFB600"],chart:{toolbar:{show:!1},type:"bar",width:"98%"},plotOptions:{bar:{horizontal:!1,columnWidth:"25%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:[]},yaxis:{title:{text:" "}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return t}}}}}},watch:{branch_id:function(){try{this.$store.commit("dashboard/every_hour_count",null),this.getDataFromApi()}catch(t){}}},created:function(){this.getDataFromApi()},mounted:function(){this.chartOptions.chart.height=this.height,this.chartOptions.series=this.series},methods:{viewLogs:function(){this.$router.push("/visitor_logs")},getDataFromApi:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.dispatch("dashboard/setDates",{user_type:"contractor"}),e.next=3,t.$store.dispatch("dashboard/contractor_every_hour_count");case 3:data=e.sent,t.renderChart(data);case 5:case"end":return e.stop()}}),e)})))()},renderChart:function(data){var t=this,e=0;data.forEach((function(n){t.chartOptions.series[0].data[e]=parseInt(n.in_count),t.chartOptions.series[1].data[e]=parseInt(n.out_count),t.chartOptions.xaxis.categories[e]=n.hour,e++}));try{new ApexCharts(document.querySelector("#"+this.name),this.chartOptions).render()}catch(t){}}}}),d=(n(1239),n(116)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticStyle:{width:"100%"}},[e(o.a,[e(r.a,{attrs:{md:"10"}},[e("h4",{staticClass:"pl-2"},[t._v("Today Access Logs - Hourly(in/out)")])]),t._v(" "),e(r.a,{staticClass:"menu-icon-right",attrs:{md:"2"}})],1),t._v(" "),e("div",{staticStyle:{width:"100%"},attrs:{id:t.name}})],1)}),[],!1,null,null,null);e.default=component.exports},1369:function(t,e,n){"use strict";n.r(e);n(55);var r={props:["items"],data:function(){return{totalCount:0,options:{noData:{text:"There's no data",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0},title:{text:"Contractors",align:"left",margin:0},colors:["#033F9B","#02B64B","#ffb600","#ff0000","#808080",""],series:[],chart:{toolbar:{show:!1},width:"100%",type:"donut",height:250},customTotalValue:0,plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontSize:"22px",fontFamily:"Rubik",color:"#dfsda",offsetY:-10},value:{show:!0,fontSize:"16px",fontFamily:"Helvetica, Arial, sans-serif",color:void 0,offsetY:16,formatter:function(t){return t}},total:{show:!0,label:"Total Expecting",color:"#373d3f",formatter:function(t){return t.config.customTotalValue}}}}}},labels:[],dataLabels:{enabled:!0,style:{fontSize:"10px"}},legend:{show:!0,fontSize:"10px"},responsive:[{breakpoint:480,options:{chart:{toolbar:{show:!1}},legend:{position:"bottom"}}}]}}},mounted:function(){var t=this;this.options.labels[0]="Expecting",this.options.series[0]=this.items.ExpectingCount,this.options.labels[1]="Checked-in",this.options.series[1]=this.items.CheckedInCount,this.options.labels[2]="Checked-out",this.options.series[2]=this.items.CheckedOutCount,this.options.labels[3]="Over Stay",this.options.series[3]=this.items.overStayCount,this.options.customTotalValue=this.items.ExpectingCount,setTimeout((function(){try{new ApexCharts(document.querySelector("#visitors"),t.options).render()}catch(t){}}),1e3)},methods:{},created:function(){}},o=(n(1241),n(116)),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticStyle:{padding:"0px",width:"100%"}},[e("div",{attrs:{id:"visitors",name:"visitors",height:"250",width:"250"}}),t._v(" "),0==t.totalCount?e("div",{staticStyle:{padding:"0px",margin:"auto","text-align":"center","vertical-align":"middle",height:"250px","padding-top":"36%"}},[t._v("\n    No Data available\n  ")]):t._e()])}),[],!1,null,"15a9af88",null);e.default=component.exports},1459:function(t,e,n){"use strict";n(1282)},1460:function(t,e,n){var r=n(21)((function(i){return i[1]}));r.push([t.i,'.font-11[data-v-c2cd6d4e]{font-size:11px}.card[data-v-c2cd6d4e]{word-wrap:break-word;background-clip:border-box;background-color:#fff;border:1px solid rgba(0,0,0,.125);border-radius:.25rem;display:flex;flex-direction:column;min-width:0}.card-title[data-v-c2cd6d4e]{margin-bottom:.5rem}.mb-0[data-v-c2cd6d4e]{margin-bottom:0!important}.p-2[data-v-c2cd6d4e]{padding:.5rem!important}.text-uppercase[data-v-c2cd6d4e]{text-transform:uppercase!important}.text-capitalize[data-v-c2cd6d4e]{text-transform:capitalize!important}.text-nowrap[data-v-c2cd6d4e]{white-space:nowrap!important}.text-white[data-v-c2cd6d4e]{--bs-text-opacity:1;color:#fff!important;color:rgba(255,255,255,var(--bs-text-opacity))!important;color:rgba(var(--bs-white-rgb),1)!important;color:rgba(var(--bs-white-rgb),var(--bs-text-opacity))!important}a[data-v-c2cd6d4e]{font-size:14px!important;outline:none!important}a[data-v-c2cd6d4e],a[data-v-c2cd6d4e]:hover{-webkit-text-decoration:none;text-decoration:none}.row[data-v-c2cd6d4e]{margin-bottom:0!important}.l-bg-green-dark[data-v-c2cd6d4e]{background:linear-gradient(135deg,#23bdb8,#65a986)!important;color:#fff}.l-bg-red-dark[data-v-c2cd6d4e]{background:linear-gradient(135deg,#f44336,#dc5d54)!important;color:#fff}.l-bg-orange-dark[data-v-c2cd6d4e]{background:linear-gradient(135deg,#f48665,#d68e41)!important;color:#fff}.l-bg-cyan-dark[data-v-c2cd6d4e]{background:linear-gradient(135deg,#289cf5,#4f8bb7)!important;color:#fff}.l-bg-purple-dark[data-v-c2cd6d4e]{background:linear-gradient(135deg,#8e4cf1,#c554bc)!important;color:#fff}.fas[data-v-c2cd6d4e]{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-feature-settings:normal;display:inline-block;font-style:normal;font-variant:normal;line-height:1;text-rendering:auto}.fa-calendar-check[data-v-c2cd6d4e]:before{content:"\\f274"}.fa-calendar-times[data-v-c2cd6d4e]:before{content:"\\f273"}.fa-clock[data-v-c2cd6d4e]:before{content:"\\f017"}.fas[data-v-c2cd6d4e]{font-family:"Font Awesome 5 Free";font-weight:900}.card[data-v-c2cd6d4e]{background:#fff;border:1px solid #f2f4f9;border-radius:10px;box-shadow:0 0 10px 0 rgba(183,192,206,.2);-webkit-box-shadow:0 0 10px 0 rgba(183,192,206,.2);margin-bottom:24px;min-height:50px;position:relative}.card .card-statistic-3[data-v-c2cd6d4e]{border-radius:3px;color:#fff;overflow:hidden;padding:15px;position:relative}.card .card-statistic-3 .card-icon-large[data-v-c2cd6d4e]{font-size:110px;height:50px;text-shadow:3px 7px rgba(0,0,0,.3);width:110px}.card .card-statistic-3 .card-icon[data-v-c2cd6d4e]{color:#000;line-height:50px;margin-left:15px;opacity:.1;position:absolute;right:-5px;text-align:center;top:20px}.card .card-statistic-3 .card-content .data-1[data-v-c2cd6d4e]{font-size:25px;font-weight:600}',""]),r.locals={},t.exports=r},1612:function(t,e,n){"use strict";n.r(e);var r=n(329),o=n(133),l=n(87),c=n(518),d=n(350),m=n(1019),v=n(147),_=n(517),f=n(349),h=(n(521),n(35),n(530),n(33),n(58),n(6),n(72),n(1366)),y=n(1367),x=n(1368),k={components:{VisitorPieChart:n(1369).default,VisitorHourChart:x.default,VisitorReport:h.default,VisitorLogs:y.default},data:function(){return{keyId:1,counter:1,loading:!1,dialogGeneralreport:!1,iframeDisplay:!1,iframeUrl:"",items:[],filterTitle:"",branch_id:null,dialogInformation:!1,statisticsFilter:""}},created:function(){this.initialize()},mounted:function(){},computed:{getCurrentDate:function(){var t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(r)}},filters:{get_decimal_value:function(t){return t?(Math.round(100*t)/100).toFixed(2):""},get_comma_seperator:function(t){return t?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""}},methods:{viewPopupInfo:function(t){this.statisticsFilter=t,console.log("this.statisticsFilter",this.statisticsFilter),this.keyId++,this.dialogInformation=!0},changeBranch1:function(t){console.log("branch_id",t),this.branch_id=t},filterStatus:function(t){this.filterTitle=t},openDialog:function(t){this.dialogData=t,this.dialog=!0},updateLink:function(t){return"https://stagingbackend.ideahrms.com/api"!=this.$axios.defaults.baseURL&&(t=t.replace("https://stagingbackend.ideahrms.com/api",this.$axios.defaults.baseURL)),t},closeDialogGeneralreport:function(){this.iframeDisplay=!1,this.dialogGeneralreport=!1},showDialogGeneralreport:function(t){this.iframeDisplay=!1,this.iframeUrl=this.updateLink(t),this.dialogGeneralreport=!0,this.iframeDisplay=!0},can:function(t){return this.$pagePermission.can(t,this)},initialize:function(){var t=this;this.loading=!0;var e={company_id:this.$auth.user.company_id,branch_id:this.branch_id>0?this.branch_id:null,visitor_type:"contractor"};this.$axios.get("visitor-count",{params:e}).then((function(e){var data=e.data;t.items=data,t.loading=!1}))}}},D=(n(1459),n(116)),component=Object(D.a)(k,(function(){var t=this,e=t._self._c;return t.can("visitor_access")?e("div",[e(d.a,{attrs:{"max-width":"1300px"},model:{value:t.dialogInformation,callback:function(e){t.dialogInformation=e},expression:"dialogInformation"}},[e(o.a,[e(l.c,{staticClass:"popup_background"},[e("span",{attrs:{dense:""}},[t._v(" Visitors Requests - "+t._s(t.statisticsFilter)+" ")]),t._v(" "),e(f.a),t._v(" "),e(v.a,{attrs:{dark:"",outlined:""},on:{click:function(e){t.dialogInformation=!1}}},[t._v("\n          mdi mdi-close-circle\n        ")])],1),t._v(" "),e(l.b,[e("VisitorRequestsList",{key:t.keyId,attrs:{isDashboard:!0,statsFilterValue:t.statisticsFilter}})],1)],1)],1),t._v(" "),t.loading?e("Preloader"):e("div",[e(d.a,{attrs:{persistent:"",fullscreen:!1,"max-width":"1600px"},model:{value:t.dialogGeneralreport,callback:function(e){t.dialogGeneralreport=e},expression:"dialogGeneralreport"}},[t.iframeDisplay?e("iframe",{staticStyle:{width:"100%",height:"600px"},attrs:{src:t.iframeUrl,frameborder:"0"}}):t._e()]),t._v(" "),e(_.a,[e(c.a,{attrs:{cols:"3"}},[e(o.a,{staticClass:"pa-2",staticStyle:{height:"150px",overflow:"hidden"}},[e(_.a,[e(c.a,{attrs:{cols:"7"}},[e("h3",[t._v("Checked In")]),t._v(" "),e(c.a,{staticClass:"text-left pa-0",attrs:{cols:"12"}},[e("div",{staticClass:"bold",staticStyle:{"font-size":"60px",color:"#33691e"}},[t._v("\n                  "+t._s(t.items.CheckedInCount)+"\n                ")])])],1),t._v(" "),e(c.a,{staticClass:"text-right",attrs:{cols:"5"}},[e("img",{staticStyle:{width:"100px",padding:"14%"},attrs:{src:n(1168)}})])],1)],1)],1),t._v(" "),e(c.a,{attrs:{cols:"3"}},[e(o.a,{staticClass:"pa-2",staticStyle:{height:"150px",overflow:"hidden"}},[e(_.a,[e(c.a,{attrs:{cols:"7"}},[e("h3",[t._v("Checked Out")]),t._v(" "),e(c.a,{staticClass:"text-left pa-0",attrs:{cols:"12"}},[e("div",{staticClass:"bold",staticStyle:{"font-size":"60px",color:"#b91e20"}},[t._v("\n                  "+t._s(t.items.CheckedOutCount)+"\n                ")])])],1),t._v(" "),e(c.a,{staticClass:"text-right",attrs:{cols:"5"}},[e("img",{staticStyle:{width:"100px",padding:"14%"},attrs:{src:n(1169)}})])],1)],1)],1),t._v(" "),e(c.a,{attrs:{cols:"6"}},[e(o.a,{staticClass:"pa-2",staticStyle:{height:"150px",overflow:"hidden"}},[e("h3",[t._v("Statistics")]),t._v(" "),e(_.a,{staticClass:"pt-10"},[e(c.a,{staticClass:"card1 rounded-5 text-left",attrs:{cols:"4"}},[e(_.a,[e(c.a,{staticClass:"text-center",attrs:{cols:"3"}},[e(r.a,{staticClass:"text-center",attrs:{size:"45",color:"#033F9B"}},[e(v.a,{staticClass:"pa-2",staticStyle:{color:"#fff"},attrs:{size:"35"}},[t._v("mdi-account-supervisor")])],1)],1),t._v(" "),e(c.a,{staticClass:"text-left pa-2",attrs:{cols:"9"}},[e("h3",[t._v("Expecting")]),t._v(" "),e("div",{staticClass:"bold",staticStyle:{"font-size":"30px","margin-top":"-5px",color:"#033f9b"}},[t._v("\n                    "+t._s(t.items.ExpectingCount)+"\n                  ")])])],1)],1),t._v(" "),e(m.a,{attrs:{vertical:""}}),t._v(" "),e(c.a,{staticClass:"card1 rounded-5 text-left",attrs:{cols:"4"}},[e(_.a,[e(c.a,{staticClass:"text-center",attrs:{cols:"3"}},[e(r.a,{staticClass:"text-center",attrs:{size:"45",color:"#ff0000"}},[e(v.a,{staticClass:"pa-2",staticStyle:{color:"#fff"},attrs:{size:"35"}},[t._v("mdi mdi-timer-sand-full")])],1)],1),t._v(" "),e(c.a,{staticClass:"text-left pa-2",attrs:{cols:"9"}},[e("h3",[t._v("Over Stay")]),t._v(" "),e("div",{staticClass:"bold",staticStyle:{"font-size":"30px","margin-top":"-5px",color:"#ff0000"}},[t._v("\n                    "+t._s(t.items.overStayCount)+"\n                  ")])])],1)],1),t._v(" "),e(m.a,{attrs:{vertical:""}}),t._v(" "),e(c.a,{staticClass:"card1 rounded-5 text-left",attrs:{cols:"4"}},[e(_.a,[e(c.a,{staticClass:"text-center",attrs:{cols:"3"}},[e(r.a,{staticClass:"text-center",attrs:{size:"45",color:"black"}},[e(v.a,{staticClass:"pa-2",staticStyle:{color:"#fff"},attrs:{size:"35"}},[t._v("mdi-account-details")])],1)],1),t._v(" "),e(c.a,{staticClass:"text-left pa-2",attrs:{cols:"9"}},[e("h3",[t._v("Total")]),t._v(" "),e("div",{staticClass:"bold",staticStyle:{"font-size":"30px","margin-top":"-5px",color:"black"}},[t._v("\n                    "+t._s(t.items.Total)+"\n                  ")])])],1)],1)],1)],1)],1)],1),t._v(" "),e(_.a,[e(c.a,{attrs:{md:"12"}},[e(o.a,{staticClass:"pa-2",staticStyle:{height:"250px",overflow:"hidden"}},[e(_.a,{attrs:{background:"",fill:""}},[e(c.a,{staticClass:"d-xs-flex",staticStyle:{flex:"auto"},attrs:{lg:"3",md:"3",sm:"3",xs:"3"}},[e("VisitorPieChart",{attrs:{items:t.items}})],1),t._v(" "),e(c.a,{staticClass:"d-xs-flex",staticStyle:{"border-left":"1px solid #ddd"},attrs:{lg:"9",md:"9",sm:"9",xs:"9"}},[e("VisitorHourChart",{attrs:{name:"visitor",branch_id:null,height:210}})],1)],1)],1)],1)],1),t._v(" "),e("CommunityVisitorDashboardDeviceLogs",{attrs:{label:"Contractor",user_type:"contractor"}})],1)],1):e("NoAccess")}),[],!1,null,"c2cd6d4e",null);e.default=component.exports;installComponents(component,{VisitorRequestsList:n(979).default,CommunityVisitorDashboardDeviceLogs:n(1206).default,Preloader:n(897).default,NoAccess:n(879).default})},855:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l}));var r=n(96),o=n(0),l=Object(o.k)("v-toolbar__title"),c=Object(o.k)("v-toolbar__items");r.a},877:function(t,e,n){var r=n(878).has;t.exports=function(t){return r(t),t}},878:function(t,e,n){var r=n(24),o=Set.prototype;t.exports={Set:Set,add:r(o.add),has:r(o.has),remove:r(o.delete),proto:o}},879:function(t,e,n){"use strict";n.r(e);var r=n(116),component=Object(r.a)({},(function(){this._self._c;return this._m(0)}),[function(){var t=this._self._c;return t("div",{staticClass:"text-center",staticStyle:{"margin-top":"25%"}},[t("b",[this._v("No Access")])])}],!1,null,null,null);e.default=component.exports},880:function(t,e,n){var r=n(24),o=n(522),l=n(878),c=l.Set,d=l.proto,m=r(d.forEach),v=r(d.keys),_=v(new c).next;t.exports=function(t,e,n){return n?o(v(t),e,_):m(t,e)}},883:function(t,e,n){var content=n(884);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("1377ef10",content,!0,{sourceMap:!1})},884:function(t,e,n){var r=n(21)((function(i){return i[1]}));r.push([t.i,".v-autocomplete.v-input>.v-input__control>.v-input__slot{cursor:text}.v-autocomplete input{align-self:center}.v-autocomplete.v-select.v-input--is-focused input{min-width:64px}.v-autocomplete:not(.v-input--is-focused).v-select--chips input{max-height:0;padding:0}.v-autocomplete--is-selecting-index input{opacity:0}.v-autocomplete.v-text-field--enclosed:not(.v-text-field--solo):not(.v-text-field--single-line):not(.v-text-field--outlined) .v-select__slot>input{margin-top:24px}.v-autocomplete.v-text-field--enclosed:not(.v-text-field--solo):not(.v-text-field--single-line):not(.v-text-field--outlined).v-input--dense .v-select__slot>input{margin-top:20px}.v-autocomplete__content.v-menu__content,.v-autocomplete__content.v-menu__content .v-card{border-radius:0}",""]),r.locals={},t.exports=r},888:function(t,e,n){var r=n(82),o=n(34),l=n(948),c=n(46),d=r("Set");t.exports=function(t){return function(t){return c(t)&&"number"==typeof t.size&&o(t.has)&&o(t.keys)}(t)?t:l(t)?new d(t):t}},889:function(t,e,n){var r=n(90),o=n(39),l=n(38),c=n(120),d=TypeError,m=Math.max,v=function(t,e,n,r){this.set=t,this.size=e,this.has=n,this.keys=r};v.prototype={getIterator:function(){return o(l(this.keys,this.set))},includes:function(t){return l(this.has,this.set,t)}},t.exports=function(t){o(t);var e=+t.size;if(e!=e)throw d("Invalid size");return new v(t,m(c(e),0),r(t.has),r(t.keys))}},891:function(t,e,n){var r=n(525),o=n(878);t.exports=r(o.proto,"size","get")||function(t){return t.size}},893:function(t,e,n){"use strict";n(12),n(14),n(17),n(11),n(18);var r=n(3),o=(n(80),n(6),n(13),n(89),n(99),n(216),n(41),n(61),n(883),n(892)),l=n(214),c=n(65),d=n(0);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var _=v(v({},o.b),{},{offsetY:!0,offsetOverflow:!0,transition:!1});e.a=o.a.extend({name:"v-autocomplete",props:{autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(t,e,n){return n.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}},hideNoData:Boolean,menuProps:{type:o.a.options.props.menuProps.type,default:function(){return _}},noFilter:Boolean,searchInput:{type:String}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return v(v({},o.a.options.computed.classes.call(this)),{},{"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var t=this;return this.selectedItems.map((function(e){return t.getValue(e)}))},hasDisplayedItems:function(){var t=this;return this.hideSelected?this.filteredItems.some((function(e){return!t.hasItem(e)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems:function(){var t=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(e){var n=Object(d.s)(e,t.itemText),text=null!=n?String(n):"";return t.filter(e,String(t.internalSearch),text)}))},internalSearch:{get:function(){return this.lazySearch},set:function(t){this.lazySearch!==t&&(this.lazySearch=t,this.$emit("update:search-input",t))}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var t=o.a.options.computed.$_menuProps.call(this);return t.contentClass="v-autocomplete__content ".concat(t.contentClass||"").trim(),v(v({},_),t)},searchIsDirty:function(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem:function(){var t=this;return this.multiple?null:this.selectedItems.find((function(i){return t.valueComparator(t.getValue(i),t.getValue(t.internalValue))}))},listData:function(){var data=o.a.options.computed.listData.call(this);return data.props=v(v({},data.props),{},{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),data}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused:function(t){t?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.blur(),this.updateSelf())},isMenuActive:function(t){!t&&this.hasSlot&&(this.lazySearch=null)},items:function(t,e){e&&e.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!t.length||this.activateMenu()},searchInput:function(t){this.lazySearch=t},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created:function(){this.setSearch()},destroyed:function(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged:function(t,e){var n=this;if(t!==e){if(!this.autoSelectFirst){var r=e[this.$refs.menu.listIndex];r?this.setMenuIndex(t.findIndex((function(i){return i===r}))):this.setMenuIndex(-1),this.$emit("update:list-index",this.$refs.menu.listIndex)}this.$nextTick((function(){n.internalSearch&&(1===t.length||n.autoSelectFirst)&&(n.$refs.menu.getTiles(),n.autoSelectFirst&&t.length&&(n.setMenuIndex(0),n.$emit("update:list-index",n.$refs.menu.listIndex)))}))}},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(t){this.searchIsDirty||(this.multiple&&t===d.z.left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&t===d.z.right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:t!==d.z.backspace&&t!==d.z.delete||this.deleteCurrentItem())},deleteCurrentItem:function(){var t=this.selectedIndex,e=this.selectedItems[t];if(this.isInteractive&&!this.getDisabled(e)){var n=this.selectedItems.length-1;if(-1!==this.selectedIndex||0===n){var r=t!==this.selectedItems.length-1?t:t-1;this.selectedItems[r]?this.selectItem(e):this.setValue(this.multiple?[]:null),this.selectedIndex=r}else this.selectedIndex=n}},clearableCallback:function(){this.internalSearch=null,o.a.options.methods.clearableCallback.call(this)},genInput:function(){var input=l.a.options.methods.genInput.call(this);return input.data=Object(c.a)(input.data,{attrs:{"aria-activedescendant":Object(d.q)(this.$refs.menu,"activeTile.id"),autocomplete:Object(d.q)(input.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),input},genInputSlot:function(){var slot=o.a.options.methods.genInputSlot.call(this);return slot.data.attrs.role="combobox",slot},genSelections:function(){return this.hasSlot||this.multiple?o.a.options.methods.genSelections.call(this):[]},onClick:function(t){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(t.target)||this.activateMenu())},onInput:function(t){if(!(this.selectedIndex>-1)&&t.target){var e=t.target,n=e.value;e.value&&this.activateMenu(),this.multiple||""!==n||this.deleteCurrentItem(),this.internalSearch=n,this.badInput=e.validity&&e.validity.badInput}},onKeyDown:function(t){var e=t.keyCode;!t.ctrlKey&&[d.z.home,d.z.end].includes(e)||o.a.options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onSpaceDown:function(t){},onTabDown:function(t){o.a.options.methods.onTabDown.call(this,t),this.updateSelf()},onUpDown:function(t){t.preventDefault(),this.activateMenu()},selectItem:function(t){o.a.options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems:function(){o.a.options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var t=this;this.$nextTick((function(){t.multiple&&t.internalSearch&&t.isMenuActive||(t.internalSearch=!t.selectedItems.length||t.multiple||t.hasSlot?null:t.getText(t.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.multiple||this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(t){return this.selectedValues.indexOf(this.getValue(t))>-1},onCopy:function(t){var e,n;if(-1!==this.selectedIndex){var r=this.selectedItems[this.selectedIndex],o=this.getText(r);null===(e=t.clipboardData)||void 0===e||e.setData("text/plain",o),null===(n=t.clipboardData)||void 0===n||n.setData("text/vnd.vuetify.autocomplete.item+plain",o),t.preventDefault()}}}})},894:function(t,e,n){"use strict";n.r(e);var r=n(212),o={props:["icon"]},l=n(116),component=Object(l.a)(o,(function(){var t=this._self._c;return t("div",{staticClass:"text-center",staticStyle:{width:"80px",margin:"25% auto"}},[t(r.a,{attrs:{src:"/preloaders/".concat(this.icon,".gif")}})],1)}),[],!1,null,null,null);e.default=component.exports},897:function(t,e,n){"use strict";n.r(e);var r=n(212),o=n(116),component=Object(o.a)({},(function(){var t=this._self._c;return t("div",{staticClass:"text-center",staticStyle:{width:"50px",margin:"25% auto"}},[t(r.a,{attrs:{src:"/preloaders/1.gif"}})],1)}),[],!1,null,null,null);e.default=component.exports},901:function(t,e,n){var content=n(902);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("c54b7bb4",content,!0,{sourceMap:!1})},902:function(t,e,n){var r=n(21)((function(i){return i[1]}));r.push([t.i,".theme--light.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea{color:#fff}.theme--light.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea::-moz-placeholder{color:hsla(0,0%,100%,.5)}.theme--light.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea::placeholder{color:hsla(0,0%,100%,.5)}.theme--dark.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea{color:rgba(0,0,0,.87)}.theme--dark.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea::-moz-placeholder{color:rgba(0,0,0,.38)}.theme--dark.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea::placeholder{color:rgba(0,0,0,.38)}.v-textarea textarea{align-self:stretch;flex:1 1 auto;line-height:1.75rem;max-width:100%;min-height:32px;outline:none;padding:0;width:100%}.v-textarea .v-text-field__prefix,.v-textarea .v-text-field__suffix{align-self:start;padding-top:2px}.v-textarea.v-text-field--box .v-text-field__prefix,.v-textarea.v-text-field--box textarea,.v-textarea.v-text-field--enclosed .v-text-field__prefix,.v-textarea.v-text-field--enclosed textarea{margin-top:24px}.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) textarea,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) textarea,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) textarea,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) textarea{margin-top:10px}.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-label,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-label,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-label,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-label{top:18px}.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense textarea,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense textarea,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense textarea,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense textarea{margin-top:6px}.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__prepend-outer{align-self:flex-start;margin-top:8px}.v-textarea.v-text-field--solo{align-items:flex-start}.v-textarea.v-text-field--solo .v-input__control textarea{caret-color:auto}.v-textarea.v-text-field--solo .v-input__append-inner,.v-textarea.v-text-field--solo .v-input__append-outer,.v-textarea.v-text-field--solo .v-input__prepend-inner,.v-textarea.v-text-field--solo .v-input__prepend-outer{align-self:flex-start;margin-top:12px}.v-application--is-ltr .v-textarea.v-text-field--solo .v-input__append-inner{padding-left:12px}.v-application--is-rtl .v-textarea.v-text-field--solo .v-input__append-inner{padding-right:12px}.v-textarea--auto-grow textarea{overflow:hidden}.v-textarea--no-resize textarea{resize:none}.v-textarea.v-text-field--enclosed .v-text-field__slot{align-self:stretch}.v-application--is-ltr .v-textarea.v-text-field--enclosed .v-text-field__slot{margin-right:-12px}.v-application--is-rtl .v-textarea.v-text-field--enclosed .v-text-field__slot{margin-left:-12px}.v-application--is-ltr .v-textarea.v-text-field--enclosed .v-text-field__slot textarea{padding-right:12px}.v-application--is-rtl .v-textarea.v-text-field--enclosed .v-text-field__slot textarea{padding-left:12px}",""]),r.locals={},t.exports=r},903:function(t,e,n){var r=n(878),o=n(880),l=r.Set,c=r.add;t.exports=function(t){var e=new l;return o(t,(function(t){c(e,t)})),e}},905:function(t,e,n){"use strict";n.r(e);var r=n(517),o=(n(56),n(33),n(266),n(943)),l=(n(939),{components:{DatePicker:o.a},props:["defaultFilterType","height","width","default_date_from","default_date_to"],data:function(){return{time3:null,from_date:"",from_menu:!1,to_date:"",to_menu:!1,loading:!1,showTimePanel:!1,filterType:1,search:""}},watch:{filterType:function(){this.showTimePanel=!0,this.FilterData()}},mounted:function(){},created:function(){this.defaultFilterType&&(this.filterType=this.defaultFilterType);var t=new Date;this.from_date=t.toISOString().slice(0,10),this.to_date=t.toISOString().slice(0,10),this.time3=[this.from_date,this.to_date]},methods:{commonMethod:function(){this.from_date&&this.to_date},CustomFilter:function(){if(this.from_date=this.time3[0],this.to_date=this.time3[1],this.from_date&&this.to_date){var data={from:this.from_date,to:this.to_date,type:this.filterType,search:this.search};this.$emit("filter-attr",data)}},FilterData:function(){this.from_date=this.time3[0],this.to_date=this.time3[1];var t=new Date;if(1==this.filterType)this.from_date=t.toISOString().slice(0,10),this.to_date=t.toISOString().slice(0,10);else if(2==this.filterType){var e=new Date;e.setDate(t.getDate()-1),this.from_date=e.toISOString().slice(0,10),this.to_date=e.toISOString().slice(0,10)}else if(3==this.filterType){var n=new Date(t);n.setDate(t.getDate()-t.getDay());var r=new Date(t);r.setDate(t.getDate()-t.getDay()+6),this.from_date=n.toISOString().slice(0,10),this.to_date=r.toISOString().slice(0,10)}else if(4==this.filterType)this.from_date=this.formatDate(new Date(t.getFullYear(),t.getMonth(),1)),this.to_date=this.formatDate(new Date(t.getFullYear(),t.getMonth()+1,0));else if(5==this.filterType)return void(this.time3=[]);if(this.from_date&&this.to_date){var data={from:this.from_date,to:this.to_date,type:this.filterType,search:this.search};this.$emit("filter-attr",data)}},formatDate:function(t){var e=t.getDate(),n=t.getMonth()+1;return t.getFullYear()+"-"+(n<10?"0":"")+n+"-"+(e<10?"0":"")+e}}}),c=(n(941),n(116)),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("div",[e(r.a,[e("date-picker",{staticStyle:{"padding-top":"7px",width:"100%"},attrs:{"value-type":"format",format:"YYYY-MM-DD",type:"date",range:""},on:{change:function(e){return t.CustomFilter()}},model:{value:t.time3,callback:function(e){t.time3=e},expression:"time3"}})],1)],1)}),[],!1,null,null,null);e.default=component.exports},906:function(t,e,n){"use strict";n.r(e);var r=n(893),o=n(114),l=n(518),c=n(1546),d=n(862),m=n(517),v=n(872),_=n(349),f=n(214),h=n(944),y=n(996),x=n(23),k=(n(41),n(99),n(6),n(11),n(88),{props:["endpoint","system_user_id","shift_type_id"],data:function(){return{Model:"Manual Log",date:null,menu:!1,loading:!1,time_menu:!1,reason:null,log_payload:{user_id:null,device_id:"",date:null,time:null,shift_type_id:null,branch_id:0,log_type:"auto"},headers:[{text:"UserID",align:"center",sortable:!1,value:"UserID"},{text:"DeviceID",align:"center",sortable:!1,value:"DeviceID"},{text:"LogTime",align:"center",sortable:!1,value:"LogTime"}],ids:[],devices:[],data:[],total:0,options:{},errors:[],employees:[],response:"",snackbar:!1}},mounted:function(){this.getDeviceList()},created:function(){var t=this;return Object(x.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.log_payload.user_id=t.system_user_id,e.next=4,t.$store.dispatch("fetchDropDowns",{key:"employeeList",endpoint:"employee-list",refresh:!0});case 4:t.employees=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching data:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},methods:{getDeviceList:function(){var t=this,e={params:{company_id:this.$auth.user.company_id}};this.$axios.get("/device_list_not_manual",e).then((function(e){var data=e.data;t.devices=data}))},getLastLog:function(t){var e=this;return Object(x.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.$axios.get("attendance_logs",{params:{company_id:e.$auth.user.company_id,UserID:t}}).then((function(t){var n,data=t.data;null!=data&&null!==(n=data.data)&&void 0!==n&&n.length&&["in","auto"].includes(data.data[0].log_type)?e.log_payload.log_type="out":e.log_payload.log_type="in"}));case 1:case"end":return n.stop()}}),n)})))()},handleChangeEvent:function(t){var e=this;return Object(x.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(r=e.employees.find((function(e){return t==e.system_user_id})))&&(e.log_payload.branch_id=r.branch_id||0);case 2:case"end":return n.stop()}}),n)})))()},submit:function(){var t=this;return Object(x.a)(regeneratorRuntime.mark((function e(){var n,r,o,time,l,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getLastLog(t.log_payload.user_id);case 2:if(n=t.log_payload,r=n.user_id,o=n.date,time=n.time,l=n.branch_id,c=n.device_id,d={branch_id:l,UserID:r,LogTime:o+" "+time,DeviceID:c,company_id:t.$auth.user.company_id,log_type:t.log_payload.log_type},t.loading=!0,r&&o&&time){e.next=8;break}return alert("Please enter required fields"),e.abrupt("return");case 8:t.$axios.post("/generate_log",d).then((function(e){var data=e.data;t.loading=!1,data.status?(t.render_report(o,t.shift_type_id),t.$emit("close-popup"),t.snackbar=!0,t.response=data.message):t.errors=data.errors})).catch((function(e){var n=e.message;t.snackbar=!0,t.response=n}));case 9:case"end":return e.stop()}}),e)})))()},render_report:function(t,e){var n=this,r={params:{dates:[t,t],UserIds:[this.log_payload.user_id],company_ids:[this.$auth.user.company_id],user_id:this.$auth.user.id,updated_by:this.$auth.user.id,reason:this.reason,employee_ids:[this.log_payload.user_id],shift_type_id:e}};this.$axios.get("render_logs",r).then((function(t){var data=t.data;n.loading=!1;var e="";data.forEach((function(element){e=e+" \n \n "+element})),n.response=e,n.loading=!1,n.$emit("update-data-table")})).catch((function(t){return console.log(t)}))}}}),D=n(116),component=Object(D.a)(k,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"text-center ma-2"},[e(v.a,{attrs:{top:"top",color:"secondary",elevation:"24"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.response)+"\n    ")])],1),t._v(" "),e(m.a,[e(l.a,{attrs:{md:"3"}},[e(r.a,{staticClass:"mt-5",attrs:{label:"Employee ID",placeholder:"Employee Device Id",items:t.employees,"item-text":"name_with_user_id","item-value":"system_user_id",dense:"",outlined:""},on:{change:function(e){return t.handleChangeEvent(t.log_payload.user_id)}},model:{value:t.log_payload.user_id,callback:function(e){t.$set(t.log_payload,"user_id",e)},expression:"log_payload.user_id"}}),t._v(" "),t.errors&&t.errors.user_id?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.user_id[0]))]):t._e()],1),t._v(" "),e(l.a,{attrs:{md:"3"}},[e(d.a,{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(f.a,t._g(t._b({staticClass:"mt-5",attrs:{label:"Date",dense:"",outlined:"",placeholder:"Date",readonly:""},model:{value:t.log_payload.date,callback:function(e){t.$set(t.log_payload,"date",e)},expression:"log_payload.date"}},"v-text-field",o,!1),r))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),e(c.a,{attrs:{"no-title":"",scrollable:""},model:{value:t.log_payload.date,callback:function(e){t.$set(t.log_payload,"date",e)},expression:"log_payload.date"}},[e(_.a),t._v(" "),e(o.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" Cancel ")]),t._v(" "),e(o.a,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.log_payload.date)}}},[t._v("\n            OK\n          ")])],1)],1)],1),t._v(" "),e(l.a,{attrs:{md:"3"}},[e(d.a,{ref:"time_menu_ref",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.log_payload.time,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){return t.$set(t.log_payload,"time",e)},"update:return-value":function(e){return t.$set(t.log_payload,"time",e)}},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(f.a,t._g(t._b({staticClass:"mt-5",attrs:{label:"Time",dense:"",outlined:"",placeholder:"Time",readonly:""},model:{value:t.log_payload.time,callback:function(e){t.$set(t.log_payload,"time",e)},expression:"log_payload.time"}},"v-text-field",o,!1),r))]}}]),model:{value:t.time_menu,callback:function(e){t.time_menu=e},expression:"time_menu"}},[t._v(" "),t.time_menu?e(y.a,{attrs:{"full-width":"",format:"24hr"},model:{value:t.log_payload.time,callback:function(e){t.$set(t.log_payload,"time",e)},expression:"log_payload.time"}},[e(_.a),t._v(" "),e(o.a,{attrs:{"x-small":"",color:"primary"},on:{click:function(e){t.time_menu=!1}}},[t._v("\n            Cancel\n          ")]),t._v(" "),e(o.a,{attrs:{"x-small":"",color:"primary"},on:{click:function(e){return t.$refs.time_menu_ref.save(t.log_payload.time)}}},[t._v("\n            OK\n          ")])],1):t._e()],1),t._v(" "),t.errors&&t.errors.time?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.time[0]))]):t._e()],1),t._v(" "),e(l.a,{attrs:{md:"3"}},[e(r.a,{staticClass:"mt-5",attrs:{label:"Device Name",placeholder:"Device Name",items:t.devices,"item-text":"name","item-value":"device_id",dense:"",outlined:""},on:{change:function(e){return t.handleChangeEvent(t.log_payload.user_id)}},model:{value:t.log_payload.device_id,callback:function(e){t.$set(t.log_payload,"device_id",e)},expression:"log_payload.device_id"}}),t._v(" "),t.errors&&t.errors.user_id?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.user_id[0]))]):t._e()],1),t._v(" "),e(l.a,{attrs:{cols:"12"}},[e(h.a,{attrs:{dense:"",outlined:"",placeholder:"Reason","auto-grow":"",required:""},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}}),t._v(" "),t.errors&&t.errors.reason?e("span",{staticClass:"error--text"},[t._v("\n        "+t._s(t.errors.reason[0])+"\n      ")]):t._e()],1),t._v(" "),e(l.a,{staticClass:"text-end",attrs:{col:"2"}},[e(o.a,{attrs:{small:"",color:"primary"},on:{click:t.submit}},[t._v(" Submit ")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},907:function(t,e,n){"use strict";n.r(e);var r=n(329),o=n(147),l=n(23),c=(n(6),n(11),n(88),{auth:!1,layout:"login",props:{PreviewImage:{type:String,default:"/no-profile-image.jpg"}},data:function(){return{isClicked:!1,isCamera:!1,videoStream:null,isUpload:!0,PlaceHolderImage:null}},mounted:function(){this.setupCamera(),this.PlaceHolderImage=this.PreviewImage},methods:{setupCamera:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,video;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({video:!0});case 3:n=e.sent,(video=t.$refs.video).srcObject=n,t.videoStream=n,video.play(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error accessing the camera: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},toggleCamera:function(){this.isClicked=!0,this.isUpload=!1,this.isCamera=!this.isCamera;var video=this.$refs.video,canvas=this.$refs.canvas,t=canvas.getContext("2d");canvas.width=video.videoWidth,canvas.height=video.videoHeight,t.drawImage(video,0,0,canvas.width,canvas.height),this.$emit("imageSrc",canvas.toDataURL("image/png")),this.isCamera?video.play():this.isCamera||(this.isUpload=!1,video.pause())},uploadPicture:function(){this.$refs.fileInput.click()},handleFileUpload:function(t){var e=this,n=t.target.files[0],r=new FileReader;r.onload=function(t){e.isUpload=!0,e.PlaceHolderImage=t.target.result,e.$emit("imageSrc",t.target.result)},r.readAsDataURL(n)},beforeDestroy:function(){this.videoStream&&this.videoStream.getTracks().forEach((function(track){return track.stop()}))}}}),d=n(116),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center"},[e(r.a,{staticStyle:{border:"1px solid #6946dd"},attrs:{size:"175"}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.isUpload,expression:"isUpload"}],ref:"img",attrs:{src:t.PlaceHolderImage,alt:""}}),t._v(" "),e("video",{directives:[{name:"show",rawName:"v-show",value:!t.isUpload,expression:"!isUpload"}],ref:"video",attrs:{width:"100%",autoplay:"",playsinline:""}}),t._v(" "),e("canvas",{ref:"canvas",staticStyle:{display:"none"}})]),t._v(" "),e("div",{staticClass:"pa-5"},[e(o.a,{attrs:{large:"",color:"primary"},on:{click:t.toggleCamera}},[t._v("mdi-camera")]),t._v(" "),e(o.a,{attrs:{large:"",color:"primary"},on:{click:t.uploadPicture}},[t._v("mdi-folder-open")])],1),t._v(" "),e("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.handleFileUpload}})],1)}),[],!1,null,null,null);e.default=component.exports},908:function(t,e,n){var content=n(942);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("20f2e8f4",content,!0,{sourceMap:!1})},910:function(t,e,n){var content=n(911);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("e09e1dc8",content,!0,{sourceMap:!1})},911:function(t,e,n){var r=n(21)((function(i){return i[1]}));r.push([t.i,".v-input--radio-group legend.v-label{cursor:text;font-size:14px;height:auto}.v-input--radio-group__input{border:none;cursor:default;display:flex;width:100%}.v-input--radio-group--column .v-input--radio-group__input>.v-label{padding-bottom:8px}.v-input--radio-group--row .v-input--radio-group__input>.v-label{padding-right:8px}.v-input--radio-group--row legend{align-self:center;display:inline-block}.v-input--radio-group--row .v-input--radio-group__input{flex-direction:row;flex-wrap:wrap}.v-input--radio-group--column legend{padding-bottom:8px}.v-input--radio-group--column .v-radio:not(:last-child):not(:only-child){margin-bottom:8px}.v-input--radio-group--column .v-input--radio-group__input{flex-direction:column}",""]),r.locals={},t.exports=r},912:function(t,e,n){var content=n(913);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("78a1b980",content,!0,{sourceMap:!1})},913:function(t,e,n){var r=n(21)((function(i){return i[1]}));r.push([t.i,".theme--light.v-radio--is-disabled label{color:rgba(0,0,0,.38)}.theme--dark.v-radio--is-disabled label{color:hsla(0,0%,100%,.5)}.v-radio{align-items:center;display:flex;height:auto;outline:none}.v-radio--is-disabled{cursor:default;pointer-events:none}.v-input--radio-group.v-input--radio-group--row .v-radio{margin-right:16px}",""]),r.locals={},t.exports=r},914:function(t,e,n){n(947)},915:function(t,e,n){"use strict";var r=n(7),o=n(877),l=n(878).add;r({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=o(this),e=0,n=arguments.length;e<n;e++)l(t,arguments[e]);return t}})},916:function(t,e,n){"use strict";var r=n(7),o=n(877),l=n(878).remove;r({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=o(this),n=!0,r=0,c=arguments.length;r<c;r++)t=l(e,arguments[r]),n=n&&t;return!!n}})},917:function(t,e,n){"use strict";var r=n(7),o=n(38),l=n(888),c=n(949);r({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return o(c,this,l(t))}})},918:function(t,e,n){"use strict";var r=n(7),o=n(66),l=n(877),c=n(880);r({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var e=l(this),n=o(t,arguments.length>1?arguments[1]:void 0);return!1!==c(e,(function(t){if(!n(t,t,e))return!1}),!0)}})},919:function(t,e,n){"use strict";var r=n(7),o=n(66),l=n(877),c=n(878),d=n(880),m=c.Set,v=c.add;r({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var e=l(this),n=o(t,arguments.length>1?arguments[1]:void 0),r=new m;return d(e,(function(t){n(t,t,e)&&v(r,t)})),r}})},920:function(t,e,n){"use strict";var r=n(7),o=n(66),l=n(877),c=n(880);r({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var e=l(this),n=o(t,arguments.length>1?arguments[1]:void 0),r=c(e,(function(t){if(n(t,t,e))return{value:t}}),!0);return r&&r.value}})},921:function(t,e,n){"use strict";var r=n(7),o=n(38),l=n(888),c=n(950);r({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return o(c,this,l(t))}})},922:function(t,e,n){"use strict";var r=n(7),o=n(38),l=n(888),c=n(951);r({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return o(c,this,l(t))}})},923:function(t,e,n){"use strict";var r=n(7),o=n(38),l=n(888),c=n(952);r({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return o(c,this,l(t))}})},924:function(t,e,n){"use strict";var r=n(7),o=n(38),l=n(888),c=n(953);r({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return o(c,this,l(t))}})},925:function(t,e,n){"use strict";var r=n(7),o=n(24),l=n(877),c=n(880),d=n(43),m=o([].join),v=o([].push);r({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var e=l(this),n=void 0===t?",":d(t),r=[];return c(e,(function(t){v(r,t)})),m(r,n)}})},926:function(t,e,n){"use strict";var r=n(7),o=n(66),l=n(877),c=n(878),d=n(880),m=c.Set,v=c.add;r({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var e=l(this),n=o(t,arguments.length>1?arguments[1]:void 0),r=new m;return d(e,(function(t){v(r,n(t,t,e))})),r}})},927:function(t,e,n){"use strict";var r=n(7),o=n(90),l=n(877),c=n(880),d=TypeError;r({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var e=l(this),n=arguments.length<2,r=n?void 0:arguments[1];if(o(t),c(e,(function(o){n?(n=!1,r=o):r=t(r,o,o,e)})),n)throw d("Reduce of empty set with no initial value");return r}})},928:function(t,e,n){"use strict";var r=n(7),o=n(66),l=n(877),c=n(880);r({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var e=l(this),n=o(t,arguments.length>1?arguments[1]:void 0);return!0===c(e,(function(t){if(n(t,t,e))return!0}),!0)}})},929:function(t,e,n){"use strict";var r=n(7),o=n(38),l=n(888),c=n(954);r({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return o(c,this,l(t))}})},930:function(t,e,n){"use strict";var r=n(7),o=n(38),l=n(888),c=n(955);r({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return o(c,this,l(t))}})},931:function(t,e,n){"use strict";n.r(e);var r=n(114),o=n(518),l=n(326),c=n(204),d=n(60),m=n(330),v=n(862),_=n(517),f=n(214),h=(n(62),n(45),n(35),{props:["label","default_value"],data:function(){return{menu:!1,selectedHour:1,selectedMinute:0,selectedPeriod:null,hours:[1,2,3,4,5,6,7,8,9,10,11,12],minutes:Array.from({length:60},(function(t,i){return i})),periods:["AM","PM"],finalTime:null}},created:function(){this.finalTime=this.default_value,this.$emit("getTime",this.default_value)},methods:{setPeriod:function(t){this.selectedHour="PM"==this.periods[t]?12+this.selectedHour:this.selectedHour-12,this.setFinalTime()},setHour:function(t){this.selectedPeriod&&"PM"==this.periods[t]?this.selectedHour=12+t:this.selectedHour=t,this.setFinalTime()},setMinute:function(t){this.selectedMinute=t,this.setFinalTime()},setFinalTime:function(){this.selectedHour>23?this.selectedHour=this.selectedHour-12:this.selectedHour<0&&(this.selectedHour=this.selectedHour+12);var t=this.selectedHour,e=this.selectedMinute;this.finalTime="".concat(t<10?"0".concat(t):t,":").concat(e<10?"0".concat(e):e),this.$emit("getTime",this.finalTime)}}}),y=n(116),component=Object(y.a)(h,(function(){var t=this,e=t._self._c;return e(v.a,{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(f.a,t._g(t._b({attrs:{"append-icon":"mdi-clock-time-four-outline",outlined:"",dense:"",readonly:"","hide-details":"",label:t.label},model:{value:t.finalTime,callback:function(e){t.finalTime=e},expression:"finalTime"}},"v-text-field",o,!1),r))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),e(_.a,{staticClass:"pa-2 mx-auto",attrs:{witdh:"",align:"center","no-gutters":"",justify:"center"}},[e(o.a,[e(l.a,{staticClass:"text-center",staticStyle:{overflow:"scroll"},attrs:{outlined:"",dense:"",height:"200"}},[e("div",{staticClass:"mx-auto"},[e("b",[t._v("Hours ")])]),t._v(" "),e(m.a,{attrs:{color:"primary"}},t._l(t.hours,(function(n,i){return e(c.a,{key:i},[e(d.a,[e(d.c,{on:{click:function(e){return t.setHour(n)}}},[t._v(t._s(n))])],1)],1)})),1)],1)],1),t._v(" "),e(o.a,[e(l.a,{staticClass:"text-center",staticStyle:{overflow:"scroll"},attrs:{outlined:"",dense:"",height:"200"}},[e("div",{staticClass:"mx-auto"},[e("b",[t._v("Minutes ")])]),t._v(" "),e(m.a,{attrs:{color:"primary"}},t._l(t.minutes,(function(n,i){return e(c.a,{key:i},[e(d.a,[e(d.c,{on:{click:function(e){return t.setMinute(n)}}},[t._v(t._s(n))])],1)],1)})),1)],1)],1),t._v(" "),e(o.a,[e(l.a,{staticClass:"text-center",staticStyle:{overflow:"scroll"},attrs:{outlined:"",dense:"",height:"200"}},[e(m.a,{attrs:{color:"primary"}},[t._l(t.periods,(function(n,r){return e(c.a,{key:r},[e(d.a,[e(d.c,{on:{click:function(e){return t.setPeriod(r)}}},[e("b",[t._v("\n                  "+t._s(n)+"\n                ")])])],1)],1)})),t._v(" "),e(c.a,[e(d.a,[e(d.c,[e("b")])],1)],1),t._v(" "),e(r.a,{staticClass:"primary",attrs:{large:""},on:{click:function(e){t.menu=!1}}},[t._v("Ok")])],2)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},932:function(t,e,n){"use strict";n.r(e);var r=n(114),o=n(133),l=n(87),c=n(518),d=n(875),m=n(1545),v=n(350),_=n(935),f=n(147),h=n(212),y=n(326),x=n(204),k=n(60),D=n(862),O=n(517),w=n(872),S=n(349),C=n(214),j=n(96),I=(n(37),n(12),n(14),n(17),n(11),n(18),n(23)),$=n(3);n(88),n(521),n(35),n(33),n(266),n(56),n(523),n(215),n(80),n(6),n(72),n(58),n(914),n(45),n(915),n(916),n(917),n(918),n(919),n(920),n(921),n(922),n(923),n(924),n(925),n(926),n(927),n(928),n(929),n(930),n(50),n(13),n(55);function F(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function P(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?F(Object(source),!0).forEach((function(e){Object($.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):F(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var T={props:["visitorIdentificationNumber","visitorFullName"],components:{Calender:n(905).default},data:function(){var t,e,n,r,o;return t={purposeList:[],branchesList:[],hostList:[],cumulativeIndex:1,perPage:10,currentPage:1,renderVisitorDialog:!1,users:[],formData:{max:10,date:(e=new Date,n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),"".concat(n,"-").concat(r,"-").concat(o)),company_id:0},attendancFilters:!1,filters:{},isFilter:!1,totalRowsCount:0,datatable_search_textbox:"",datatable_filter_date:"",filter_visitor_id:"",snack:!1,snackColor:"",snackText:"",date:null},Object($.a)(t,"filter_visitor_id",""),Object($.a)(t,"generateLogsDialog",!1),Object($.a)(t,"reportSync",!1),Object($.a)(t,"isCompany",!0),Object($.a)(t,"time_table_dialog",!1),Object($.a)(t,"log_details",!1),Object($.a)(t,"overtime",!1),Object($.a)(t,"options",{}),Object($.a)(t,"date",null),Object($.a)(t,"menu",!1),Object($.a)(t,"loading",!1),Object($.a)(t,"time_menu",!1),Object($.a)(t,"manual_time_menu",!1),Object($.a)(t,"Model","Visitor Reports"),Object($.a)(t,"endpoint","visitor_attendance"),Object($.a)(t,"search",""),Object($.a)(t,"snackbar",!1),Object($.a)(t,"add_manual_log",!1),Object($.a)(t,"dialog",!1),Object($.a)(t,"from_date",null),Object($.a)(t,"from_menu",!1),Object($.a)(t,"to_date",null),Object($.a)(t,"to_menu",!1),Object($.a)(t,"ids",[]),Object($.a)(t,"visitors",[]),Object($.a)(t,"DateRange",!0),Object($.a)(t,"devices",[]),Object($.a)(t,"valid",!0),Object($.a)(t,"nameRules",[function(t){return!!t||"reason is required"}]),Object($.a)(t,"timeRules",[function(t){return!!t||"time is required"}]),Object($.a)(t,"deviceRules",[function(t){return!!t||"device is required"}]),Object($.a)(t,"daily_menu",!1),Object($.a)(t,"daily_date",null),Object($.a)(t,"dailyDate",!1),Object($.a)(t,"editItems",{attendance_logs_id:"",UserID:"",device_id:"",user_id:"",reason:"",date:"",time:null}),Object($.a)(t,"loading",!1),Object($.a)(t,"total",0),Object($.a)(t,"log_headers",[{text:"#",align:"left",sortable:!1,filterable:!1,value:"sno"},{text:"Device",align:"left",sortable:!1,filterable:!1,value:"device.name"},{text:"Location",align:"left",sortable:!1,filterable:!1,value:"device.location"},{text:"Time",align:"left",sortable:!1,filterable:!1,value:"time"}]),Object($.a)(t,"headers",[{text:"#",align:"left",sortable:!1,filterable:!1,value:"sno"},{text:"Date",align:"left",sortable:!1,filterable:!1,filterSpecial:!0,value:"date"},{text:"Host",align:"left",sortable:!1,filterable:!1,filterSpecial:!1,value:"host_id",key:"host_id"},{text:"Purpose",align:"left",sortable:!1,filterable:!0,filterSpecial:!0,value:"purpose_id"},{text:"Check In",align:"left",sortable:!1,filterable:!0,filterSpecial:!1,value:"in"},{text:"Check Out",align:"left",sortable:!1,filterable:!0,filterSpecial:!1,value:"out"},{text:"Duration",align:"left",sortable:!1,filterable:!0,filterSpecial:!1,value:"total_hrs"},{text:"OverStay",align:"left",sortable:!1,filterable:!1,filterSpecial:!0,value:"overstay"},{text:"Options",value:"options",sortable:!1}]),Object($.a)(t,"frequency","Monthly"),Object($.a)(t,"payload",{from_date:null,to_date:null,daily_date:null,visitor_id:"",status:"All"}),Object($.a)(t,"log_payload",{user_id:null,device_id:"",date:null,time:null}),Object($.a)(t,"log_list",[]),Object($.a)(t,"snackbar",!1),Object($.a)(t,"editedIndex",-1),Object($.a)(t,"editedItem",{name:""}),Object($.a)(t,"defaultItem",{name:""}),Object($.a)(t,"response",""),Object($.a)(t,"data",[]),Object($.a)(t,"shifts",[]),Object($.a)(t,"errors",[]),Object($.a)(t,"custom_options",{}),Object($.a)(t,"max_date",null),Object($.a)(t,"item",null),Object($.a)(t,"viewDialog",!1),Object($.a)(t,"attendance",[]),t},computed:{formTitle:function(){return-1===this.editedIndex?"New":"Edit"}},watch:{dialog:function(t){t||this.close(),this.errors=[],this.search=""},options:{handler:function(){this.getDataFromApi()},deep:!0}},created:function(){this.loading=!0,this.getVisitors(),this.payload.daily_date=(new Date).toJSON().slice(0,10),this.custom_options={params:{per_page:1e3,company_id:this.$auth.user.company_id}},this.getDeviceList();var dt=new Date,t=dt.getFullYear(),e=dt.getMonth()+1,dd=new Date(dt.getFullYear(),e,0);if(e=e<10?"0"+e:e,this.payload.from_date="".concat(t,"-").concat(e,"-01"),this.payload.to_date="".concat(t,"-").concat(e,"-").concat(dd.getDate()),null==this.$auth.user.branch_id||0==this.$auth.user.branch_id){var n;(n=this.headers).splice.apply(n,[2,0].concat([{text:"Branch",align:"left",sortable:!1,value:"branch_id",filterable:!0,filterName:"branch_id",filterSpecial:!0}]))}},methods:{viewInfo:function(t){this.item=t.visitor,this.attendance=t,this.viewDialog=!0},filterAttr:function(data){this.payload.from_date=data.from,this.payload.to_date=data.to,this.getDataFromApi()},addUser:function(){this.users.push({visitor_id:""})},removeUser:function(t){this.users.splice(t,1)},submitData:function(){var t=this;this.formData.userIds=this.users.map((function(t){return t.visitor_id})),this.formData.company_id=this.$auth.user.company_id,this.$axios.post("/render_daily_report",this.formData).then((function(e){var data=e.data;t.getDataFromApi(),t.snackbar=!0,t.response=data.message,t.dialog=!1})).catch((function(e){var n=e.message;t.snackbar=!0,t.response=n}))},datatable_cancel:function(){this.datatable_search_textbox=""},datatable_open:function(){this.datatable_search_textbox=""},datatable_close:function(){this.loading=!1},processFilterDates:function(){var t=new Date(this.payload.from_date);t.setDate(t.getDate()+("Weekly"==this.frequency?6:30));var e=t.getDate().toString().padStart(2,"0"),n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getFullYear();"Custom"!==this.frequency&&(this.payload.to_date="".concat(r,"-").concat(n,"-").concat(e)),this.max_date="".concat(r,"-").concat(n,"-").concat(e),this.getDataFromApi()},set_date_save:function(t,e){t.save(e),this.processFilterDates()},changeReportFrequency:function(){this.processFilterDates()},applyFilters:function(t,e){this.getDataFromApi()},toggleFilter:function(){var t=this;return Object(I.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isFilter=!t.isFilter,t.isFilter&&(t.refresh=!0,t.handleChangeEvent());case 2:case"end":return e.stop()}}),e)})))()},handleChangeEvent:function(){var t=this;return Object(I.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("fetchDropDowns",{key:"branchList",endpoint:"branch-list"});case 2:return t.branchesList=e.sent,e.next=5,t.$store.dispatch("fetchDropDowns",{key:"hostList",endpoint:"host_list"});case 5:return t.hostList=e.sent,e.next=8,t.$store.dispatch("fetchDropDowns",{key:"purposeList",endpoint:"purpose_list"});case 8:t.purposeList=e.sent;case 9:case"end":return e.stop()}}),e)})))()},clearFilters:function(){this.filters={},this.isFilter=!1,this.getDataFromApi()},getDeviceList:function(){var t=this,e={params:{company_id:this.$auth.user.company_id}};this.$axios.get("/device_list",e).then((function(e){var data=e.data;t.devices=data}))},store_schedule:function(){var t=this,e=this.log_payload,n={UserID:e.user_id,LogTime:e.date+" "+e.time,DeviceID:e.device_id,company_id:this.$auth.user.company_id};this.loading=!0,this.$axios.post("/generate_log",n).then((function(e){e.data;t.getDataFromApi(),t.add_manual_log=!1,t.loading=!1})).catch((function(e){var n=e.message;t.snackbar=!0,t.response=n}))},setVisitorId:function(t){this.$store.commit("visitor_id",t)},getVisitors:function(){var t=this;return Object(I.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:{company_id:t.$auth.user.company_id}},e.next=3,t.$axios.get("/visitors_with_type",n).then((function(e){var data=e.data;t.visitors=data,t.visitors.unshift({system_user_id:"",name_with_user_id:"Select All"})}));case 3:case"end":return e.stop()}}),e)})))()},caps:function(t){return t.replace(/_/g," ").replace(/\b\w/g,(function(t){return t.toUpperCase()}))},can:function(t){return this.$pagePermission.can(t,this)},getDataFromApi:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.endpoint,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.loading=!0;var o=this.options,l=o.sortBy,c=o.sortDesc,d=o.page,m=o.itemsPerPage,v=l?l[0]:"",_=c?c[0]:"";if("Custom"==this.frequency){if(null==this.payload.from_date)return!1;if(null==this.payload.to_date)return!1}var f={params:P(P(P({page:d,sortBy:v,sortDesc:_,per_page:m,company_id:this.$auth.user.company_id},this.payload),{},{frequency:this.frequency},this.filters),{},{visitorIdentificationNumber:this.visitorIdentificationNumber})};this.currentPage=d,""!=n&&(f.params[n]=r),this.$axios.get(e,f).then(function(){var e=Object(I.a)(regeneratorRuntime.mark((function e(r){var data,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(data=r.data,""==n||0!=data.data.length){e.next=7;break}return t.snack=!0,t.snackColor="error",t.snackText="No Results Found",t.loading=!1,e.abrupt("return",!1);case 7:return t.data=data.data,o=new Set,e.next=11,data.data.filter((function(t){var e=t.visitor_id;return!o.has(e)&&(o.add(e),!0)}));case 11:t.users=e.sent,t.total=data.total,t.loading=!1,t.totalRowsCount=data.total;case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},editItem:function(t){this.dialog=!0,this.editItems.UserID=t.visitor_id,this.editItems.date=t.edit_date},update:function(){var t=this;if(this.$refs.form.validate()){var e={UserID:this.editItems.UserID,LogTime:this.editItems.date+" "+this.editItems.time,DeviceID:this.editItems.device_id,user_id:this.editItems.UserID,company_id:this.$auth.user.company_id,reason:this.editItems.reason};this.$axios.post("/generate_manual_log",e).then((function(e){var data=e.data;t.loading=!1,data.status?(t.snackbar=!0,t.response=data.message,t.close()):t.errors=data.errors})).catch((function(t){return console.log(t)}))}},renderByType:function(t){var e=this,n=this.editItems.UserID,r=this.editItems.date;if(n&&r){var o={params:{date:this.editItems.date,UserID:this.editItems.UserID,updated_by:this.$auth.user.id,company_id:this.$auth.user.company_id,manual_entry:!0,reason:this.editItems.reason}};this.$axios.get("/"+t,o).then((function(t){var data=t.data;e.loading=!1,e.snackbar=!0,e.response=data.message,e.getDataFromApi()})).catch((function(t){return console.log(t)}))}else alert("System User Id and Date field is required")},viewItem:function(t){var e=this;this.log_list=[];var n={params:{per_page:500,UserID:t.system_user_id,LogTime:t.edit_date,company_id:this.$auth.user.company_id}};this.log_details=!0,this.$axios.get("visitor_log_list",n).then((function(t){var data=t.data;e.log_list=data.data}))},close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}),300)},process_file:function(t){if(this.data.length){var e=this.payload,n=e.visitor_id,r=e.daily_date,o=e.from_date,l=e.to_date,c=e.status,d=this.frequency,m=this.$auth.user.company_id,v=(this.options.itemsPerPage,"");v+="".concat("http://192.168.88.30:8000/api/visitor_attendance_report"),v+="?company_id=".concat(m),v+="&status=".concat(c),v+="&visitor_id=".concat(n),v+="&frequency=".concat(d),v+="&action=".concat(t),v+="&per_page=".concat(20),v+="Daily"==d?"&daily_date=".concat(r):"&from_date=".concat(o,"&to_date=").concat(l);var _=document.createElement("a");_.setAttribute("href",v),_.setAttribute("target","_blank"),_.click(),this.getDataFromApi()}else alert("No record found")}}},A=T,M=n(116),component=Object(M.a)(A,(function(){var t=this,e=t._self._c;return e("div",[e(w.a,{attrs:{top:"top",color:"secondary",elevation:"24"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.response)+"\n  ")]),t._v(" "),e(w.a,{attrs:{timeout:3e3,color:t.snackColor},scopedSlots:t._u([{key:"action",fn:function(n){var o=n.attrs;return[e(r.a,t._b({attrs:{text:""},on:{click:function(e){t.snack=!1}}},"v-btn",o,!1),[t._v(" Close ")])]}}]),model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n    "+t._s(t.snackText)+"\n    ")]),t._v(" "),e(O.a,[e(c.a,{staticStyle:{padding:"0px"}},[e(o.a,{staticClass:"mb-5 pa-0",staticStyle:{padding:"0px"},attrs:{elevation:"0"}},[e(m.a,{staticClass:"elevation-1",attrs:{"hide-default-footer":"",dense:"",headers:t.headers,items:t.data,loading:t.loading,options:t.options,"footer-props":{itemsPerPageOptions:[10,50,100,500,1e3]},"model-value":"data.id","server-items-length":t.totalRowsCount},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.sno",fn:function(e){var n=e.item;e.index;return[t._v("\n            "+t._s(t.currentPage?(t.currentPage-1)*t.perPage+(t.cumulativeIndex+t.data.indexOf(n)):"")+"\n          ")]}},{key:"item.visitor_first_name",fn:function(n){var r=n.item;return[e(O.a,{attrs:{"no-gutters":""}},[e(c.a,{staticStyle:{padding:"5px","padding-left":"0px","max-width":"50px"}},[e(h.a,{staticStyle:{"border-radius":"10%",height:"auto",width:"50px","max-width":"50px"},attrs:{src:r.visitor&&r.visitor.logo?r.visitor.logo:"/no-profile-image.jpg"}})],1),t._v(" "),e(c.a,{staticStyle:{padding:"10px"}},[e("strong",[t._v("\n                  "+t._s(r.visitor?r.visitor.first_name:"---")+"\n                  "+t._s(r.visitor?r.visitor.last_name:"---"))]),t._v(" "),e("div",{staticClass:"secondary-value"},[t._v("\n                  "+t._s(r.visitor?r.visitor.phone_number:"---")+"\n                ")]),t._v(" "),e("div",{staticClass:"secondary-value"},[t._v("\n                  "+t._s(r.visitor?r.visitor.email:"---")+"\n                ")])])],1)]}},{key:"item.branch_id",fn:function(e){var n=e.item;return[t._v("\n            "+t._s(n.branch&&n.branch.branch_name)+"\n          ")]}},{key:"item.purpose_id",fn:function(e){var n,r=e.item;return[t._v("\n            "+t._s(r.visitor&&(null===(n=r.visitor.purpose)||void 0===n?void 0:n.name))+"\n          ")]}},{key:"item.in",fn:function(n){var r=n.item;n.index;return[e("div",[t._v("\n              "+t._s(r.in?r.in:"---")+"\n              "),e("div",{staticClass:"secondary-value"},[t._v("\n                "+t._s(r.device_in_name?r.device_in_name.name:"---")+"\n              ")])])]}},{key:"item.out",fn:function(n){var r=n.item;n.index;return[e("div",[t._v("\n              "+t._s(r.out?r.out:"---")+"\n              "),e("div",{staticClass:"secondary-value"},[t._v("\n                "+t._s(r.device_out_name?r.device_out_name.name:"---")+"\n              ")])])]}},{key:"item.overstay",fn:function(n){var r=n.item;n.index;return[e("div",{style:r.over_stay?"color:red":" ;"},[t._v("\n              "+t._s(r.over_stay?r.over_stay:"---")+"\n            ")])]}},{key:"item.host_id",fn:function(n){var r,o,l,c=n.item;n.index;return[e("div",[t._v("\n              "+t._s(c.visitor.host?null===(r=c.visitor.host.employee)||void 0===r?void 0:r.first_name:"---")+"\n              "+t._s(c.visitor.host?null===(o=c.visitor.host.employee)||void 0===o?void 0:o.last_name:"---")+"\n            ")]),t._v(" "),e("div",{staticClass:"secondary-value"},[t._v("\n              "+t._s(c.visitor.host?null===(l=c.visitor.host.employee)||void 0===l?void 0:l.phone_number:"---")+"\n            ")])]}},{key:"item.options",fn:function(n){var o=n.item;return[e(D.a,{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(r.a,t._g(t._b({attrs:{"dark-2":"",icon:""}},"v-btn",l,!1),o),[e(f.a,[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[t._v(" "),e(y.a,{attrs:{width:"150",dense:""}},[e(x.a,{on:{click:function(e){return t.viewItem(o)}}},[e(k.c,[e(f.a,{attrs:{small:""}},[t._v(" mdi-history ")]),t._v("\n                    Device Logs\n                  ")],1)],1)],1)],1)]}}])})],1)],1)],1),t._v(" "),e(O.a,{attrs:{justify:"center"}},[e(v.a,{attrs:{persistent:"","max-width":"600px"},model:{value:t.log_details,callback:function(e){t.log_details=e},expression:"log_details"}},[e(o.a,{staticClass:"darken-1"},[e(j.a,{staticClass:"popup_background",attrs:{dense:"",flat:""}},[e("span",{staticClass:"text-h5 pa-2"},[t._v("Log Details")]),t._v(" "),e(S.a),t._v(" "),e(S.a),t._v(" "),e(f.a,{on:{click:function(e){t.log_details=!1}}},[t._v("mdi-close-circle-outline")])],1),t._v(" "),e(l.b,[e("div",{staticClass:"pt-5"},[e(m.a,{staticClass:"elevation-1",attrs:{headers:t.log_headers,items:t.log_list,"hide-default-footer":""},scopedSlots:t._u([{key:"item.sno",fn:function(e){e.item;var n=e.index;return[t._v("\n                "+t._s(++n)+"\n              ")]}}])})],1)])],1)],1),t._v(" "),e(v.a,{attrs:{persistent:"","max-width":"500px"},model:{value:t.renderVisitorDialog,callback:function(e){t.renderVisitorDialog=e},expression:"renderVisitorDialog"}},[e(o.a,[e(l.c,{staticClass:"popup_background"},[e("span",{staticClass:"headline"},[t._v("Submit Data")]),t._v(" "),e(S.a),t._v(" "),e(r.a,{attrs:{"x-small":"",ripple:!1,text:"",title:"Add user"},on:{click:t.addUser}},[e(f.a,{attrs:{dark:""}},[t._v("mdi-plus-circle")])],1)],1),t._v(" "),e(l.b,[e(_.a,{on:{submit:function(e){return e.preventDefault(),t.submitData.apply(null,arguments)}}},[e(d.a,[e(O.a,[e(c.a,{attrs:{cols:"12"}},[e(C.a,{attrs:{label:"Date",required:""},model:{value:t.formData.date,callback:function(e){t.$set(t.formData,"date",e)},expression:"formData.date"}})],1),t._v(" "),e(c.a,{attrs:{cols:"12"}},t._l(t.users,(function(n,i){return e(O.a,{key:i},[e(c.a,{attrs:{cols:"10"}},[e(C.a,{attrs:{label:"User Id",required:""},model:{value:n.visitor_id,callback:function(e){t.$set(n,"visitor_id",e)},expression:"user.visitor_id"}})],1),t._v(" "),e(c.a,{attrs:{cols:"2"}},[e(f.a,{attrs:{color:"error"},on:{click:function(e){return t.removeUser(i)}}},[t._v("mdi-delete")])],1)],1)})),1)],1)],1)],1)],1),t._v(" "),e(l.a,[e(S.a),t._v(" "),e(r.a,{attrs:{small:"",color:"primary"},on:{click:t.submitData}},[t._v("Submit")]),t._v(" "),e(r.a,{attrs:{small:"",color:"gray"},on:{click:function(e){t.renderVisitorDialog=!1}}},[t._v("Cancel")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},935:function(t,e,n){"use strict";var r=n(3),o=(n(41),n(61),n(351),n(13),n(6),n(11),n(55),n(99),n(12),n(14),n(17),n(18),n(8)),l=n(118),c=n(148);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=Object(o.a)(l.a,Object(c.b)("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(input){var t=this,e=function(input){return input.$watch("hasError",(function(e){t.$set(t.errorBag,input._uid,e)}),{immediate:!0})},n={_uid:input._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?n.shouldValidate=input.$watch("shouldValidate",(function(r){r&&(t.errorBag.hasOwnProperty(input._uid)||(n.valid=e(input)))})):n.valid=e(input),n},validate:function(){return 0===this.inputs.filter((function(input){return!input.validate(!0)})).length},reset:function(){this.inputs.forEach((function(input){return input.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(input){return input.resetValidation()})),this.resetErrorBag()},register:function(input){this.inputs.push(input),this.watchers.push(this.watchInput(input))},unregister:function(input){var t=this.inputs.find((function(i){return i._uid===input._uid}));if(t){var e=this.watchers.find((function(i){return i._uid===t._uid}));e&&(e.valid(),e.shouldValidate()),this.watchers=this.watchers.filter((function(i){return i._uid!==t._uid})),this.inputs=this.inputs.filter((function(i){return i._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:m({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},938:function(t,e,n){"use strict";n.r(e);var r=n(893),o=n(114),l=n(133),c=n(87),d=n(518),m=n(875),v=n(350),_=n(1019),f=n(147),h=n(517),y=n(349),x=n(214),k=n(96),D=(n(37),{props:["buttonVisible","type"],data:function(){return{endpoint:"purpose",payload:{},errors:[],loading:!1,response:null,DialogBox:!1}},mounted:function(){this.type&&(this.payload.type=this.type)},methods:{submit:function(){var t=this;this.payload.company_id=this.$auth.user.company_id,this.$axios.post(this.endpoint,this.payload).then((function(e){var data=e.data,n="contractor"==t.type?"Activity":"Purpose";t.errors=[],t.$emit("success",t.type?data.record.id:n+" inserted successfully"),t.DialogBox=!1})).catch((function(e){var n=e.response;if(!n)return!1;var r=n.status,data=n.data,o=n.statusText;r&&422==r?t.errors=data.errors:t.response=o}))}}}),O=n(116),component=Object(O.a)(D,(function(){var t=this,e=t._self._c;return e(v.a,{attrs:{persistent:"",width:"500"},scopedSlots:t._u([t.buttonVisible?{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[e("span",t._g(t._b({staticStyle:{cursor:"pointer"}},"span",l,!1),r),[e(o.a,{staticClass:"primary",attrs:{dense:"",small:"",text:"",title:"Create Tanent"}},[t._v("\n        Create "+t._s("contractor"==t.type?"Activity":"Purpose")+"\n        "),e(f.a,{attrs:{right:"",dark:""}},[t._v("mdi-plus-circle-outline")])],1)],1)]}}:null],null,!0),model:{value:t.DialogBox,callback:function(e){t.DialogBox=e},expression:"DialogBox"}},[t._v(" "),e(l.a,[e(k.a,{staticClass:"popup_background",attrs:{flat:"",dense:""}},[t._v("\n      Create "+t._s("contractor"==t.type?"Activity":"Purpose")+"\n      "),e(y.a),t._v(" "),e("span",[e(f.a,{staticClass:"ml-2",attrs:{dark:""},on:{click:function(e){t.DialogBox=!1}}},[t._v("\n          mdi-close-circle-outline")])],1)],1),t._v(" "),e(m.a,[e(h.a,[t.type?t._e():e(d.a,{attrs:{cols:"12"}},[e(r.a,{attrs:{label:"Type",outlined:"",items:["contractor","visitor","delivery"],dense:"","hide-details":!t.errors.type,"error-messages":t.errors&&t.errors.type?t.errors.type[0]:""},model:{value:t.payload.type,callback:function(e){t.$set(t.payload,"type",e)},expression:"payload.type"}})],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e(x.a,{staticClass:"text-center",attrs:{label:"".concat("contractor"==t.type?"Activity":"Purpose"),dense:"",outlined:"","hide-details":!t.errors.name,error:t.errors.name,"error-messages":t.errors&&t.errors.name?t.errors.name[0]:""},model:{value:t.payload.name,callback:function(e){t.$set(t.payload,"name",e)},expression:"payload.name"}})],1)],1)],1),t._v(" "),e(_.a),t._v(" "),e(c.a,[e(y.a),t._v(" "),e("div",{staticClass:"text-right"},[e(o.a,{attrs:{small:"",color:"grey white--text"},on:{click:function(e){t.DialogBox=!1}}},[t._v("\n          Close\n        ")]),t._v(" "),e(o.a,{attrs:{small:"",loading:t.loading,color:"primary"},on:{click:t.submit}},[t._v("\n          Submit\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},941:function(t,e,n){"use strict";n(908)},942:function(t,e,n){var r=n(21)((function(i){return i[1]}));r.push([t.i,".mx-input{border:1px solid #9e9e9e!important;color:#000!important}.mx-datepicker{width:200px}.mx-table-date td,.mx-table-date th{text-align:center!important}",""]),r.locals={},t.exports=r},944:function(t,e,n){"use strict";n(12),n(14),n(13),n(6),n(17),n(11),n(18);var r=n(3),o=(n(28),n(55),n(901),n(214)),l=n(8);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var d=Object(l.a)(o.a);e.a=d.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},o.a.options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{autoGrow:function(t){var e=this;this.$nextTick((function(){var n;t?e.calculateInputHeight():null===(n=e.$refs.input)||void 0===n||n.style.removeProperty("height")}))},lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var input=this.$refs.input;if(input){input.style.height="0";var t=input.scrollHeight,e=parseInt(this.rows,10)*parseFloat(this.rowHeight);input.style.height=Math.max(e,t)+"px"}},genInput:function(){var input=o.a.options.methods.genInput.call(this);return input.tag="textarea",delete input.data.attrs.type,input.data.attrs.rows=this.rows,input},onInput:function(t){o.a.options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},945:function(t,e,n){"use strict";n.r(e);var r=n(329),o=n(133),l=n(518),c=n(875),d=n(1019),m=n(517),v=(n(37),n(23)),_=(n(88),n(33),n(266),n(58),n(933),n(521),n(35),{props:["UserID","visitor_type"],data:function(){return{loading:!1,dialog:!1,payload:{},searchCard:!0,infoCard:!1,item:{},response:null,firstItem:{},lastItem:{},errors:[]}},created:function(){var t=this;return Object(v.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!1,t.search();case 2:case"end":return e.stop()}}),e)})))()},methods:{caps:function(t){if(t)return t.replace(/\b\w/g,(function(t){return t.toUpperCase()}))},close:function(){this.searchCard=!0,this.infoCard=!1,this.dialog=!1},search:function(){var t=this;console.log(this.UserID),this.loading=!0,this.response=null,this.$axios.get("get_logs_by_visitor_id",{params:{per_page:100,company_id:this.$auth.user.company_id,UserID:this.UserID,id:this.UserID,user_type:this.visitor_type}}).then((function(e){var data=e.data;if(!data)return t.response="No record found",void(t.loading=!1);t.response=null,t.searchCard=!1,t.infoCard=!0,t.item=data,t.loading=!1;var n=data.attendance_logs;t.firstItem=n[0],t.lastItem=n[n.length-1]})).catch((function(e){var n=e.response;t.response=null,t.searchCard=!1,t.infoCard=!0,t.data=[],t.loading=!1,console.log("error:",n)}))},checkout:function(){var t=this;return Object(v.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={UserID:t.UserID,LogTime:t.getCurrentDateTime(),DeviceID:"Manual",company_id:t.$auth.user.company_id,log_type:"out",visitor_id:t.item.id},t.loading=!0,t.$axios.post("generate_log",n).then((function(e){var data=e.data;t.loading=!1,data.status?(t.$emit("success","Checkout has been recorded"),t.dialog=!1):t.errors=data.errors})).catch((function(e){e.message;t.$emit("response","Checkout cannot be done")}));case 3:case"end":return e.stop()}}),e)})))()},getCurrentDateTime:function(){var t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),o=String(t.getHours()).padStart(2,"0"),l=String(t.getMinutes()).padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(r," ").concat(o,":").concat(l)}}}),f=n(116),component=Object(f.a)(_,(function(){var t,e,n,v=this,_=v._self._c;return _(o.a,[_(c.a,[_(m.a,{attrs:{"no-gutters":""}},[_(l.a,{staticStyle:{"border-right":"1px solid #dddddd"},attrs:{cols:"4"}},[_("h3",[v._v(v._s(v.caps(null===(t=v.item)||void 0===t?void 0:t.visitor_type)))]),v._v(" "),_(m.a,{staticClass:"pa-0 ma-0"},[_(l.a,{attrs:{cols:"12"}},[_(m.a,{attrs:{"no-gutters":""}},[_(l.a,{staticClass:"text-center",attrs:{cols:"12"}},[_(r.a,{attrs:{size:"100"}},[_("img",{staticStyle:{width:"100%"},attrs:{src:"/no-profile-image.jpg",alt:"Avatar"}})])],1),v._v(" "),_(l.a,{staticClass:"text-center",attrs:{cols:"12"}},[_("div",{staticClass:"mt-1",staticStyle:{height:"15px","font-size":"12px"}},[v._v("\n                  "+v._s(v.item.full_name)+"\n                  ")]),v._v(" "),_("div",{staticStyle:{"font-size":"12px"}},[_("small",[v._v("\n                    "+v._s(v.item.phone_number)+"\n                    ")])])])],1)],1),v._v(" "),_(l.a,{attrs:{cols:"12"}},[_(d.a),v._v(" "),_(m.a,{staticStyle:{"font-size":"15px"},attrs:{"no-gutters":""}},[_(l.a,{attrs:{cols:"6"}},[_("small",[v._v(" First Name ")])]),v._v(" "),_(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[_("small",[v._v(" "+v._s(v.item.first_name)+" ")])]),v._v(" "),_(l.a,{attrs:{cols:"6"}},[_("small",[v._v(" Last Name ")])]),v._v(" "),_(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[_("small",[v._v(" "+v._s(v.item.last_name)+" ")])]),v._v(" "),_(l.a,{attrs:{cols:"6"}},[_("small",[v._v(" Emirates Id ")])]),v._v(" "),_(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[_("small",[v._v(" "+v._s(v.item.id_number)+" ")])]),v._v(" "),_(l.a,{attrs:{cols:"6"}},[_("small",[v._v(" Visitor Card Id ")])]),v._v(" "),_(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[_("small",[v._v(" "+v._s(v.item.system_user_id)+" ")])]),v._v(" "),_(l.a,{attrs:{cols:"6"}},[_("small",[v._v(" Email ")])]),v._v(" "),_(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[_("small",[v._v(" "+v._s(v.item.email)+" ")])]),v._v(" "),_(l.a,{attrs:{cols:"6"}},[_("small",[v._v(" Phone Number ")])]),v._v(" "),_(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[_("small",[v._v(" "+v._s(v.item.phone_number)+" ")])]),v._v(" "),_(l.a,{attrs:{cols:"6"}},[_("small",[v._v(" Purpose ")])]),v._v(" "),_(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[_("small",[v._v(" "+v._s((null===(e=v.item)||void 0===e||null===(n=e.purpose)||void 0===n?void 0:n.name)||"---")+" ")])]),v._v(" "),_(l.a,{attrs:{cols:"6"}},[_("small",[v._v(" Gender ")])]),v._v(" "),_(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[_("small",[v._v(" "+v._s(v.item.gender)+" ")])]),v._v(" "),_(l.a,{attrs:{cols:"6"}},[_("small",[v._v(" Visit From ")])]),v._v(" "),_(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[_("small",[v._v(" "+v._s(v.item.visit_from)+" "+v._s(v.item.time_in)+" ")])]),v._v(" "),_(l.a,{attrs:{cols:"6"}},[_("small",[v._v(" Visit To ")])]),v._v(" "),_(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[_("small",[v._v(" "+v._s(v.item.visit_to)+" "+v._s(v.item.time_out)+" ")])])],1)],1)],1)],1),v._v(" "),_(l.a,{attrs:{cols:"8"}},[_(d.a),v._v(" "),_(m.a,{staticClass:"px-3",attrs:{"no-gutters":""}},[_(l.a,{attrs:{cols:"12"}},[_("div",{staticClass:"mt-4"},[_("table",{staticStyle:{width:"100%"}},[_("tr",[_("td",{staticStyle:{"font-size":"12px"}},[_("small",[_("b",[v._v("#")])])]),v._v(" "),_("td",{staticStyle:{"font-size":"12px"}},[_("small",[_("b",[v._v("Date Time")])])]),v._v(" "),_("td",{staticStyle:{"font-size":"12px"}},[_("small",[_("b",[v._v("Tenant")])])]),v._v(" "),_("td",{staticStyle:{"font-size":"12px"}},[_("small",[_("b",[v._v("Flat")])])]),v._v(" "),_("td",{staticStyle:{"font-size":"12px"}},[_("small",[_("b",[v._v("Device")])])]),v._v(" "),_("td",{staticStyle:{"font-size":"12px"}},[_("small",[_("b",[v._v("In/Out")])])])]),v._v(" "),v._l(v.item.attendance_logs,(function(t,e){var n,r,o,l,c,d,m,f,h,y,x;return _("tr",{key:e},[_("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[_("small",[v._v(v._s(e+1))])]),v._v(" "),_("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[_("small",[v._v(v._s(t.LogTime))])]),v._v(" "),t.visitor?_("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[_("small",[v._v(v._s(null===(n=t.visitor.tanent)||void 0===n?void 0:n.full_name))]),_("br"),v._v(" "),_("small",[v._v(v._s(null===(r=t.visitor.tanent)||void 0===r?void 0:r.phone_number))])]):v._e(),v._v(" "),t.contractor?_("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[_("small",[v._v(v._s(null===(o=t.contractor.tanent)||void 0===o?void 0:o.full_name))]),_("br"),v._v(" "),_("small",[v._v(v._s(null===(l=t.contractor.tanent)||void 0===l?void 0:l.phone_number))])]):v._e(),v._v(" "),t.delivery?_("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[_("small",[v._v(v._s(null===(c=t.delivery.tanent)||void 0===c?void 0:c.full_name))]),_("br"),v._v(" "),_("small",[v._v(v._s(null===(d=t.delivery.tanent)||void 0===d?void 0:d.phone_number))])]):v._e(),v._v(" "),t.visitor?_("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[_("small",[v._v(v._s(null===(m=t.visitor.tanent)||void 0===m?void 0:m.room.room_number))]),_("br")]):t.contractor?_("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[_("small",[v._v(v._s(null===(f=t.contractor.tanent)||void 0===f?void 0:f.room.room_number))]),_("br")]):t.delivery?_("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[_("small",[v._v(v._s(null===(h=t.delivery.tanent)||void 0===h?void 0:h.room.room_number))]),_("br")]):v._e(),v._v(" "),_("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[_("small",[v._v(v._s(null!==(y=null==t||null===(x=t.device)||void 0===x?void 0:x.short_name)&&void 0!==y?y:"Manual"))])]),v._v(" "),_("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[_("small",[v._v(v._s(v.caps(null==t?void 0:t.log_type)))])])])}))],2)])])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},946:function(t,e,n){"use strict";n.r(e);n(56),n(33),n(266);var r=n(943),o=(n(939),{components:{DatePicker:r.a},props:["defaultFilterType","height","width","default_date_from","default_date_to"],data:function(){return{time3:null,from_date:"",from_menu:!1,to_date:"",to_menu:!1,loading:!1,showTimePanel:!1,filterType:1,search:""}},watch:{filterType:function(){this.showTimePanel=!0,this.FilterData()}},mounted:function(){5==this.filterType&&document.querySelector(".mx-input").focus();var t=document.getElementsByClassName("mx-input");this.height&&""!=this.height&&(t[0].style.height=this.height),this.width&&""!=this.width&&(t[0].style.width=this.width),this.default_date_from&&this.default_date_to&&(this.from_date=this.default_date_from,this.to_date=this.default_date_to),this.time3=[this.from_date,this.to_date]},created:function(){this.defaultFilterType&&(this.filterType=this.defaultFilterType);var t=new Date;this.default_date_from||(this.from_date=t.toISOString().slice(0,10)),this.default_date_to||(this.to_date=t.toISOString().slice(0,10)),this.default_date_from&&this.default_date_to&&(this.from_date=this.default_date_from,this.to_date=this.default_date_to),this.time3=[this.from_date,this.to_date];var data={from:this.from_date,to:this.to_date,type:1,search:"this.search"};this.$emit("filter-attr",data)},methods:{commonMethod:function(){this.from_date&&this.to_date},CustomFilter:function(){if(this.from_date=this.time3[0],this.to_date=this.time3[1],this.from_date&&this.to_date){var data={from:this.from_date,to:this.to_date,type:this.filterType,search:this.search};this.$emit("filter-attr",data)}},FilterData:function(){this.from_date=this.time3[0],this.to_date=this.time3[1];var t=new Date;if(1==this.filterType)this.from_date=t.toISOString().slice(0,10),this.to_date=t.toISOString().slice(0,10);else if(2==this.filterType){var e=new Date;e.setDate(t.getDate()-1),this.from_date=e.toISOString().slice(0,10),this.to_date=e.toISOString().slice(0,10)}else if(3==this.filterType){var n=new Date(t);n.setDate(t.getDate()-t.getDay());var r=new Date(t);r.setDate(t.getDate()-t.getDay()+6),this.from_date=n.toISOString().slice(0,10),this.to_date=r.toISOString().slice(0,10)}else if(4==this.filterType)this.from_date=this.formatDate(new Date(t.getFullYear(),t.getMonth(),1)),this.to_date=this.formatDate(new Date(t.getFullYear(),t.getMonth()+1,0));else if(5==this.filterType)return void(this.time3=[]);if(this.from_date&&this.to_date){var data={from:this.from_date,to:this.to_date,type:this.filterType,search:this.search};this.$emit("filter-attr",data)}},formatDate:function(t){var e=t.getDate(),n=t.getMonth()+1;return t.getFullYear()+"-"+(n<10?"0":"")+n+"-"+(e<10?"0":"")+e}}}),l=n(116),component=Object(l.a)(o,(function(){var t=this;return(0,t._self._c)("date-picker",{attrs:{label:"Date","value-type":"format",format:"YYYY-MM-DD",type:"date",range:""},on:{change:function(e){return t.CustomFilter()}},model:{value:t.time3,callback:function(e){t.time3=e},expression:"time3"}})}),[],!1,null,null,null);e.default=component.exports},947:function(t,e,n){"use strict";n(357)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(526))},948:function(t,e,n){var r=n(179),o=n(47),l=n(92),c=n(36),d=n(180),m=c("iterator"),v=Object;t.exports=function(t){if(l(t))return!1;var e=v(t);return void 0!==e[m]||"@@iterator"in e||o(d,r(e))}},949:function(t,e,n){"use strict";var r=n(877),o=n(878),l=n(903),c=n(891),d=n(889),m=n(880),v=n(522),_=o.has,f=o.remove;t.exports=function(t){var e=r(this),n=d(t),o=l(e);return c(e)<=n.size?m(e,(function(t){n.includes(t)&&f(o,t)})):v(n.getIterator(),(function(t){_(e,t)&&f(o,t)})),o}},950:function(t,e,n){"use strict";var r=n(877),o=n(878),l=n(891),c=n(889),d=n(880),m=n(522),v=o.Set,_=o.add,f=o.has;t.exports=function(t){var e=r(this),n=c(t),o=new v;return l(e)>n.size?m(n.getIterator(),(function(t){f(e,t)&&_(o,t)})):d(e,(function(t){n.includes(t)&&_(o,t)})),o}},951:function(t,e,n){"use strict";var r=n(877),o=n(878).has,l=n(891),c=n(889),d=n(880),m=n(522),v=n(353);t.exports=function(t){var e=r(this),n=c(t);if(l(e)<=n.size)return!1!==d(e,(function(t){if(n.includes(t))return!1}),!0);var _=n.getIterator();return!1!==m(_,(function(t){if(o(e,t))return v(_,"normal",!1)}))}},952:function(t,e,n){"use strict";var r=n(877),o=n(891),l=n(880),c=n(889);t.exports=function(t){var e=r(this),n=c(t);return!(o(e)>n.size)&&!1!==l(e,(function(t){if(!n.includes(t))return!1}),!0)}},953:function(t,e,n){"use strict";var r=n(877),o=n(878).has,l=n(891),c=n(889),d=n(522),m=n(353);t.exports=function(t){var e=r(this),n=c(t);if(l(e)<n.size)return!1;var v=n.getIterator();return!1!==d(v,(function(t){if(!o(e,t))return m(v,"normal",!1)}))}},954:function(t,e,n){"use strict";var r=n(877),o=n(878),l=n(903),c=n(889),d=n(522),m=o.add,v=o.has,_=o.remove;t.exports=function(t){var e=r(this),n=c(t).getIterator(),o=l(e);return d(n,(function(t){v(e,t)?_(o,t):m(o,t)})),o}},955:function(t,e,n){"use strict";var r=n(877),o=n(878).add,l=n(903),c=n(889),d=n(522);t.exports=function(t){var e=r(this),n=c(t).getIterator(),m=l(e);return d(n,(function(t){o(m,t)})),m}},957:function(t,e,n){"use strict";n.r(e);var r=n(133),o=n(87),l=n(518),c=n(1019),d=n(147),m=n(212),v=n(517),_=n(852),f=n(854),h=n(853),y=n(343),x=(n(37),{props:["item","attendance"],components:{VisitorHistory:n(932).default},data:function(){return{keyid:1}},methods:{getRelatedColor:function(t){return{1:"purple",3:"red",2:"green",UNKNOWN:"purple"}[t.status_id||"UNKNOWN"]},loadHistoryPage:function(){this.keyid++},verifyOverstay:function(t){if(t.attendances&&t.attendances[0]&&t.status_id>=6){var e=t.attendances[0].in,n=t.attendances[0].out,r=0;if(""!=n&&null!=n||(n=this.getCurrentTime()),e&&n&&(r=this.getTimeInSeconds(n)-this.getTimeInSeconds(e))>0)return"Over Stay : "+this.formatSecondsToTime(r)}return""}}}),k=n(116),component=Object(k.a)(x,(function(){var t,e,n,x,k,D,O,w,S=this,C=S._self._c;return C("div",[S.item?C("div",[C(h.a,{staticClass:"slidegroup1",attrs:{right:""}},[C(y.a,{attrs:{color:"violet"}}),S._v(" "),C(_.a,[C("span",[S._v("Information ")])]),S._v(" "),C(_.a,{on:{click:function(t){return S.loadHistoryPage()}}},[C("span",[S._v("History")])]),S._v(" "),C(f.a,[C("span",{staticClass:"bold"},[S._v(" Visitor ")]),S._v(" "),C("span",{staticStyle:{float:"right"}},[C("span",{style:"color:"+S.getRelatedColor(S.item)},[S._v(S._s(S.item.status))])]),S._v(" "),C(v.a,{staticClass:"100%",staticStyle:{margin:"auto","line-height":"36px"}},[C(l.a,{staticStyle:{padding:"0px"},attrs:{cols:"4"}},[C(m.a,{staticStyle:{"border-radius":"50%",width:"250px","max-width":"95%",height:"250px",border:"1px solid #ddd"},attrs:{src:S.item.logo?S.item.logo:"/no-profile-image.jpg"}})],1),S._v(" "),C(l.a,{staticStyle:{"padding-left":"5px","padding-top":"0px"},attrs:{cols:"4"}},[C("span",{attrs:{cols:"8"}},[C("b",[S._v(S._s(S.item.full_name||"---")+" ")])]),S._v(" "),C("div",[C(d.a,{staticClass:"icon-blue",attrs:{size:"20",title:"Date"}},[S._v("mdi-calendar-range")]),S._v("\n              "+S._s(S.item.from_date_display)+"\n              "),S.item.to_date_display!=S.item.from_date_display?C("span",[S._v("\n                to "+S._s(S.item.to_date_display))]):S._e()],1),S._v(" "),C("div",[C(d.a,{staticClass:"icon-blue",attrs:{size:"20",title:"Time"}},[S._v("mdi-clock-outline")]),S._v("\n              "+S._s(S.item.time_in)+" - "+S._s(S.item.time_out)+"\n            ")],1),S._v(" "),C("div",[C(d.a,{staticClass:"icon-blue",attrs:{title:"Purpose",size:"20"}},[S._v("mdi-briefcase-account-outline")]),S._v("\n              "+S._s((null===(t=S.item.purpose)||void 0===t?void 0:t.name)||"---")+"\n            ")],1),S._v(" "),C("div",[C(d.a,{staticClass:"icon-blue",attrs:{size:"20",title:"Contact Number"}},[S._v("mdi-cellphone")]),S._v("\n              "+S._s(S.item.phone_number||"---")+"\n            ")],1),S._v(" "),C("div",{staticClass:"bold",staticStyle:{"border-top":"1px solid #ddd"}},[C(d.a,{attrs:{size:"20",color:"green",title:"Entry In Time"}},[S._v("mdi-bank-transfer-in")]),S._v("\n              "+S._s(S.attendance&&S.attendance.in||"---")+" "),C("br"),S._v("\n              "+S._s(S.attendance&&S.attendance.device_in_name.name||"---")+"\n            ")],1),S._v(" "),S.item.over_stay?C("div",{staticStyle:{color:"red"}},[S._v("\n              Expected Out Time: "+S._s(S.item.time_out)+"\n            ")]):S._e()]),S._v(" "),C(l.a,{staticStyle:{"padding-left":"5px","padding-top":"0px"},attrs:{cols:"4"}},[C("div",[S._v("")]),S._v(" "),C("div",[C(d.a,{staticClass:"icon-blue",attrs:{title:"Company",size:"30"}},[S._v("mdi-domain")]),S._v("\n              "+S._s(S.item.visitor_company_name||"---")+"\n            ")],1),S._v(" "),C("span",{attrs:{cols:"8"}},["Male"==S.item.gender?C(d.a,{staticClass:"icon-blue",attrs:{size:"20"}},[S._v("mdi-human-male")]):S._e(),S._v(" "),"Female"==S.item.gender?C(d.a,{staticClass:"icon-blue",attrs:{size:"20"}},[S._v("mdi-human-female")]):S._e(),S._v("\n              "+S._s(S.item.gender||"---")+"\n            ")],1),S._v(" "),C("div",[C(d.a,{staticClass:"icon-blue",attrs:{size:"20",title:"ID"}},[S._v("mdi-identifier")]),S._v(" "),1==S.item.id_type?C("span",[S._v("Emirates ID")]):2==S.item.id_type?C("span",[S._v("National ID")]):S._e(),S._v("\n\n              : "+S._s(S.item.id_number||"---")+"\n            ")],1),S._v(" "),C("div",[C(d.a,{staticClass:"icon-blue",attrs:{size:"20",title:"Email"}},[S._v("mdi-email")]),S._v("\n              "+S._s(S.item.email||"---")+"\n            ")],1),S._v(" "),C("div",{staticClass:"bold",staticStyle:{"border-top":"1px solid #ddd"}},[C(d.a,{attrs:{size:"30",color:"red",title:"Exit Out Time"}},[S._v("mdi-bank-transfer-out")]),S._v("\n              "+S._s(S.attendance&&S.attendance.out||"---")+"\n              "),C("br"),S._v("\n              "+S._s(S.attendance&&S.attendance.device_out_name.name||"---")+"\n\n              "),C("div",{staticStyle:{color:"red"}},[S._v("\n                Overstay:\n                "+S._s(S.attendance&&S.attendance.over_stay||"---")+"\n\n                ")])],1)])],1),S._v(" "),C(c.a,{staticClass:"mt-3"}),S._v(" "),C("h4",{staticClass:"mb-3",staticStyle:{background:"#ddd"}},[S._v("Host :")]),S._v(" "),C(v.a,[C(l.a,{attrs:{col:"4"}},[C(m.a,{staticStyle:{"border-radius":"50%",width:"200px","max-width":"95%","min-height":"100px",height:"auto",border:"1px solid #ddd"},attrs:{src:S.item.host?S.item.host.employee.profile_picture:"/no-profile-image.jpg"}})],1),S._v(" "),C(l.a,{attrs:{cols:"8"}},[C(v.a,[C(l.a,{attrs:{col:"3"}},[S._v("Employee Name ")]),S._v(" "),C(l.a,{attrs:{col:"9"}},[S._v(": "+S._s(null===(e=S.item.host)||void 0===e?void 0:e.employee.first_name)+"\n                "+S._s(null===(n=S.item.host)||void 0===n?void 0:n.employee.last_name))])],1),S._v(" "),C(v.a,[C(l.a,{attrs:{col:"3"}},[S._v("Contact Number")]),S._v(" "),C(l.a,{attrs:{col:"9"}},[S._v(": "+S._s(null===(x=S.item.host)||void 0===x?void 0:x.employee.phone_number))])],1),S._v(" "),C(v.a,[C(l.a,{attrs:{col:"3"}},[S._v(" Email Id ")]),S._v(" "),C(l.a,{attrs:{col:"9"}},[S._v("\n                "+S._s((null===(k=S.item.host)||void 0===k||null===(D=k.employee.user)||void 0===D?void 0:D.email)||"---")+"\n              ")])],1),S._v(" "),C(v.a,[C(l.a,{attrs:{col:"3"}},[S._v(" Branch ")]),S._v(" "),C(l.a,{attrs:{col:"9"}},[S._v("\n                : "+S._s((null===(O=S.item.host)||void 0===O||null===(w=O.employee.branch)||void 0===w?void 0:w.branch_name)||"---")+"\n              ")])],1),S._v(" "),C(v.a,[C(l.a,{attrs:{col:"3"}},[S._v("Status ")]),S._v(" "),C(l.a,{attrs:{col:"9"}},[C("span",{style:"color:"+S.getRelatedColor(S.item)},[S._v(S._s(S.item.status))])])],1),S._v(" "),C(v.a,[C(l.a,{attrs:{col:"3"}},[S._v("Reason:")]),S._v(" "),C(l.a,{attrs:{col:"9"}},[S._v(" "+S._s(S.item.reason||"---"))])],1)],1)],1)],1),S._v(" "),C(f.a,[C(r.a,{attrs:{flat:""}},[C(o.b,[C("VisitorHistory",{attrs:{visitorIdentificationNumber:S.item.id_number,visitorFullName:S.item.full_name}})],1)],1)],1)],1)],1):S._e()])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{VisitorHistory:n(932).default})},958:function(t,e,n){var content=n(959);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("0d1b0b47",content,!0,{sourceMap:!1})},959:function(t,e,n){var r=n(21)((function(i){return i[1]}));r.push([t.i,'.theme--light.v-time-picker-clock{background:#e0e0e0}.theme--light.v-time-picker-clock .v-time-picker-clock__item--disabled{color:rgba(0,0,0,.26)}.theme--light.v-time-picker-clock .v-time-picker-clock__item--disabled.v-time-picker-clock__item--active{color:hsla(0,0%,100%,.3)}.theme--light.v-time-picker-clock--indeterminate .v-time-picker-clock__hand{background-color:#bdbdbd}.theme--light.v-time-picker-clock--indeterminate:after{color:#bdbdbd}.theme--light.v-time-picker-clock--indeterminate .v-time-picker-clock__item--active{background-color:#bdbdbd}.theme--dark.v-time-picker-clock{background:#616161}.theme--dark.v-time-picker-clock .v-time-picker-clock__item--disabled,.theme--dark.v-time-picker-clock .v-time-picker-clock__item--disabled.v-time-picker-clock__item--active{color:hsla(0,0%,100%,.3)}.theme--dark.v-time-picker-clock--indeterminate .v-time-picker-clock__hand{background-color:#757575}.theme--dark.v-time-picker-clock--indeterminate:after{color:#757575}.theme--dark.v-time-picker-clock--indeterminate .v-time-picker-clock__item--active{background-color:#757575}.v-time-picker-clock{border-radius:100%;flex:1 0 auto;padding-top:100%;position:relative;transition:.3s cubic-bezier(.25,.8,.5,1);-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}.v-time-picker-clock__container{display:flex;flex-basis:290px;flex-direction:column;justify-content:center;padding:10px}.v-time-picker-clock__ampm{align-items:flex-end;display:flex;flex-direction:row;height:100%;justify-content:space-between;left:0;margin:0;padding:10px;position:absolute;top:0;width:100%}.v-time-picker-clock__hand{bottom:50%;height:calc(50% - 4px);left:calc(50% - 1px);position:absolute;transform-origin:center bottom;width:2px;will-change:transform;z-index:1}.v-time-picker-clock__hand:before{background:transparent;border:2px solid;border-color:inherit;height:10px;top:-4px;width:10px}.v-time-picker-clock__hand:after,.v-time-picker-clock__hand:before{border-radius:100%;content:"";left:50%;position:absolute;transform:translate(-50%,-50%)}.v-time-picker-clock__hand:after{background-color:inherit;border-color:inherit;border-style:solid;height:8px;top:100%;width:8px}.v-time-picker-clock__hand--inner:after{height:14px}.v-picker--full-width .v-time-picker-clock__container{max-width:290px}.v-time-picker-clock__inner{bottom:27px;left:27px;position:absolute;right:27px;top:27px}.v-time-picker-clock__item{align-items:center;border-radius:100%;cursor:default;display:flex;font-size:16px;height:40px;justify-content:center;position:absolute;text-align:center;transform:translate(-50%,-50%);-webkit-user-select:none;-moz-user-select:none;user-select:none;width:40px}.v-time-picker-clock__item>span{z-index:1}.v-time-picker-clock__item:after,.v-time-picker-clock__item:before{border-radius:100%;content:"";height:14px;height:40px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:14px;width:40px}.v-time-picker-clock__item--active{color:#fff;cursor:default;z-index:2}.v-time-picker-clock__item--disabled{pointer-events:none}.v-picker--landscape .v-time-picker-clock__container{flex-direction:row}.v-picker--landscape .v-time-picker-clock__ampm{flex-direction:column}',""]),r.locals={},t.exports=r},960:function(t,e,n){var content=n(961);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("bf92139a",content,!0,{sourceMap:!1})},961:function(t,e,n){var r=n(21)((function(i){return i[1]}));r.push([t.i,".v-time-picker-title{color:#fff;display:flex;justify-content:flex-end;line-height:1}.v-time-picker-title__time{direction:ltr;white-space:nowrap}.v-time-picker-title__time .v-picker__title__btn,.v-time-picker-title__time span{align-items:center;display:inline-flex;font-size:70px;height:70px;justify-content:center}.v-time-picker-title__ampm{align-self:flex-end;display:flex;flex-direction:column;font-size:16px;text-transform:uppercase}.v-application--is-ltr .v-time-picker-title__ampm{margin:0 0 6px 8px}.v-application--is-rtl .v-time-picker-title__ampm{margin:0 8px 6px 0}.v-time-picker-title__ampm div:only-child{flex-direction:row}.v-time-picker-title__ampm--readonly .v-picker__title__btn.v-picker__title__btn--active{opacity:.6}.v-picker__title--landscape .v-time-picker-title{flex-direction:column;height:100%;justify-content:center}.v-picker__title--landscape .v-time-picker-title__time{text-align:right}.v-picker__title--landscape .v-time-picker-title__time .v-picker__title__btn,.v-picker__title--landscape .v-time-picker-title__time span{font-size:55px;height:55px}.v-picker__title--landscape .v-time-picker-title__ampm{align-self:auto;margin:16px 0 0;text-align:center}.v-picker--time .v-picker__title--landscape{padding:0}.v-picker--time .v-picker__title--landscape .v-time-picker-title__time{text-align:center}",""]),r.locals={},t.exports=r},965:function(t,e,n){"use strict";n.r(e);var r=n(893),o=n(114),l=n(133),c=n(87),d=n(518),m=n(875),v=n(1546),_=n(350),f=n(147),h=n(862),y=n(972),x=n(971),k=n(517),D=n(892),O=n(349),w=n(214),S=n(96),C=n(81),j=(n(35),n(23)),I=n(3),$=(n(88),n(521),n(6),n(72),n(28),new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substring(0,10)),F=String((new Date).getHours()).padStart(2,"0"),P=String((new Date).getMinutes()).padStart(2,"0"),T=F+":"+P,A=(F=parseInt(F)+2)+":"+P,M={props:["visitor_type","button_type","label","standalone"],data:function(){var t;return t={disabled:!1,cards:[],step:1,payload:{company_id:0,visit_from:$,visit_to:$,time_in:T,time_out:A,tanent_room_number:null,tanent_full_name:null,tanent_phone_number:null,tanent_gender:null,tanent_email:null,tanent_term:null,tanent_nationality:null,note:null,timezone_id:1,purpose_id:0,first_name:null,last_name:null,gender:"Male",phone_number:null,email:null,visitor_company_name:"",status_id:1,date:$,updated_by:1,status_phone_number:null,company_name:null,reason:null,host_company_id:0},imagePreview:"/no-profile-image.jpg",setImagePreview:null,imageMemberPreview:"/no-profile-image.jpg",tab:null,totalRowsCount:0,filters:{},isFilter:!1,sortBy:"id",sortDesc:!1,snack:!1,snackColor:"",snackText:"",loadinglinear:!0,displayErrormsg:!1,image:"",mime_type:"",cropedImage:"",cropper:"",autoCrop:!1,dialogCropping:!1,tabMenu:[]},Object(I.a)(t,"tab","0"),Object(I.a)(t,"employeeId",0),Object(I.a)(t,"employeeObject",{}),Object(I.a)(t,"attrs",[]),Object(I.a)(t,"dialog",!1),Object(I.a)(t,"editDialog",!1),Object(I.a)(t,"viewDialog",!1),Object(I.a)(t,"selectedFile",""),Object(I.a)(t,"dialog",!1),Object(I.a)(t,"m",!1),Object(I.a)(t,"right",!0),Object(I.a)(t,"rightDrawer",!1),Object(I.a)(t,"drawer",!0),Object(I.a)(t,"tab",null),Object(I.a)(t,"selectedItem",1),Object(I.a)(t,"on",""),Object(I.a)(t,"files",""),Object(I.a)(t,"search",""),Object(I.a)(t,"loading",!1),Object(I.a)(t,"next_page_url",""),Object(I.a)(t,"prev_page_url",""),Object(I.a)(t,"current_page",1),Object(I.a)(t,"per_page",1e3),Object(I.a)(t,"ListName",""),Object(I.a)(t,"color","background"),Object(I.a)(t,"response",""),Object(I.a)(t,"snackbar",!1),Object(I.a)(t,"btnLoader",!1),Object(I.a)(t,"max_employee",0),Object(I.a)(t,"employee",{title:"Mr",display_name:"",employee_id:"",system_user_id:""}),Object(I.a)(t,"upload",{name:""}),Object(I.a)(t,"pagination",{current:1,total:0,per_page:10}),Object(I.a)(t,"options",{}),Object(I.a)(t,"Model","Tanent"),Object(I.a)(t,"endpoint","visitor-self-register"),Object(I.a)(t,"search",""),Object(I.a)(t,"snackbar",!1),Object(I.a)(t,"ids",[]),Object(I.a)(t,"loading",!1),Object(I.a)(t,"titleItems",["Mr","Mrs","Miss","Ms","Dr"]),Object(I.a)(t,"editedIndex",-1),Object(I.a)(t,"editedItem",{name:""}),Object(I.a)(t,"defaultItem",{name:""}),Object(I.a)(t,"response",""),Object(I.a)(t,"data",[]),Object(I.a)(t,"errors",[]),Object(I.a)(t,"designations",[]),Object(I.a)(t,"roles",[]),Object(I.a)(t,"employees",[]),Object(I.a)(t,"department_filter_id",""),Object(I.a)(t,"dialogVisible",!1),Object(I.a)(t,"formAction","Create"),Object(I.a)(t,"date",new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)),Object(I.a)(t,"menu",!1),Object(I.a)(t,"menu2",!1),Object(I.a)(t,"menu3",!1),Object(I.a)(t,"floors",[]),Object(I.a)(t,"rooms",[]),Object(I.a)(t,"purposes",[]),Object(I.a)(t,"contractorCompanies",[]),t},created:function(){var t=this;return Object(j.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.company_id=t.$auth.user.company_id,t.payload.company_id=t.$auth.user.company_id,t.loading=!1,e.next=5,t.getCards();case 5:case"end":return e.stop()}}),e)})))()},mounted:function(){this.getPurposes(),this.getContractorCompanies()},methods:{getCards:function(){var t=this;return Object(j.a)(regeneratorRuntime.mark((function e(){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/card-list");case 2:n=e.sent,data=n.data,t.cards=data;case 5:case"end":return e.stop()}}),e)})))()},getDetailsByRoomNumber:function(t){var e=this;return Object(j.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$axios.$get("/room/".concat(t));case 3:r=n.sent,(o=r.tanent)||(e.payload.tanent_id=null,e.payload.tanent_full_name=null,e.payload.tanent_phone_number=null,e.payload.tanent_gender=null,e.payload.tanent_email=null,e.payload.tanent_term=null,e.payload.tanent_nationality=null),e.payload.tanent_id=o.id,e.payload.tanent_full_name=o.full_name,e.payload.tanent_phone_number=o.phone_number,e.payload.tanent_gender=o.gender,e.payload.tanent_email=o.email,e.payload.tanent_term=o.term,e.payload.tanent_nationality=o.nationality,n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),console.error("Error fetching data:",n.t0);case 18:case"end":return n.stop()}}),n,null,[[0,15]])})))()},openDialogForCustom:function(t){"custom"==t&&(this.$refs.customPopup.DialogBox=!0)},handleResponse:function(t){this.payload.purpose_id=t,this.getPurposes()},getPurposes:function(){var t=this;this.visitor_type&&this.$axios.get("purpose_list",{params:{company_id:this.$auth.user.company_id,type:this.visitor_type}}).then((function(e){var data=e.data;t.purposes=data})).catch((function(t){return console.log(t)}))},getContractorCompanies:function(){var t=this;this.$axios.get("branch-list",{params:{company_id:this.$auth.user.company_id}}).then((function(e){var data=e.data;t.contractorCompanies=data})).catch((function(t){return console.log(t)}))},handleAttachment:function(t){this.payload.profile_picture=t},can:function(t){return this.$pagePermission.can(t,this)},submit:function(){var t=this;this.payload.rfid=Number(this.payload.rfid).toString(),this.payload.system_user_id=this.payload.rfid,this.payload.visitor_type=this.visitor_type,this.$axios.post(this.endpoint,this.payload).then((function(e){var data=e.data;data.status||!t.standalone?t.handleSuccessResponse("Visitor inserted successfully"):alert(data.message)})).catch((function(e){var n=e.response;t.handleErrorResponse(n)}))},handleSuccessResponse:function(t){this.errors=[],this.dialog=!1,this.standalone?alert("Visitor inserted successfully"):this.$emit("success",t)},handleErrorResponse:function(t){if(t){var e=t.status,data=t.data,n=t.statusText;e&&422==e?this.errors=data.errors:alert(n)}else alert("An unexpected error occurred.")}}},R=n(116),component=Object(R.a)(M,(function(){var t=this,e=t._self._c;return e(_.a,{attrs:{persistent:"",width:"900"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[e("span",t._g(t._b({staticStyle:{cursor:"pointer"}},"span",l,!1),r),["icon"==t.button_type?e(f.a,{attrs:{color:"black",title:"Create ".concat(t.label)}},[t._v("mdi-plus-circle-outline")]):e(o.a,{staticClass:"primary",attrs:{dense:"",small:"",text:"",title:"Create ".concat(t.label)}},[t._v("\n        Create "+t._s(t.label)+"\n        "),e(f.a,{attrs:{right:"",dark:""}},[t._v("mdi-plus-circle-outline")])],1)],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),e(l.a,[e(S.a,{attrs:{dense:"",flat:""}},[e(c.c,[t._v("Create "+t._s(t.label))]),t._v(" "),e(O.a),t._v(" "),e(f.a,{attrs:{color:"primary"},on:{click:function(e){t.dialog=!1}}},[t._v("mdi-close")])],1),t._v(" "),e(m.a,{attrs:{fluid:""}},[e(k.a,[e(d.a,{attrs:{cols:"3"}},[e(k.a,[e(d.a,{attrs:{cols:"12"}},[e("div",{staticClass:"text-center"},[e("CameraORUpload",{ref:"CameraComponent",on:{imageSrc:t.handleAttachment}}),t._v(" "),t.errors&&t.errors.profile_picture?e("span",{staticClass:"error--text mt-2"},[t._v(t._s(t.errors.profile_picture[0]))]):t._e()],1)]),t._v(" "),e(d.a,{attrs:{cols:"12"}},["contractor"==t.visitor_type?e(D.a,{attrs:{items:[{id:"",name:"Select Company"}].concat(Object(C.a)(t.contractorCompanies)),dense:"",outlined:"","item-text":"name","item-value":"name","hide-details":!t.errors.visitor_company_name,"error-messages":t.errors&&t.errors.visitor_company_name?t.errors.visitor_company_name[0]:"",label:"Contractor Company"},model:{value:t.payload.visitor_company_name,callback:function(e){t.$set(t.payload,"visitor_company_name",e)},expression:"payload.visitor_company_name"}}):e(w.a,{attrs:{dense:"",outlined:"","hide-details":!t.errors.visitor_company_name,"error-messages":t.errors&&t.errors.visitor_company_name?t.errors.visitor_company_name[0]:"",label:"Company Name"},model:{value:t.payload.visitor_company_name,callback:function(e){t.$set(t.payload,"visitor_company_name",e)},expression:"payload.visitor_company_name"}})],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e(w.a,{attrs:{dense:"",outlined:"","hide-details":!t.errors.id_number,"error-messages":t.errors&&t.errors.id_number?t.errors.id_number[0]:"",label:"Emirates ID"},model:{value:t.payload.id_number,callback:function(e){t.$set(t.payload,"id_number",e)},expression:"payload.id_number"}})],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e(r.a,{attrs:{items:t.cards,dense:"",outlined:"","deletable-chips":"","item-value":"number","item-text":"name",label:"Select Card","hide-details":!t.errors.rfid,"error-messages":t.errors&&t.errors.rfid?t.errors.rfid[0]:"",color:"background"},model:{value:t.payload.rfid,callback:function(e){t.$set(t.payload,"rfid",e)},expression:"payload.rfid"}})],1)],1)],1),t._v(" "),e(d.a,{attrs:{cols:"9"}},[e(k.a,{},[e(d.a,{attrs:{cols:"6"}},[e(w.a,{attrs:{dense:"",outlined:"","hide-details":!t.errors.first_name,"error-messages":t.errors&&t.errors.first_name?t.errors.first_name[0]:"",label:"First Name"},model:{value:t.payload.first_name,callback:function(e){t.$set(t.payload,"first_name",e)},expression:"payload.first_name"}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(w.a,{attrs:{dense:"",outlined:"","hide-details":!t.errors.last_name,"error-messages":t.errors&&t.errors.last_name?t.errors.last_name[0]:"",label:"Last Name"},model:{value:t.payload.last_name,callback:function(e){t.$set(t.payload,"last_name",e)},expression:"payload.last_name"}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(w.a,{attrs:{type:"number",dense:"",outlined:"","hide-details":!t.errors.phone_number,"error-messages":t.errors&&t.errors.phone_number?t.errors.phone_number[0]:"",label:"Phone Number"},model:{value:t.payload.phone_number,callback:function(e){t.$set(t.payload,"phone_number",e)},expression:"payload.phone_number"}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(w.a,{staticClass:"text-center",attrs:{label:"Email",readonly:t.disabled,dense:"",outlined:"","hide-details":!t.errors.email,"error-messages":t.errors&&t.errors.email?t.errors.email[0]:""},model:{value:t.payload.email,callback:function(e){t.$set(t.payload,"email",e)},expression:"payload.email"}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(D.a,{attrs:{items:[{id:"",name:"Select ".concat("contractor"==t.visitor_type?"Activity":"Purpose")}].concat(Object(C.a)(t.purposes),[{id:"custom",name:"Custom"}]),dense:"",outlined:"","item-text":"name","item-value":"id","hide-details":!t.errors.purpose_id,label:"".concat("contractor"==t.visitor_type?"Activity":"Purpose")},on:{change:function(e){return t.openDialogForCustom(t.payload.purpose_id)}},model:{value:t.payload.purpose_id,callback:function(e){t.$set(t.payload,"purpose_id",e)},expression:"payload.purpose_id"}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(x.a,{staticClass:"ma-0 mt-2 px-2 pa-0",attrs:{row:"","hide-details":!t.errors.gender,"error-messages":t.errors&&t.errors.gender?t.errors.gender[0]:""},model:{value:t.payload.gender,callback:function(e){t.$set(t.payload,"gender",e)},expression:"payload.gender"}},[e(y.a,{attrs:{label:"Male",value:"Male"}}),t._v(" "),e(y.a,{attrs:{label:"Female",value:"Female"}}),t._v(" "),e(y.a,{attrs:{label:"Other",value:"Other"}})],1)],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(h.a,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(w.a,t._g(t._b({attrs:{label:"Visit From","append-icon":"mdi-calendar",outlined:"",dense:"",readonly:"","hide-details":!t.errors.visit_from,"error-messages":t.errors&&t.errors.visit_from?t.errors.visit_from[0]:""},model:{value:t.payload.visit_from,callback:function(e){t.$set(t.payload,"visit_from",e)},expression:"payload.visit_from"}},"v-text-field",o,!1),r))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),e(v.a,{attrs:{"no-title":"",scrollable:""},on:{input:function(e){t.menu=!1}},model:{value:t.payload.visit_from,callback:function(e){t.$set(t.payload,"visit_from",e)},expression:"payload.visit_from"}})],1)],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(h.a,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(w.a,t._g(t._b({attrs:{label:"Visit To","append-icon":"mdi-calendar",outlined:"",dense:"",readonly:"","hide-details":!t.errors.visit_to,"error-messages":t.errors&&t.errors.visit_to?t.errors.visit_to[0]:""},model:{value:t.payload.visit_to,callback:function(e){t.$set(t.payload,"visit_to",e)},expression:"payload.visit_to"}},"v-text-field",o,!1),r))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[t._v(" "),e(v.a,{attrs:{"no-title":"",scrollable:""},on:{input:function(e){t.menu2=!1}},model:{value:t.payload.visit_to,callback:function(e){t.$set(t.payload,"visit_to",e)},expression:"payload.visit_to"}})],1)],1),t._v(" "),e(d.a,{attrs:{cols:"12",sm:"6",md:"4",lg:"6"}},[e("SnippetsTimePickerV1",{attrs:{label:"Entry Time",default_value:t.payload.time_in},on:{getTime:function(e){t.payload.time_in=e}}})],1),t._v(" "),e(d.a,{attrs:{cols:"12",sm:"6",md:"4",lg:"6"}},[e("SnippetsTimePickerV1",{attrs:{label:"Exit Time",default_value:t.payload.time_out},on:{getTime:function(e){t.payload.time_out=e}}})],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e("b",[t._v("Enter Tanent/Host Details")])]),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(w.a,{attrs:{dense:"",outlined:"","hide-details":!t.errors.tanent_id,"error-messages":t.errors&&t.errors.tanent_id?t.errors.tanent_id[0]:"",label:"Room Number"},on:{input:function(e){return t.getDetailsByRoomNumber(t.payload.tanent_room_number)}},model:{value:t.payload.tanent_room_number,callback:function(e){t.$set(t.payload,"tanent_room_number",e)},expression:"payload.tanent_room_number"}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(w.a,{attrs:{dense:"",outlined:"","hide-details":!0,label:"Full Name"},model:{value:t.payload.tanent_full_name,callback:function(e){t.$set(t.payload,"tanent_full_name",e)},expression:"payload.tanent_full_name"}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(w.a,{attrs:{dense:"",outlined:"","hide-details":!0,label:"Phone Number"},model:{value:t.payload.tanent_phone_number,callback:function(e){t.$set(t.payload,"tanent_phone_number",e)},expression:"payload.tanent_phone_number"}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(w.a,{attrs:{dense:"",outlined:"","hide-details":!0,label:"Email Address"},model:{value:t.payload.tanent_email,callback:function(e){t.$set(t.payload,"tanent_email",e)},expression:"payload.tanent_email"}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(w.a,{attrs:{dense:"",outlined:"","hide-details":!0,label:"Gender"},model:{value:t.payload.tanent_gender,callback:function(e){t.$set(t.payload,"tanent_gender",e)},expression:"payload.tanent_gender"}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(w.a,{attrs:{dense:"",outlined:"","hide-details":!0,label:"Term"},model:{value:t.payload.tanent_term,callback:function(e){t.$set(t.payload,"tanent_term",e)},expression:"payload.tanent_term"}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(w.a,{attrs:{dense:"",outlined:"","hide-details":!0,label:"Nationality"},model:{value:t.payload.tanent_nationality,callback:function(e){t.$set(t.payload,"tanent_nationality",e)},expression:"payload.tanent_nationality"}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(w.a,{attrs:{dense:"",outlined:"","hide-details":!t.errors.note,"error-messages":t.errors&&t.errors.note?t.errors.note[0]:"",label:"Note/Comment"},model:{value:t.payload.note,callback:function(e){t.$set(t.payload,"note",e)},expression:"payload.note"}})],1),t._v(" "),e(d.a,{staticClass:"text-right my-1",attrs:{cols:"12"}},[e(o.a,{on:{click:function(e){t.dialog=!1}}},[t._v("Close")]),t._v(" "),e(o.a,{staticClass:"primary",on:{click:t.submit}},[t._v("Submit")])],1)],1)],1)],1)],1)],1),t._v(" "),e("CommunityPurposeCreate",{ref:"customPopup",attrs:{type:t.visitor_type},on:{success:t.handleResponse}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CameraORUpload:n(907).default,SnippetsTimePickerV1:n(931).default,CommunityPurposeCreate:n(938).default})},967:function(t,e,n){"use strict";n.r(e);var r=n(329),o=n(133),l=n(518),c=n(875),d=n(1019),m=n(212),v=n(517),_=n(23),f=(n(88),n(33),n(266),n(58),n(933),n(521),n(35),{props:["visitor_type","UserID"],data:function(){return{loading:!1,dialog:!1,payload:{},searchCard:!0,infoCard:!1,item:{},response:null,firstItem:{},lastItem:{},errors:[]}},created:function(){var t=this;return Object(_.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!1,t.search();case 2:case"end":return e.stop()}}),e)})))()},methods:{caps:function(t){if(t)return t.replace(/\b\w/g,(function(t){return t.toUpperCase()}))},close:function(){this.searchCard=!0,this.infoCard=!1,this.dialog=!1},search:function(){var t=this;this.loading=!0,this.response=null,this.$axios.get("get_logs_by_tanent_id",{params:{per_page:100,company_id:this.$auth.user.company_id,id:this.UserID,UserID:this.UserID,user_type:this.visitor_type}}).then((function(e){var data=e.data;if(!data)return t.response="No record found",void(t.loading=!1);t.response=null,t.searchCard=!1,t.infoCard=!0,t.item=data,t.loading=!1;var n=data.attendance_logs;t.firstItem=n[0],t.lastItem=n[n.length-1]})).catch((function(e){var n=e.response;t.response=null,t.searchCard=!1,t.infoCard=!0,t.data=[],t.loading=!1,console.log("error:",n)}))},checkout:function(){var t=this;return Object(_.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={UserID:t.UserID,LogTime:t.getCurrentDateTime(),DeviceID:"Manual",company_id:t.$auth.user.company_id,log_type:"out",visitor_id:t.item.id},t.loading=!0,t.$axios.post("generate_log",n).then((function(e){var data=e.data;t.loading=!1,data.status?(t.$emit("success","Checkout has been recorded"),t.dialog=!1):t.errors=data.errors})).catch((function(e){e.message;t.$emit("response","Checkout cannot be done")}));case 3:case"end":return e.stop()}}),e)})))()},getCurrentDateTime:function(){var t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),o=String(t.getHours()).padStart(2,"0"),l=String(t.getMinutes()).padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(r," ").concat(o,":").concat(l)}}}),h=n(116),component=Object(h.a)(f,(function(){var t=this,e=t._self._c;return e(o.a,[e(c.a,[e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{staticStyle:{"border-right":"1px solid #dddddd"},attrs:{cols:"4"}},[e(o.a,{attrs:{elevation:"0",outlined:""}},[e(c.a,[e("h3",[t._v(t._s(t.caps(t.item.member_type)))]),t._v(" "),e(v.a,[e(l.a,{staticClass:"text-center",attrs:{cols:"12"}},[e(r.a,{staticStyle:{border:"1px solid #dddddd"},attrs:{size:"100"}},[t.item.profile_picture?e(m.a,{attrs:{src:t.item.profile_picture}}):e(m.a,{attrs:{src:"/no-profile-image.jpg"}})],1),t._v(" "),e("div",{staticClass:"mt-1",staticStyle:{"font-size":"14px",height:"10px"}},[t._v("\n                  "+t._s(t.item.member_type)+"\n                ")])],1),t._v(" "),e(l.a,{attrs:{cols:"12"}},[e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("ID")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("\n                      "+t._s(t.item.system_user_id)+"\n                    ")])]),t._v(" "),e(l.a,{attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("Full Name")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("\n                      "+t._s(t.item.full_name)+"\n                    ")])]),t._v(" "),e(l.a,{attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("Phone Number")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("\n                      "+t._s(t.item.phone_number)+"\n                    ")])]),t._v(" "),e(l.a,{attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("Age")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("\n                      "+t._s(t.item.age)+" years old\n                    ")])]),t._v(" "),e(l.a,{attrs:{cols:"4"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("Nationality")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"8"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("\n                      "+t._s(t.item.nationality)+"\n                    ")])]),t._v(" "),e(l.a,{attrs:{cols:"3"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("Gender")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"9"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v(" "+t._s(t.item.gender)+" ")])]),t._v(" "),e(l.a,{attrs:{cols:"3"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("RFID")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"9"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v(" "+t._s(t.item.rfid)+" ")])]),t._v(" "),e(l.a,{attrs:{cols:"3"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v("Pin")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"9"}},[e("small",{staticStyle:{"font-size":"11px"}},[t._v(" "+t._s(t.item.pin)+" ")])])],1)],1)],1)],1)],1)],1),t._v(" "),e(l.a,{attrs:{cols:"8"}},[e(d.a),t._v(" "),e(v.a,{staticClass:"px-3",attrs:{"no-gutters":""}},[e(l.a,{attrs:{cols:"12"}},[e("div",{staticClass:"mt-4"},[e("table",{staticStyle:{width:"100%"}},[e("tr",[e("td",{staticStyle:{"font-size":"12px"}},[e("small",[e("b",[t._v("#")])])]),t._v(" "),e("td",{staticStyle:{"font-size":"12px"}},[e("small",[e("b",[t._v("Date Time")])])]),t._v(" "),e("td",{staticStyle:{"font-size":"12px"}},[e("small",[e("b",[t._v("Device")])])]),t._v(" "),e("td",{staticStyle:{"font-size":"12px"}},[e("small",[e("b",[t._v("In/Out")])])])]),t._v(" "),t._l(t.item.attendance_logs,(function(n,r){var o,l;return e("tr",{key:r},[e("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[e("small",[t._v(t._s(r+1))])]),t._v(" "),e("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[e("small",[t._v(t._s(n.LogTime))])]),t._v(" "),e("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[e("small",[t._v(t._s(null!==(o=null==n||null===(l=n.device)||void 0===l?void 0:l.short_name)&&void 0!==o?o:"Manual"))])]),t._v(" "),e("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[e("small",[t._v(t._s(t.caps(null==n?void 0:n.log_type)))])])])}))],2)])])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},968:function(t,e,n){"use strict";n.r(e);var r=n(329),o=n(518),l=n(1019),c=n(517),d=(n(37),n(56),n(31)),m=n(23),v=(n(33),n(58),n(521),n(6),n(72),n(35),n(80),n(28),n(88),{props:["item"],data:function(){return{logs_data:null,loading:!1,log_endpoint:"attendance_logs",log_headers:[{text:"#",align:"left",sortable:!1,key:"id",value:"id",width:"10px"},{text:"DateTime",align:"left",sortable:!1,key:"date_range",value:"LogTime",fieldType:"date_range_picker"},{text:"Device",align:"left",sortable:!0,key:"device",value:"device",filterable:!0,filterSpecial:!0}],dialog:!1,UserID:null,profile_pictrue:"no-profile-image.jpg",company_id:0,employee_stats:[],todayAttendance:null,remainingTime:"00:00"}},created:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.company_id=t.$auth.user.company_id,e.next=3,t.getEmployeeStats();case 3:return e.next=5,t.getTodayAttendance();case 5:return e.next=7,t.getLogs();case 7:case"end":return e.stop()}}),e)})))()},methods:{caps:function(t){if(t)return t.replace(/\b\w/g,(function(t){return t.toUpperCase()}))},getDate:function(){var t=new Date,e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getDate().toString().padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(r)},getLogs:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$axios.get(t.log_endpoint,{params:{per_page:10,company_id:t.company_id,UserID:t.item.employee.system_user_id,from_date:t.getDate(),to_date:t.getDate()}}).then((function(e){var data=e.data;t.logs_data=data.data}));case 1:case"end":return e.stop()}}),e)})))()},getTodayAttendance:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!0,t.$axios.get("report",{params:{company_id:t.company_id,employee_id:t.item.employee.system_user_id,from_date:t.getFormattedDate(),to_date:t.getFormattedDate()}}).then((function(e){var data=e.data;if(t.loading=!1,!data.data.length)return t.getRemainingTime("00:00","00:00"),void(t.todayAttendance={total_hrs:"00:00",ot:"00:00"});var n=data.data[0],r=n.total_hrs,o=n.ot,l=n.shift;if(!l)return t.getRemainingTime("00:00","00:00"),void(t.todayAttendance={total_hrs:"00:00",ot:"00:00"});t.todayAttendance={total_hrs:t.timeHandler(r),ot:t.timeHandler(o)},t.getRemainingTime(t.timeHandler(r),t.timeHandler(l.working_hours))}));case 2:case"end":return e.stop()}}),e)})))()},timeHandler:function(t){return"---"===t?"00:00":t},getEmployeeStats:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$axios.get("employee-statistics",{params:{company_id:t.company_id,employee_id:t.item.employee.system_user_id}}).then((function(e){var data=e.data;t.employee_stats=data}));case 1:case"end":return e.stop()}}),e)})))()},getFormattedDate:function(){var t=new Date;return"".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0"))},getRemainingTime:function(t,e){var n=t.split(":").map(Number),r=Object(d.a)(n,2),o=r[0],l=r[1],c=e.split(":").map(Number),m=Object(d.a)(c,2),v=60*o+l-(60*m[0]+m[1]);if(v<0){var _=Math.abs(Math.ceil(v/60)),f=Math.abs(v%60);this.remainingTime="".concat(String(_).padStart(2,"0"),":").concat(String(f).padStart(2,"0"))}}}}),_=n(116),component=Object(_.a)(v,(function(){var t,e,n,d,m,v,_,f=this,h=f._self._c;return f.item&&f.item.id?h(c.a,{attrs:{"no-gutters":""}},[h(o.a,{staticStyle:{"border-right":"1px solid #dddddd"},attrs:{cols:"4"}},[h(l.a),f._v(" "),h(c.a,{staticClass:"pa-0 ma-0"},[h(o.a,{attrs:{cols:"12"}},[h("h3",[f._v("Employee")]),f._v(" "),h(c.a,{attrs:{"no-gutters":""}},[h(o.a,{staticClass:"text-center",attrs:{cols:"12"}},[f._v("\n            "+f._s(f.item.employee.profile_pictrue)+"\n            "),h(r.a,{attrs:{size:"100"}},[h("img",{staticStyle:{width:"100%"},attrs:{src:f.item.employee&&f.item.employee.profile_picture?f.item.employee.profile_picture:"/no-profile-image.jpg",alt:"Avatar"}})])],1),f._v(" "),h(o.a,{staticClass:"text-center",attrs:{cols:"12"}},[h("div",{staticClass:"mt-1",staticStyle:{height:"15px","font-size":"12px"}},[f._v("\n              "+f._s(null!==(t=f.item.employee.first_name)&&void 0!==t?t:"---")+"\n              "+f._s(null!==(e=f.item.employee.last_name)&&void 0!==e?e:"---")+"\n            ")]),f._v(" "),h("div",{staticStyle:{height:"15px","font-size":"12px"}},[h("small",[f._v("\n                "+f._s(null!==(n=null===(d=f.item)||void 0===d||null===(m=d.employee)||void 0===m||null===(v=m.designation)||void 0===v?void 0:v.name)&&void 0!==n?n:"---")+"\n              ")])]),f._v(" "),h("div",{staticStyle:{"font-size":"12px"}},[h("small",[f._v("\n                "+f._s(null!==(_=f.item.employee.phone_number)&&void 0!==_?_:"---")+"\n              ")])])])],1)],1),f._v(" "),h(o.a,{attrs:{cols:"12"}},[h(l.a),f._v(" "),f._l(f.employee_stats.slice(0,6),(function(t,e){return h(c.a,{key:e,staticStyle:{"font-size":"15px",height:"20px"},attrs:{"no-gutters":""}},[h(o.a,{attrs:{cols:"6"}},[h("small",[f._v(" "+f._s(t.title))])]),f._v(" "),h(o.a,{staticClass:"text-right",attrs:{cols:"6"}},[h("small",[f._v(" "+f._s(t.value))])])],1)}))],2)],1)],1),f._v(" "),h(o.a,{attrs:{cols:"8"}},[h(l.a),f._v(" "),h(c.a,{staticClass:"px-3",attrs:{"no-gutters":""}},[h(o.a,{attrs:{cols:"12"}},[f.loading?h("ComonPreloader",{attrs:{icon:"face-scan"}}):h("table",{staticClass:"mt-4",staticStyle:{width:"100%"}},[h("tr",[h("td",{staticStyle:{"font-size":"12px"}},[h("small",{},[h("b",[f._v("#")])])]),f._v(" "),h("td",{staticStyle:{"font-size":"12px"}},[h("small",{},[h("b",[f._v("Date Time")])])]),f._v(" "),h("td",{staticStyle:{"font-size":"12px"}},[h("small",[h("b",[f._v("Device")])])]),f._v(" "),h("td",{staticStyle:{"font-size":"12px"}},[h("small",[h("b",[f._v("In/Out")])])])]),f._v(" "),f._l(f.logs_data,(function(t,e){var n;return h("tr",{key:t.id},[h("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[h("small",[f._v(f._s(e+1))])]),f._v(" "),h("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[h("small",[f._v(f._s(t.date)+" "+f._s(t.time))])]),f._v(" "),h("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[h("small",[f._v(f._s(t.device?t.device.name:"---"))])]),f._v(" "),h("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[h("small",[f._v(f._s(f.caps(null===(n=f.log)||void 0===n?void 0:n.log_type)))])])])}))],2)],1)],1)],1)],1):f._e()}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ComonPreloader:n(894).default})},971:function(t,e,n){"use strict";n(12),n(14),n(13),n(6),n(17),n(11),n(18);var r=n(3),o=(n(28),n(524),n(910),n(73)),l=n(91),c=n(8);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v=Object(c.a)(l.a,o.a);e.a=v.extend({name:"v-radio-group",provide:function(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes:function(){return m(m({},o.a.options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row})}},methods:{genDefaultSlot:function(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},o.a.options.methods.genDefaultSlot.call(this))},genInputSlot:function(){var t=o.a.options.methods.genInputSlot.call(this);return delete t.data.on.click,t},genLabel:function(){var label=o.a.options.methods.genLabel.call(this);return label?(label.data.attrs.id=this.computedId,delete label.data.attrs.for,label.tag="legend",label):null},onClick:l.a.options.methods.onClick},render:function(t){var e=o.a.options.render.call(this,t);return this._b(e.data,"div",this.attrs$),e}})},972:function(t,e,n){"use strict";n(12),n(14),n(13),n(6),n(17),n(11),n(18);var r=n(107),o=n(3),l=(n(37),n(912),n(219)),c=n(79),d=n(73),m=n(118),v=n(29),_=n(119),f=n(355),h=n(26),y=n(352),x=n(0),k=n(8),D=n(65),O=["title"];function w(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function S(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var C=Object(k.a)(m.a,v.a,f.a,Object(_.a)("radioGroup"),h.a);e.a=C.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:function(){return{isFocused:!1}},computed:{classes:function(){return S(S({"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused},this.themeClasses),this.groupClasses)},computedColor:function(){if(!this.isDisabled)return y.a.options.computed.computedColor.call(this)},computedIcon:function(){return this.isActive?this.onIcon:this.offIcon},computedId:function(){return d.a.options.computed.computedId.call(this)},hasLabel:d.a.options.computed.hasLabel,hasState:function(){return(this.radioGroup||{}).hasState},isDisabled:function(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly:function(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName:function(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-".concat(this.radioGroup._uid)},rippleState:function(){return y.a.options.computed.rippleState.call(this)},validationState:function(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput:function(t){return y.a.options.methods.genInput.call(this,"radio",t)},genLabel:function(){return this.hasLabel?this.$createElement(l.a,{on:{click:y.b},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(x.t)(this,"label")||this.label):null},genRadio:function(){var t=this.attrs$,e=(t.title,Object(r.a)(t,O));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(c.a,this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput(S({name:this.computedName,value:this.value},e)),this.genRipple(this.setTextColor(this.rippleState))])},onFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},onBlur:function(t){this.isFocused=!1,this.$emit("blur",t)},onChange:function(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:function(){}},render:function(t){return t("div",{staticClass:"v-radio",class:this.classes,on:Object(D.c)({click:this.onChange},this.listeners$),attrs:{title:this.attrs$.title}},[this.genRadio(),this.genLabel()])}})},979:function(t,e,n){"use strict";n.r(e);var r=n(893),o=n(114),l=n(133),c=n(87),d=n(518),m=n(875),v=n(1545),_=n(350),f=n(935),h=n(147),y=n(212),x=n(326),k=n(204),D=n(60),O=n(862),w=n(325),S=n(267),C=n(517),j=n(892),I=n(1128),$=n(872),F=n(349),P=n(214),T=n(96),A=n(855),M=n(81),R=(n(35),n(37),n(33),n(58),n(360),n(23)),z=n(3);n(88),n(56),n(215),n(13),n(6),n(11),n(55),n(12),n(14),n(17),n(18);function U(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function L(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?U(Object(source),!0).forEach((function(e){Object(z.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):U(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var V={props:["title","filterValue","isDashboard","statsFilterValue","defaultDates"],components:{Visitorinfo:n(957).default},data:function(){var t;return t={loadingDeviceData:!1,overlay:!1,snackbar:!1,response:"",required:[function(t){return!!t||"Required"}],visitor_status_list:[],uploadUserToDeviceDialog:!1,uploadedUserInfoDialog:!1,valid:!1,fromTimePicker:!1,toTimePicker:!1,payload:{visitor_id:null,zone_id:1,fromTime:null,toTime:null},zoneList:[{id:1,name:"Zone 1"},{id:2,name:"Zone 2"}],hostList:[],item:{purpose:{}},viewDialog:!1,formAction:"Create",previewImage:null,upload:{name:""},isFilter:!1,filters:[],loading:!1,cumulativeIndex:1,perPage:10,currentPage:1,totalRowsCount:0,options:{perPage:10},status_id:0,response_image:"/sucess.png",dialog:!1,message:"",branchesList:[],changeRequestDialog:!1,Model:"Visitor Request",endpoint:"visitor",data:[],from_date:"",to_date:"",headers_table:[{text:"#",align:"left",sortable:!1,value:"sno",filterable:!1},{width:"250px",text:"Picture",align:"left",sortable:!0,value:"phone_number_or_email",filterable:!0},{text:"Purpose",align:"left",sortable:!0,value:"purpose_id",filterable:!0,filterSpecial:!0},{text:"Date",align:"left",sortable:!0,value:"visit_from",filterable:!0,filterSpecial:!0},{text:"From Company",align:"left",sortable:!0,value:"visitor_company_name",filterable:!0,filterSpecial:!1},{text:"Host",align:"left",sortable:!0,value:"host_company_id",filterable:!0,filterSpecial:!0},{text:"Status",align:"left",sortable:!0,value:"status_id",filterable:!0,filterSpecial:!0},{text:"Options",align:"left",sortable:!1,value:"options",filterable:!1}]},Object(z.a)(t,"branchesList",[]),Object(z.a)(t,"branch_id",null),Object(z.a)(t,"pagination",{current:1,total:0,per_page:10}),Object(z.a)(t,"purposeList",[]),Object(z.a)(t,"selectedVisitor",null),Object(z.a)(t,"visitorUploadedDevicesInfo",[]),t},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},created:function(){var t=new Date;if(this.from_date=t.toISOString().slice(0,10),this.to_date=t.toISOString().slice(0,10),this.defaultDates&&this.defaultDates.length&&(this.from_date=this.defaultDates[0],this.to_date=this.defaultDates[1]),this.getDataFromApi(),null==this.$auth.user.branch_id||0==this.$auth.user.branch_id){var e;(e=this.headers_table).splice.apply(e,[2,0].concat([{text:"Branch",align:"left",sortable:!0,value:"branch_id",filterable:!0,filterName:"branch_id",filterSpecial:!0}]))}if("Rejected"==this.statsFilterValue){var n;this.headers_table=this.headers_table.filter((function(t){return"visitor_company_name"!=t.value}));(n=this.headers_table).splice.apply(n,[7,0].concat([{text:"Reason",align:"left",sortable:!0,value:"rejected_reason",filterable:!0,filterSpecial:!0}]))}},methods:{can:function(t){return this.$pagePermission.can(t,this)},deleteFromDevice:function(t){var e=this;if(confirm("Are you sure want to Delete From This Device?")){var n={params:{company_id:this.$auth.user.company_id,visitor_id:t.visitor_id,system_user_id:t.system_user_id,device_id:t.device_id}};this.$axios.post("delete-visitor-from-devices",n.params).then((function(t){var data=t.data;e.response=data.message,e.snackbar=!0,data.status&&(e.uploadedUserInfoDialog=!1)}))}},getbranchesList:function(){var t=this;this.payloadOptions={params:{company_id:this.$auth.user.company_id}},this.$axios.get("branches_list",this.payloadOptions).then((function(e){var data=e.data;t.branchesList=data}))},verifyOverstay:function(t){if(t.attendances&&t.attendances[0]&&t.status_id>=6){var e=t.attendances[0].in,n=t.attendances[0].out,r=0;if(""!=n&&null!=n||(n=this.getCurrentTime()),e&&n&&(r=this.getTimeInSeconds(n)-this.getTimeInSeconds(e))>0)return"Over Stay : "+this.formatSecondsToTime(r)}return""},formatSecondsToTime:function(t){return Math.floor(t/3600)+"h:"+Math.floor(t%3600/60)+"m"},getTimeInSeconds:function(time){var t=time.split(":");return 3600*parseInt(t[0],10)+60*parseInt(t[1],10)+parseInt(t[2],10)},getCurrentTime:function(){var t=new Date;return t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},viewUploadedVisitorInfo:function(t){var e=this;return Object(R.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.uploadedUserInfoDialog=!0,e.visitorUploadedDevicesInfo=[],e.loadingDeviceData=!0,r=1,n.next=6,t.zone.devices.forEach((function(element){var n={params:{company_id:e.$auth.user.company_id,visitor_id:t.id,system_user_id:t.system_user_id,zone_id:t.zone_id,device_id:element.device_id}};e.loadingDeviceData=!0,e.$axios.get("get-device-person-details",n).then((function(n){var data=n.data;return t.zone.devices.length==r&&(e.loadingDeviceData=!1),r++,data.deviceName?(data.system_user_id=t.system_user_id,data.device_id=element.device_id,data.visitor_id=t.id,void e.visitorUploadedDevicesInfo.push(data)):(e.response=data.message,void(e.snackbar=!0))}))}));case 6:case"end":return n.stop()}}),n)})))()},uploadVisitorInfo:function(t){this.response="",this.selectedVisitor=t,this.uploadUserToDeviceDialog=!0,this.payload.system_user_id=t.system_user_id,this.payload.zone_id=t.zone_id,this.payload.card_rfid_number=t.card_rfid_number,this.payload.card_rfid_password=t.card_rfid_password},cancel:function(){this.uploadUserToDeviceDialog=!1},save:function(){var t=this;if(this.$refs.form.validate()){var e={params:{company_id:this.$auth.user.company_id,visitor_id:this.selectedVisitor.id,system_user_id:this.payload.system_user_id,zone_id:this.payload.zone_id,card_rfid_number:this.payload.card_rfid_number,card_rfid_password:this.payload.card_rfid_password}};this.response="Visitor Profile picture is uploading to Device. Please wait for 5 to 10 seconds",this.snackbar=!0,this.valid=!1,this.overlay=!0,this.$axios.post("visitor-update-zone",e.params).then((function(e){var data=e.data;return t.loading=!1,t.valid=!1,data.status?void setTimeout((function(){t.overlay=!1,t.valid=!0,t.uploadUserToDeviceDialog=!1,t.response="Visitor Zone details are updated successfully",t.snackbar=!0,t.getDataFromApi()}),2e3):(t.response=data.message,t.snackbar=!0,t.overlay=!1,void(t.valid=!0))}))}},viewInfo:function(t){this.viewDialog=!0,this.item=t},filterAttr:function(data){null!=data?(this.from_date=data.from,this.to_date=data.to):(this.from_date=null,this.to_date=null),this.applyFilters()},applyFilters:function(){this.getDataFromApi(),this.$emit("changeBranch",this.filters.branch_id)},toggleFilter:function(){this.isFilter=!this.isFilter,this.isFilter&&(this.getPurposeList(),this.getHostsList(),this.getbranchesList(),this.getVisitorStatusList())},getPurposeList:function(){var t=this,e={params:{company_id:this.$auth.user.company_id}};this.$axios.get("purpose_list",e).then((function(e){var data=e.data;t.purposeList=data}))},getHostsList:function(){var t=this,e={params:{company_id:this.$auth.user.company_id}};this.$axios.get("host_list",e).then((function(e){var data=e.data;t.hostList=[];for(var i=0;i<data.length;i++){var n=data[i],r=n.employee;r&&t.hostList.push({host_id:n.id,full_name:r.full_name})}}))},getVisitorStatusList:function(){var t=this,e={params:{company_id:this.$auth.user.company_id}};this.$axios.get("visitor_status_list",e).then((function(e){var data=e.data;t.visitor_status_list=data}))},updateStatus:function(t,e){var n=this;this.status_id=e,this.$axios.post("visitor-status-update/".concat(t),{status_id:e}).then((function(t){var data=t.data;if(!data.status)return n.message=data.message,n.response_image="/fail.png",void setTimeout((function(){return n.dialog=!1}),3e3);n.message="Your clocking has been recorded successfully",n.response_image=1==e?"/success.png":"/fail.png",n.dialog=!0,n.message=data.message,n.getDataFromApi()}))},getRelatedColor:function(t){return{1:"purple",3:"red",2:"green",UNKNOWN:"purple"}[t.status_id||"UNKNOWN"]},getDataFromApi:function(){var t=this;this.loading=!0;var e=this.options,n=e.sortBy,r=e.sortDesc,o=e.page,l=e.itemsPerPage,c={params:L(L({page:o,sortBy:n?n[0]:"",sortDesc:r?r[0]:"",per_page:l,pagination:!0,company_id:this.$auth.user.company_id,from_date:this.from_date,to_date:this.to_date},this.filters),{},{statsFilterValue:this.statsFilterValue})};this.currentPage=o,this.perPage=l,this.$axios.get(this.endpoint,c).then((function(e){var data=e.data;t.data=data.data,t.pagination.current=data.current_page,t.pagination.total=data.last_page,t.loading=!1,t.totalRowsCount=data.total}))}}},H=n(116),component=Object(H.a)(V,(function(){var t=this,e=t._self._c;return e("div",[e($.a,{attrs:{top:"top",color:"secondary",elevation:"24"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.response)+"\n  ")]),t._v(" "),e(w.a,{attrs:{value:t.overlay}},[e(S.a,{attrs:{indeterminate:"",size:"64"}})],1),t._v(" "),e(_.a,{attrs:{width:"1400"},model:{value:t.viewDialog,callback:function(e){t.viewDialog=e},expression:"viewDialog"}},[e(l.a,[e(c.c,{staticClass:"popup_background",attrs:{dense:""}},[t._v("\n        Visitor Information - "+t._s(t.item&&t.item.full_name)+"\n        "),e(F.a),t._v(" "),e(h.a,{attrs:{outlined:"",dark:""},on:{click:function(e){t.viewDialog=!1}}},[t._v("\n          mdi mdi-close-circle\n        ")])],1),t._v(" "),e(c.b,[e("Visitorinfo",{key:t.item&&t.item.id,attrs:{item:t.item}})],1)],1)],1),t._v(" "),e(l.a,{staticClass:"mt-2",staticStyle:{"min-height":"500px"},attrs:{elevation:"1"}},[t.isDashboard?t._e():e(T.a,{staticClass:"mb-2 popup_background",attrs:{dense:"",flat:""}},[e(A.b,[e("span",{staticClass:"page-title-display",staticStyle:{color:"black"}},[t._v("\n          "+t._s(t.title))])]),t._v(" "),e("span",[e(o.a,{staticClass:"ma-0 px-0",attrs:{title:"Reload",dense:"","x-small":"",ripple:!1,text:""},on:{click:function(e){return t.getDataFromApi()}}},[e(h.a,{staticClass:"ml-2",attrs:{dark:""}},[t._v("mdi mdi-reload")])],1)],1),t._v(" "),e("span",[e(o.a,{staticClass:"ma-0 px-0",attrs:{dense:"","x-small":"",ripple:!1,text:"",title:"Filter"}},[e(h.a,{staticClass:"mx-1 ml-2",on:{click:t.toggleFilter}},[t._v("mdi mdi-filter")])],1)],1),t._v(" "),e(F.a)],1),t._v(" "),e(v.a,{staticClass:"elevation-0 alternate-rows",attrs:{dense:"",headers:t.headers_table,items:t.data,"model-value":"data.id",loading:t.loading,options:t.options,"footer-props":{itemsPerPageOptions:[10,50,100,500,1e3]},"server-items-length":t.totalRowsCount,"hide-default-footer":t.isDashboard},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"header",fn:function(n){var o=n.props.headers;return[t.isFilter&&!t.isDashboard?e("tr",t._l(o,(function(header){return e("td",{key:header.text},[e(m.a,[header.filterable&&!header.filterSpecial?e(P.a,{attrs:{clearable:"","hide-details":!0,id:"header.value",outlined:"",dense:"",autocomplete:"off"},on:{input:function(e){return t.applyFilters(header.value,e)}},model:{value:t.filters[header.value],callback:function(e){t.$set(t.filters,header.value,e)},expression:"filters[header.value]"}}):header.filterable&&header.filterSpecial&&"status_id"==header.value?e(j.a,{attrs:{clearable:"","hide-details":!0,"item-value":"id","item-text":"name",outlined:"",dense:"",items:[{id:"",name:"All"}].concat(Object(M.a)(t.visitor_status_list))},on:{change:function(e){return t.applyFilters("status",e)}},model:{value:t.filters[header.value],callback:function(e){t.$set(t.filters,header.value,e)},expression:"filters[header.value]"}}):header.filterable&&header.filterSpecial&&"purpose_id"==header.value?e(j.a,{attrs:{clearable:"","hide-details":!0,"item-value":"id","item-text":"name",outlined:"",dense:"",items:[{id:"",name:"All Purposes"}].concat(Object(M.a)(t.purposeList))},on:{change:function(e){return t.applyFilters("status",e)}},model:{value:t.filters[header.value],callback:function(e){t.$set(t.filters,header.value,e)},expression:"filters[header.value]"}}):t._e(),t._v(" "),header.filterSpecial&&"branch_id"==header.value?e(j.a,{attrs:{"hide-details":!0,clearable:"","item-value":"id","item-text":"branch_name",outlined:"",dense:"",items:[{branch_name:"All Branches",id:""}].concat(Object(M.a)(t.branchesList))},on:{change:function(e){return t.applyFilters("status",e)}},model:{value:t.filters[header.value],callback:function(e){t.$set(t.filters,header.value,e)},expression:"filters[header.value]"}}):header.filterable&&header.filterSpecial&&"host_company_id"==header.value?e(r.a,{attrs:{clearable:"","hide-details":!0,"item-value":"host_id","item-text":"full_name",outlined:"",dense:"",items:[{host_id:"",full_name:"All Hosts"}].concat(Object(M.a)(t.hostList))},on:{change:function(e){return t.applyFilters("status",e)}},model:{value:t.filters[header.value],callback:function(e){t.$set(t.filters,header.value,e)},expression:"filters[header.value]"}}):header.filterable&&header.filterSpecial&&"visit_from"==header.value?e("div",{staticStyle:{"margin-top":"-17px"}},[e("Calender",{attrs:{defaultFilterType:1,height:"40px",default_date_from:t.from_date,default_date_to:t.to_date},on:{"filter-attr":t.filterAttr}})],1):t._e()],1)],1)})),0):t._e()]}},{key:"item.sno",fn:function(e){var n=e.item;e.index;return[t._v("\n        "+t._s(t.currentPage?(t.currentPage-1)*t.perPage+(t.cumulativeIndex+t.data.indexOf(n)):"-")+"\n      ")]}},{key:"item.phone_number_or_email",fn:function(n){var r=n.item;return[e(C.a,{attrs:{"no-gutters":""}},[e(d.a,{staticStyle:{padding:"5px","padding-left":"0px",width:"50px","max-width":"50px"}},[e(y.a,{staticStyle:{border:"1px solid #ddd","border-radius":"50%",height:"50px",width:"50px","max-width":"50px"},attrs:{src:r.logo?r.logo:"/no-profile-image.jpg"}})],1),t._v(" "),e(d.a,{staticStyle:{padding:"10px"}},[e("strong",[t._v("\n              "+t._s(r?r.first_name:"---")+"\n              "+t._s(r?r.last_name:"---"))]),t._v(" "),e("div",{staticClass:"secondary-value"},[t._v("\n              "+t._s(r?r.phone_number:"---")+"\n            ")]),t._v(" "),e("div",{staticClass:"secondary-value"},[t._v("\n              "+t._s(r?r.email:"---")+"\n            ")])])],1)]}},{key:"item.first_name",fn:function(e){var n=e.item;return[t._v("\n        "+t._s(n.full_name)+"\n      ")]}},{key:"item.branch_id",fn:function(n){var r=n.item;return[t._v("\n        "+t._s(r.branch&&r.branch.branch_name||"---")+"\n\n        "),e("div",{staticClass:"secondary-value"},[t._v("\n          "+t._s(r.host&&r.host.floor_number||"---")+" -\n          "+t._s(r.host&&r.host.flat_number||"---")+" -\n        ")])]}},{key:"item.purpose_id",fn:function(e){var n,r=e.item;return[t._v("\n        "+t._s(null===(n=r.purpose)||void 0===n?void 0:n.name)+"\n      ")]}},{key:"item.visit_from",fn:function(n){var r=n.item;return[t._v("\n        "+t._s(t.$dateFormat.format1(r.from_date_display))+"\n        "),r.to_date_display!=r.from_date_display?e("div",[t._v("\n          to "+t._s(t.$dateFormat.format1(r.to_date_display))+"\n        ")]):t._e(),t._v(" "),e("div",{staticClass:"secondary-value"},[t._v("\n          "+t._s(t.$dateFormat.time2Hm(r.time_in))+" -\n          "+t._s(t.$dateFormat.time2Hm(r.time_out))+"\n        ")])]}},{key:"item.visitor_company_name",fn:function(e){var n=e.item;return[t._v(t._s(n.visitor_company_name)+"\n      ")]}},{key:"item.id",fn:function(n){var r=n.item;return[1==r.id_type?e("span",[t._v("Emirates ID")]):2==r.id_type?e("span",[t._v("National ID")]):t._e(),t._v(" "),e("br"),t._v(" "),e("span",{staticClass:"secondary-value"},[t._v(" "+t._s(r.id_number))])]}},{key:"item.host_company_id",fn:function(e){var n,r,o=e.item;return[t._v("\n        "+t._s((null===(n=o.host)||void 0===n?void 0:n.employee.first_name)||"---")+"\n        "+t._s(null===(r=o.host)||void 0===r?void 0:r.employee.last_name)+"\n      ")]}},{key:"item.rejected_reason",fn:function(n){var r=n.item;return[e("div",{staticStyle:{color:"red"}},[t._v("\n          "+t._s(r.rejected_reason)+"\n        ")])]}},{key:"item.status_id",fn:function(n){var r=n.item;return[e("span",{style:"color:"+t.getRelatedColor(r)},[t._v(t._s(r.status)+"\n          "),e("div",{staticStyle:{color:"red"}},[t._v("\n            "+t._s(t.verifyOverstay(r))+"\n          ")]),t._v(" "),r.status_id>=4?e("div",{staticClass:"secondary-value"},[t._v("\n            "+t._s(r.system_user_id)+"\n          ")]):t._e()])]}},{key:"item.options",fn:function(n){var r=n.item;return[e(O.a,{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[e(o.a,t._g(t._b({attrs:{"dark-2":"",icon:""}},"v-btn",l,!1),r),[e(h.a,[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[t._v(" "),e(x.a,{attrs:{width:"150",dense:""}},[e(k.a,{on:{click:function(e){return t.viewInfo(r)}}},[e(D.c,{staticStyle:{cursor:"pointer"}},[e(h.a,{attrs:{color:"green",small:""}},[t._v(" mdi-eye ")]),t._v("\n                View\n              ")],1)],1),t._v(" "),t.can("host_edit")?e(k.a,{on:{click:function(e){return t.uploadVisitorInfo(r)}}},[e(D.c,{staticStyle:{cursor:"pointer"}},[e(h.a,{attrs:{color:"purple",small:""}},[t._v(" mdi-cellphone-text ")]),t._v("\n                Upload Visitor to Device\n              ")],1)],1):t._e(),t._v(" "),r.system_user_id>0?e(k.a,{on:{click:function(e){return t.viewUploadedVisitorInfo(r)}}},[e(D.c,{staticStyle:{cursor:"pointer"}},[e(h.a,{attrs:{color:"purple",small:""}},[t._v(" mdi-eye ")]),t._v("\n                View Uploded info\n              ")],1)],1):t._e()],1)],1)]}}])})],1),t._v(" "),e("div",{staticClass:"text-center"},[e(_.a,{attrs:{"max-width":"500px"},model:{value:t.uploadUserToDeviceDialog,callback:function(e){t.uploadUserToDeviceDialog=e},expression:"uploadUserToDeviceDialog"}},[e(l.a,[e(c.c,{staticClass:"headline"},[t._v("Upload Visitor")]),t._v(" "),e(c.b,{staticClass:"mt-2"},[e(f.a,{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(P.a,{attrs:{label:"Visitor ID",required:"",outlined:"",dense:"",type:"number",rules:t.required},model:{value:t.payload.system_user_id,callback:function(e){t.$set(t.payload,"system_user_id",e)},expression:"payload.system_user_id"}}),t._v(" "),e(P.a,{attrs:{label:"RFID Card Number",required:"",outlined:"",dense:"",type:"number"},model:{value:t.payload.card_rfid_number,callback:function(e){t.$set(t.payload,"card_rfid_number",e)},expression:"payload.card_rfid_number"}}),t._v(" "),e(P.a,{attrs:{label:"Password",required:"",outlined:"",dense:"",type:"number"},model:{value:t.payload.card_rfid_password,callback:function(e){t.$set(t.payload,"card_rfid_password",e)},expression:"payload.card_rfid_password"}}),t._v(" "),e(j.a,{attrs:{items:t.zoneList,label:"Zone Devices","item-text":"name","item-value":"id",outlined:"",dense:"",required:"",rules:t.required},model:{value:t.payload.zone_id,callback:function(e){t.$set(t.payload,"zone_id",e)},expression:"payload.zone_id"}})],1)],1),t._v(" "),e("div",{staticClass:"pa-5",staticStyle:{"font-size":"14px"}},[t._v("\n          "+t._s(t.response)+"\n        ")]),t._v(" "),e(c.a,[e(F.a),t._v(" "),e(o.a,{attrs:{dark:"",color:"grey"},on:{click:t.cancel}},[t._v("Cancel")]),t._v(" "),e(o.a,{attrs:{dark:"",color:"purple",disabled:!t.valid},on:{click:t.save}},[t._v("Save")])],1)],1)],1),t._v(" "),e(_.a,{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(l.a,[e(T.a,{attrs:{flat:"",dense:""}},[e(F.a),t._v(" "),e(h.a,{on:{click:function(e){t.dialog=!1}}},[t._v("mdi-close")])],1),t._v(" "),e(c.b,[e("p",{staticClass:"text-center"},[e(y.a,{staticStyle:{display:"inline-block"},attrs:{src:t.response_image,alt:"Avatar",height:"50px",width:"50px"}})],1),t._v(" "),e("p",{staticClass:"text-center"},[t._v("\n            "+t._s(t.message)+"\n          ")])])],1)],1),t._v(" "),e(_.a,{attrs:{"max-width":"500px"},model:{value:t.uploadedUserInfoDialog,callback:function(e){t.uploadedUserInfoDialog=e},expression:"uploadedUserInfoDialog"}},[e(l.a,{attrs:{loading:t.loadingDeviceData}},[e(c.a,[e("span",[t._v("Reading Visitor info from Devices")]),t._v(" "),e(F.a),t._v(" "),e(h.a,{attrs:{outlined:""},on:{click:function(e){t.uploadedUserInfoDialog=!1}}},[t._v("mdi-close-circle-outline")])],1),t._v(" "),e(c.b,{staticClass:"mt-2"},t._l(t.visitorUploadedDevicesInfo,(function(n,r){return e(l.a,{key:"vs"+r},[e(c.c,{staticStyle:{"font-size":"13px"}},[t._v(t._s(++r)+": Device: "+t._s(n.deviceName)+"\n            ")]),t._v(" "),e(c.b,{staticClass:"mt-2"},[n.SDKresponseData.data?e(C.a,{staticClass:"100%",staticStyle:{margin:"auto","line-height":"36px"}},[e(d.a,{staticStyle:{padding:"0px"},attrs:{cols:"4"}},[e(y.a,{staticStyle:{"border-radius":"10%",width:"100px","max-width":"95%",height:"auto",border:"1px solid #ddd"},attrs:{src:n.SDKresponseData.data.faceImage?"data:image/jpeg;base64, "+n.SDKresponseData.data.faceImage:"/no-profile-image.jpg"}})],1),t._v(" "),e(d.a,{staticStyle:{padding:"0px"},attrs:{cols:"8"}},[e(I.a,[e("tr",[e("td",[t._v("Name")]),t._v(" "),e("td",[t._v(": "+t._s(n.SDKresponseData.data.name))])]),t._v(" "),e("tr",[e("td",[t._v("System User Id")]),t._v(" "),e("td",[t._v(": "+t._s(n.SDKresponseData.data.userCode))])]),t._v(" "),e("tr",[e("td",[t._v("Expiry Date")]),t._v(" "),e("td",[t._v(": "+t._s(n.SDKresponseData.data.expiry))])]),t._v(" "),e("tr",[e("td",[t._v("RFID Card Number")]),t._v(" "),e("td",[t._v(": "+t._s(n.SDKresponseData.data.cardData))])]),t._v(" "),e("tr",[e("td",[t._v("Password")]),t._v(" "),e("td",[t._v("\n                        :\n                        "+t._s(n.SDKresponseData.data.password.replaceAll("F",""))+"\n                      ")])]),t._v(" "),e("tr",[e("td",[t._v("Timezone Group Id")]),t._v(" "),e("td",[t._v(": "+t._s(n.SDKresponseData.data.timeGroup))])])])],1)],1):e("div",[t._v(t._s(n.SDKresponseData.message))]),t._v(" "),e(C.a,[e(d.a,{attrs:{cols:"12"}},[t.can("visitor_delete")?e(o.a,{staticClass:"align-right",staticStyle:{float:"right",color:"#fff"},attrs:{dense:"",small:"",color:"red"},on:{click:function(e){return t.deleteFromDevice(n)}}},[t._v("Delete")]):t._e()],1)],1)],1)],1)})),1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Calender:n(905).default})},980:function(t,e,n){"use strict";n.r(e);var r=n(114),o=n(133),l=n(518),c=n(875),d=n(350),m=n(147),v=n(517),_=n(214),f=(n(33),n(266),n(23)),h=(n(933),n(521),n(35),n(88),{props:["visitor_type"],components:{VisitorAttendanceLogsPopup:n(945).default},data:function(){return{loading:!1,dialog:!1,payload:{},UserID:null,searchCard:!0,infoCard:!1,item:{},response:null,firstItem:{},lastItem:{},errors:[]}},created:function(){var t=this;return Object(f.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!1;case 1:case"end":return e.stop()}}),e)})))()},methods:{close:function(){this.searchCard=!0,this.infoCard=!1,this.dialog=!1},search:function(){var t=this;this.loading=!0,this.response=null,this.$axios.get("search_visitor_by_user_id",{params:{UserID:this.UserID}}).then((function(e){var data=e.data;if(!data)return t.response="No record found",void(t.loading=!1);t.response=null,t.searchCard=!1,t.infoCard=!0,t.item=data,t.loading=!1;var n=data.attendance_logs;t.firstItem=n[0],t.lastItem=n[n.length-1]})).catch((function(e){var n=e.response;t.response=null,t.searchCard=!1,t.infoCard=!0,t.data=[],t.loading=!1,console.log("error:",n)}))},checkout:function(){var t=this;return Object(f.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={UserID:t.UserID,LogTime:t.getCurrentDateTime(),DeviceID:"Manual",company_id:t.$auth.user.company_id,log_type:"out",mode:"Manual",visitor_id:t.item.id},t.loading=!0,t.$axios.post("generate_log",n).then(function(){var e=Object(f.a)(regeneratorRuntime.mark((function e(n){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(data=n.data,t.loading=!1,data.status){e.next=5;break}return t.errors=data.errors,e.abrupt("return");case 5:return e.next=7,t.render_report();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){var n=e.message;console.log(n),t.$emit("response","Checkout cannot be done")}));case 3:case"end":return e.stop()}}),e)})))()},render_report:function(){var t=this;return Object(f.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={LogTime:t.getCurrentDateTime(),company_id:t.$auth.user.company_id,id:t.item.id,UserIds:[t.UserID]},t.loading=!0,t.$axios.post("/community_visitor_report",n).then((function(e){var data=e.data,n=e.status;if(t.loading=!1,200==n)return t.$emit("success","Checkout has been recorded"),void(t.dialog=!1);t.errors=data.errors})).catch((function(e){var n=e.message;console.log(n),t.$emit("response","Checkout cannot be done")}));case 3:case"end":return e.stop()}}),e)})))()},getCurrentDateTime:function(){var t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),o=String(t.getHours()).padStart(2,"0"),l=String(t.getMinutes()).padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(r," ").concat(o,":").concat(l)}}}),y=h,x=n(116),component=Object(x.a)(y,(function(){var t=this,e=t._self._c;return e(d.a,{attrs:{persistent:"",width:"750"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e("span",t._g(t._b({staticStyle:{cursor:"pointer"}},"span",o,!1),r),[e(m.a,{attrs:{color:"black"}},[t._v("mdi-magnify")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),t.searchCard?e(o.a,[e(c.a,[e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{staticClass:"text-right",attrs:{cols:"12"}},[e(m.a,{attrs:{color:"primary"},on:{click:t.close}},[t._v(" mdi-close ")])],1),t._v(" "),e(l.a,{staticClass:"my-1",attrs:{cols:"12"}},[e(_.a,{attrs:{label:"Search","hide-details":"",dense:"",outlined:""},model:{value:t.UserID,callback:function(e){t.UserID=e},expression:"UserID"}})],1),t._v(" "),t.response?e(l.a,{staticClass:"red--text",attrs:{cols:"12"}},[e("div",{staticClass:"my-1"},[t._v("\n            "+t._s(t.response)+"\n          ")])]):t._e(),t._v(" "),e(l.a,{attrs:{cols:"12"}},[e(r.a,{staticClass:"mt-2",attrs:{loading:t.loading,color:"primary",block:""},on:{click:t.search}},[t._v("Search")])],1)],1)],1)],1):t._e(),t._v(" "),t.infoCard&&t.item&&t.item.id?e(o.a,[e(c.a,[e(v.a,{attrs:{"no-gutters":""}},[e(l.a,{staticClass:"text-right",attrs:{cols:"12"}},[e(m.a,{attrs:{color:"primary"},on:{click:t.close}},[t._v(" mdi-close ")])],1),t._v(" "),e(l.a,{attrs:{cols:"12"}},[e("VisitorAttendanceLogsPopup",{attrs:{UserID:t.item.id,visitor_type:t.visitor_type}}),t._v(" "),e(r.a,{staticClass:"mt-2",attrs:{loading:t.loading,color:"primary",block:""},on:{click:t.checkout}},[t._v("Checkout")])],1)],1)],1)],1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports},989:function(t,e,n){"use strict";n.r(e);var r=n(893),o=n(114),l=n(133),c=n(87),d=n(518),m=n(875),v=n(1545),_=n(350),f=n(147),h=n(517),y=n(892),x=n(872),k=n(349),D=n(96),O=n(81),w=(n(35),n(37),n(23)),S=n(31),C=n(3),j=(n(88),n(215),n(99),n(6),n(528),n(521),n(72),n(13),n(41),n(61),n(117),n(80),n(12),n(945)),I=n(967),$={props:["user_type","dropdown","label","showFilters"],components:{VisitorAttendanceLogsPopup:j.default,TenantAttendanceLogsPopup:I.default},data:function(){var t;return t={key:1,selectedItem:{},tableHeight:750,status:"",department_ids:"",employee_id:"",daily_date:"",to_date:"",totalRowsCount:0,snack:!1,snackColor:"",snackText:"",date:null,menu:!1,options:{}},Object(C.a)(t,"date",null),Object(C.a)(t,"endpoint","community_common_report"),Object(C.a)(t,"search",""),Object(C.a)(t,"snackbar",!1),Object(C.a)(t,"add_manual_log",!1),Object(C.a)(t,"dialog",!1),Object(C.a)(t,"generateLogsDialog",!1),Object(C.a)(t,"reportSync",!1),Object(C.a)(t,"from_menu",!1),Object(C.a)(t,"to_menu",!1),Object(C.a)(t,"ids",[]),Object(C.a)(t,"departments",[]),Object(C.a)(t,"users",[]),Object(C.a)(t,"DateRange",!0),Object(C.a)(t,"devices",[]),Object(C.a)(t,"loading",!1),Object(C.a)(t,"total",0),Object(C.a)(t,"UserID",""),Object(C.a)(t,"payload",{DeviceID:"",report_type:"",user_type:"",from_date:(new Date).toISOString().split("T")[0],to_date:(new Date).toISOString().split("T")[0],UserID:""}),Object(C.a)(t,"response",""),Object(C.a)(t,"data",[]),Object(C.a)(t,"headers",[{text:"S.NO",align:"left",sortable:!0,key:"id",value:"id",color:"red"},{text:"Name",align:"left",sortable:!0,key:"user",value:"user"},{text:"In",align:"left",sortable:!1,key:"in",value:"in"},{text:"Out",align:"left",sortable:!1,key:"out",value:"out"},{text:"Status",align:"left",sortable:!1,key:"status",value:"status"},{text:"Mode",align:"left",sortable:!1,key:"mode",value:"mode"},{text:"User Type",align:"left",sortable:!1,key:"user_type",value:"user_type"}]),Object(C.a)(t,"visitor_type",""),t},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},created:function(){if(this.getUsers(),this.getDeviceList(),this.payload.user_type=this.user_type,"tanent"==this.user_type){var t;(t=this.headers).splice.apply(t,[2,0].concat([{text:"Flat",align:"left",sortable:!0,key:"flat",value:"flat"}]))}else if("visitor"==this.user_type||"delivery"==this.user_type||"contractor"==this.user_type){var e,n,r=[{text:"Host",align:"left",sortable:!0,key:"host",value:"host"}];(e=this.headers).splice.apply(e,[2,0].concat(Object(O.a)(r))),r=[{text:"Purpose",align:"left",sortable:!0,key:"purpose",value:"purpose"}],(n=this.headers).splice.apply(n,[6,0].concat(Object(O.a)(r)))}},methods:{handleSuccessResponse:function(t){this.snackbar=!0,this.response=t,this.getDataFromApi()},showDialog:function(t){this.key++,this.selectedItem=t,t.visitor?this.UserID=t.visitor.id:t.tanent?this.UserID=t.tanent.id:t.owner?this.UserID=t.owner.id:t.contractor?this.UserID=t.contractor.id:t.delivery?this.UserID=t.delivery.id:t.maid?this.UserID=t.maid.id:t.primary?this.UserID=t.primary.id:t.family_member&&(this.UserID=t.family_member.id),this.visitor_type=this.getUserType(t),this.dialog=!0},setUserID:function(t){var e;this.payload.UserID=null!==(e=this.users.find((function(e){return e.id==t})).system_user_id)&&void 0!==e?e:0},getUserType:function(t){for(var e={Tanent:t.tanent,"Family Member":t.family_member,Relative:t.relative,Visitor:t.visitor,Delivery:t.delivery,Contractor:t.contractor,Maid:t.maid,Owner:t.owner,Employee:t.employee},n=0,r=Object.entries(e);n<r.length;n++){var o=Object(S.a)(r[n],2),l=o[0];if(o[1])return l}return"Unknown"},generateRandomId:function(){return Math.floor(Math.random()*Math.pow(10,8)).toString().padStart(8,"0")},getUserPhone:function(t){for(var e={Tanent:t.tanent,"Family Member":t.family_member,Relative:t.relative,Visitor:t.visitor,Delivery:t.delivery,Contractor:t.contractor,Maid:t.maid},n=0,r=Object.entries(e);n<r.length;n++){var o=Object(S.a)(r[n],2),l=(o[0],o[1]);if(l)return l}return"---"},filterAttr:function(data){this.payload.from_date=data.from,this.payload.to_date=data.to,this.getDataFromApi()},getUsers:function(){var t=this,e={params:{per_page:1e3,company_id:this.$auth.user.company_id,user_type:this.user_type}};this.$axios.get("/get_users",e).then((function(e){var data=e.data;t.users=data}))},getDeviceList:function(){var t=this;this.$axios.get("/device_list",{params:{per_page:1e3,company_id:this.$auth.user.company_id}}).then((function(e){var data=e.data;t.devices=data.filter((function(t){return!t.name.includes("Mobile")}))}))},can:function(t){return this.$pagePermission.can(t,this)},getDataFromApi:function(){var t=this;return Object(w.a)(regeneratorRuntime.mark((function e(){var n,data,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.payload.from_date){e.next=2;break}return e.abrupt("return",!1);case 2:return t.payload.from_date&&(t.payload.from_date=t.payload.from_date),t.payload.to_date&&(t.payload.to_date=t.payload.to_date),t.loading=!0,e.next=7,t.$store.dispatch("fetchData",{key:"access_control_report",options:t.options,refresh:!0,endpoint:t.endpoint,filters:t.payload,user_type:t.user_type});case 7:n=e.sent,data=n.data,r=n.total,t.data=data,t.totalRowsCount=r,t.loading=!1;case 13:case"end":return e.stop()}}),e)})))()},process_file:function(t){var e=this;return Object(w.a)(regeneratorRuntime.mark((function n(){var r,o,l,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,e.data&&e.data.length){n.next=4;break}return alert("No data found"),n.abrupt("return");case 4:"http://192.168.88.30:8000/api",r={company_id:e.$auth.user.company_id,UserID:e.payload.UserID,DeviceID:e.payload.DeviceID,from_date:e.payload.from_date,to_date:e.payload.to_date,report_type:e.payload.report_type,user_type:e.payload.user_type},e.payload.from_date&&(r.from_date=e.payload.from_date),e.payload.to_date&&(r.to_date=e.payload.to_date),o=Object.keys(r).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(r[t]))})).join("&"),l="".concat("http://192.168.88.30:8000/api","/").concat(t,"?").concat(o),(c=document.createElement("a")).setAttribute("href",l),c.setAttribute("target","_blank"),c.click(),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),console.error("Error processing file:",n.t0.message);case 19:case"end":return n.stop()}}),n,null,[[0,16]])})))()}}},F=n(116),component=Object(F.a)($,(function(){var t=this,e=t._self._c;return t.can("dashboard_access")?e("div",[e(_.a,{attrs:{"max-width":"1000"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(l.a,[e(m.a,[e(h.a,{staticClass:"pa-0 ma-0",attrs:{"no-gutters":""}},[e(d.a,{staticClass:"text-right"},[e(f.a,{attrs:{color:"primary"},on:{click:function(e){t.dialog=!1}}},[t._v("\n              mdi-close-circle-outline\n            ")])],1)],1),t._v(" "),null!=t.selectedItem.employee?e("EmployeeShortView",{key:t.key+1,attrs:{item:t.selectedItem}}):"visitor"==t.visitor_type.toLowerCase()||"contractor"==t.visitor_type.toLowerCase()||"delivery"==t.visitor_type.toLowerCase()?e("VisitorAttendanceLogsPopup",{key:t.generateRandomId(),attrs:{UserID:t.UserID}}):"tenant"==t.visitor_type||"Tanent"==t.visitor_type||"Owner"==t.visitor_type||"Family Member"==t.visitor_type||"Maid"==t.visitor_type?e("TenantAttendanceLogsPopup",{key:t.key,attrs:{UserID:t.UserID,visitor_type:t.visitor_type}}):t._e()],1)],1)],1),t._v(" "),t.showFilters?e(l.a,{staticClass:"mt-2",attrs:{elevation:"1"}},[e(D.a,{attrs:{dense:"",flat:""}},[e("span",{staticClass:"headline black--text"},[t._v(" "+t._s(t.label))]),t._v(" "),e("span",[e(o.a,{staticClass:"ma-0 px-0",attrs:{dense:"","x-small":"",ripple:!1,text:"",title:"Reload"}},[e(f.a,{staticClass:"ml-2",attrs:{dark:""},on:{click:t.getDataFromApi}},[t._v("mdi-reload")])],1)],1)]),t._v(" "),e(c.b,{staticClass:"py-3"},[e(h.a,[e(d.a,{attrs:{md:"2",sm:"2"}},[e(y.a,{attrs:{label:"Report Type",outlined:"",dense:"","x-small":"",items:[{id:"",name:"Select All"},{id:"Date Wise Access Control Report",name:"Date Wise Access Control Report"},{id:"Door Wise Access Control Report",name:"Door Wise Access Control Report"},{id:"Allowed",name:"Access Granted Access Control Report"},{id:"Access Denied",name:"Access Denied Access Control Report"}],"item-value":"id","item-text":"name","hide-details":!0},model:{value:t.payload.report_type,callback:function(e){t.$set(t.payload,"report_type",e)},expression:"payload.report_type"}})],1),t._v(" "),t.dropdown?e(d.a,{attrs:{md:"2",sm:"2"}},[e(y.a,{attrs:{label:"User Type",outlined:"",dense:"","x-small":"",items:[{id:"",name:"Select All"},{id:"tanent",name:"Tanent"},{id:"family_member",name:"Family Member"},{id:"relative",name:"Relative"},{id:"visitor",name:"Visitor"},{id:"delivery",name:"Delivery"},{id:"contractor",name:"Contractor"},{id:"maid",name:"Maid"},{id:"employee",name:"Employee"}],"item-value":"id","item-text":"name","hide-details":!0},model:{value:t.payload.user_type,callback:function(e){t.$set(t.payload,"user_type",e)},expression:"payload.user_type"}})],1):t._e(),t._v(" "),e(d.a,{attrs:{md:"2",sm:"4"}},[e(y.a,{attrs:{label:"Door",outlined:"",dense:"","x-small":"",items:[{device_id:"",name:"Select All"}].concat(Object(O.a)(t.devices)),"item-value":"device_id","item-text":"name","hide-details":!0},model:{value:t.payload.DeviceID,callback:function(e){t.$set(t.payload,"DeviceID",e)},expression:"payload.DeviceID"}})],1),t._v(" "),e(d.a,{attrs:{md:"2",sm:"4"}},[e(r.a,{attrs:{density:"comfortable",label:"Members",outlined:"",dense:"","x-small":"",items:[{system_user_id:"",full_name:"Select All"}].concat(Object(O.a)(t.users)),"item-value":"id","item-text":"full_name"},on:{change:function(e){return t.setUserID(t.UserID)}},model:{value:t.UserID,callback:function(e){t.UserID=e},expression:"UserID"}})],1),t._v(" "),e(d.a,{attrs:{md:"2",sm:"5"}},[e("CustomFilter",{attrs:{defaultFilterType:1,height:"40px "},on:{"filter-attr":t.filterAttr}})],1),t._v(" "),e(d.a,{attrs:{md:"2",sm:"2"}},[e(o.a,{attrs:{color:"primary",primary:"",fill:""},on:{click:function(e){return t.getDataFromApi()}}},[t._v("Generate\n          ")])],1)],1)],1)],1):t._e(),t._v(" "),e(l.a,{staticClass:"mb-5 mt-5",attrs:{elevation:"1"}},[e("div",[e("div",{staticClass:"text-center"},[e(x.a,{attrs:{top:"top",color:"secondary",elevation:"24"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n          "+t._s(t.response)+"\n        ")]),t._v(" "),e(x.a,{attrs:{timeout:3e3,color:t.snackColor},scopedSlots:t._u([{key:"action",fn:function(n){var r=n.attrs;return[e(o.a,t._b({attrs:{text:""},on:{click:function(e){t.snack=!1}}},"v-btn",r,!1),[t._v(" Close ")])]}}],null,!1,3090489768),model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n          "+t._s(t.snackText)+"\n\n          ")])],1),t._v(" "),e(l.a,{staticClass:"mb-0",attrs:{elevation:"0"}},[e(D.a,{staticClass:"backgrounds",staticStyle:{height:"40px"},attrs:{flat:""}},[e(k.a),t._v(" "),t.showFilters?e("span",{staticStyle:{"padding-left":"15px"}},[e("img",{staticClass:"iconsize",staticStyle:{cursor:"pointer"},attrs:{title:"Print",src:"/icons/icon_print.png"},on:{click:function(e){return t.process_file("community-report-print")}}})]):t._e(),t._v(" "),t.showFilters?e("span",{staticStyle:{"padding-left":"15px","padding-right":"10px"}},[e("img",{staticClass:"iconsize",staticStyle:{cursor:"pointer"},attrs:{title:"Download Pdf",src:"/icons/icon_pdf.png"},on:{click:function(e){return t.process_file("community-report-download")}}})]):t._e(),t._v(" "),t.can("".concat(t.user_type,"_view"))&&!t.showFilters?e("CommunityManualCheckOut",{staticClass:"pl-10",staticStyle:{"padding-left":"10px !important"},attrs:{button_type:"icon",visitor_type:"visitor"},on:{success:t.handleSuccessResponse}}):t._e(),t._v(" "),t.can("".concat(t.user_type,"_create"))&&!t.showFilters?e("CommunityVisitorCreate",{attrs:{standalone:!0,label:t.label,button_type:"icon",visitor_type:t.user_type},on:{success:t.handleSuccessResponse}}):t._e()],1),t._v(" "),e(v.a,{staticClass:"elevation-1",staticStyle:{"padding-top":"10px"},attrs:{dense:"",headers:t.headers,items:t.data,loading:t.loading,options:t.options,"footer-props":{itemsPerPageOptions:[10,50,100,500,1e3]},"model-value":"data.id","server-items-length":t.totalRowsCount,"fixed-header":"",height:t.tableHeight},on:{"click:row":t.showDialog,"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.id",fn:function(e){e.item;var n=e.index;return[t._v("\n            "+t._s(n+1)+"\n          ")]}},{key:"item.mode",fn:function(e){var n,r,o,l=e.item;e.index;return[t._v("\n            "+t._s(null!==(n=null==l||null===(r=l.in_log)||void 0===r?void 0:r.mode)&&void 0!==n?n:null==l||null===(o=l.out_log)||void 0===o?void 0:o.mode)+"\n          ")]}},{key:"item.status",fn:function(e){e.item,e.index;return[t._v(" Allowed ")]}},{key:"item.in",fn:function(n){var r,o,l,c,d,m=n.item;n.index;return[t._v("\n            "+t._s(null!==(r=t.$dateFormat.format4(null==m||null===(o=m.in_log)||void 0===o?void 0:o.LogTime))&&void 0!==r?r:"---")+"\n            "),e("br"),t._v(" "),e("small",[t._v(" "+t._s(null!==(l=null==m||null===(c=m.in_log)||void 0===c||null===(d=c.device)||void 0===d?void 0:d.short_name)&&void 0!==l?l:"---"))])]}},{key:"item.out",fn:function(n){var r,o,l,c,d,m=n.item;n.index;return[m.out_log?e("div",[t._v("\n              "+t._s(null!==(r=t.$dateFormat.format4(null==m||null===(o=m.out_log)||void 0===o?void 0:o.LogTime))&&void 0!==r?r:"---")+"\n              "),e("br"),t._v(" "),e("small",[t._v(" "+t._s(null!==(l=null==m||null===(c=m.out_log)||void 0===c||null===(d=c.device)||void 0===d?void 0:d.short_name)&&void 0!==l?l:"---"))])]):e("div",[t._v("---")])]}},{key:"item.flat",fn:function(n){var r,o,l,c,d,m,v,_,f,h,y,x,k,D,O,w=n.item;n.index;return[w.tanent?e("div",{attrs:{"no-gutters":""}},[t._v("\n              "+t._s(null!==(r=null===(o=w.tanent)||void 0===o||null===(l=o.room)||void 0===l?void 0:l.room_number)&&void 0!==r?r:"---")+"\n            ")]):w.family_member?e("div",{attrs:{"no-gutters":""}},[t._v("\n              "+t._s(null!==(c=null===(d=w.family_member)||void 0===d||null===(m=d.room)||void 0===m?void 0:m.room_number)&&void 0!==c?c:"---")+"\n            ")]):w.owner?e("div",{attrs:{"no-gutters":""}},[t._v("\n              "+t._s(null!==(v=null===(_=w.owner)||void 0===_||null===(f=_.room)||void 0===f?void 0:f.room_number)&&void 0!==v?v:"---")+"\n            ")]):w.maid?e("div",{attrs:{"no-gutters":""}},[t._v("\n              "+t._s(null!==(h=null===(y=w.maid)||void 0===y||null===(x=y.room)||void 0===x?void 0:x.room_number)&&void 0!==h?h:"---")+"\n            ")]):w.primary?e("div",{attrs:{"no-gutters":""}},[t._v("\n              "+t._s(null!==(k=null===(D=w.primary)||void 0===D||null===(O=D.room)||void 0===O?void 0:O.room_number)&&void 0!==k?k:"---")+"\n            ")]):t._e()]}},{key:"item.host",fn:function(n){var r,o,l,c,m,v,_,f,y,x,k,D,O,w,S,C,j,I,$,F,P,T=n.item;return[T.visitor?e(h.a,{attrs:{"no-gutters":""}},[e(d.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(r=null==T||null===(o=T.visitor)||void 0===o||null===(l=o.tanent)||void 0===l?void 0:l.full_name)&&void 0!==r?r:"---")+"\n                  "),e("br"),t._v("\n                  "+t._s(null!==(c=null==T||null===(m=T.visitor)||void 0===m||null===(v=m.tanent)||void 0===v||null===(_=v.room)||void 0===_?void 0:_.room_number)&&void 0!==c?c:"---")+"\n                ")])])],1):t._e(),t._v(" "),T.contractor?e(h.a,{attrs:{"no-gutters":""}},[e(d.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(f=null==T||null===(y=T.contractor)||void 0===y||null===(x=y.tanent)||void 0===x?void 0:x.full_name)&&void 0!==f?f:"---")+"\n                  "),e("br"),t._v("\n                  "+t._s(null!==(k=null==T||null===(D=T.contractor)||void 0===D||null===(O=D.tanent)||void 0===O||null===(w=O.room)||void 0===w?void 0:w.room_number)&&void 0!==k?k:"---")+"\n                ")])])],1):t._e(),t._v(" "),T.delivery?e(h.a,{attrs:{"no-gutters":""}},[e(d.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(S=null==T||null===(C=T.delivery)||void 0===C||null===(j=C.tanent)||void 0===j?void 0:j.full_name)&&void 0!==S?S:"---")+"\n                  "),e("br"),t._v("\n                  "+t._s(null!==(I=null==T||null===($=T.delivery)||void 0===$||null===(F=$.tanent)||void 0===F||null===(P=F.room)||void 0===P?void 0:P.room_number)&&void 0!==I?I:"---")+"\n                ")])])],1):t._e()]}},{key:"item.purpose",fn:function(n){var r,o,l,c,d,m,v,_,f,h=n.item;return[h.visitor?e("div",[t._v("\n              "+t._s(null!==(r=null===(o=h.visitor)||void 0===o||null===(l=o.purpose)||void 0===l?void 0:l.name)&&void 0!==r?r:"---")+"\n            ")]):t._e(),t._v(" "),h.contractor?e("div",[t._v("\n              "+t._s(null!==(c=null===(d=h.contractor)||void 0===d||null===(m=d.purpose)||void 0===m?void 0:m.name)&&void 0!==c?c:"---")+"\n            ")]):t._e(),t._v(" "),h.delivery?e("div",[t._v("\n              "+t._s(null!==(v=null===(_=h.delivery)||void 0===_||null===(f=_.purpose)||void 0===f?void 0:f.name)&&void 0!==v?v:"---")+"\n            ")]):t._e()]}},{key:"item.user",fn:function(n){var r,o,l,c,m,v,_,f,y,x,k,D,O,w,S,C,j,I,$,F,P,T,A,M,R,z,U,L,V,H,N,E,B=n.item;return[B.tanent?e(h.a,{attrs:{"no-gutters":""}},[e(d.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(r=null===(o=B.tanent)||void 0===o?void 0:o.full_name)&&void 0!==r?r:"---")+"\n                  "),e("br"),t._v(" "),e("small",[t._v(" "+t._s(null!==(l=null===(c=B.tanent)||void 0===c?void 0:c.phone_number)&&void 0!==l?l:"---"))])])])],1):B.family_member?e(h.a,{attrs:{"no-gutters":""}},[e(d.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(m=null===(v=B.family_member)||void 0===v?void 0:v.first_name)&&void 0!==m?m:"---")+"\n                  "),e("br"),t._v(" "),e("small",[t._v("\n                    "+t._s(null!==(_=null===(f=B.family_member)||void 0===f?void 0:f.phone_number)&&void 0!==_?_:"---"))])])])],1):B.owner?e(h.a,{attrs:{"no-gutters":""}},[e(d.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(y=null===(x=B.owner)||void 0===x?void 0:x.first_name)&&void 0!==y?y:"---")+"\n                  "),e("br"),t._v(" "),e("small",[t._v(" "+t._s(null!==(k=null===(D=B.owner)||void 0===D?void 0:D.phone_number)&&void 0!==k?k:"---"))])])])],1):B.maid?e(h.a,{attrs:{"no-gutters":""}},[e(d.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(O=null===(w=B.maid)||void 0===w?void 0:w.full_name)&&void 0!==O?O:"---")+"\n\n                  "),e("br"),t._v(" "),e("small",[t._v(" "+t._s(null!==(S=null===(C=B.maid)||void 0===C?void 0:C.phone_number)&&void 0!==S?S:"---"))])])])],1):B.visitor?e(h.a,{attrs:{"no-gutters":""}},[e(d.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(j=null===(I=B.visitor)||void 0===I?void 0:I.full_name)&&void 0!==j?j:"---")+"\n                  "),e("br"),t._v(" "),e("small",[t._v(" "+t._s(null!==($=null===(F=B.visitor)||void 0===F?void 0:F.phone_number)&&void 0!==$?$:"---"))])])])],1):B.delivery?e(h.a,{attrs:{"no-gutters":""}},[e(d.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(P=null===(T=B.delivery)||void 0===T?void 0:T.full_name)&&void 0!==P?P:"---")+"\n                  "),e("br"),t._v(" "),e("small",[t._v(" "+t._s(null!==(A=null===(M=B.delivery)||void 0===M?void 0:M.phone_number)&&void 0!==A?A:"---"))])])])],1):B.contractor?e(h.a,{attrs:{"no-gutters":""}},[e(d.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(R=null===(z=B.contractor)||void 0===z?void 0:z.full_name)&&void 0!==R?R:"---")+"\n                  "),e("br"),t._v(" "),e("small",[t._v(" "+t._s(null!==(U=null===(L=B.contractor)||void 0===L?void 0:L.phone_number)&&void 0!==U?U:"---"))])])])],1):B.employee?e(h.a,{attrs:{"no-gutters":""}},[e(d.a,{attrs:{md:"8"}},[e("div",[t._v("\n                  "+t._s(null!==(V=null===(H=B.employee)||void 0===H?void 0:H.first_name)&&void 0!==V?V:"---")+"\n                  "+t._s(null!==(N=null===(E=B.employee)||void 0===E?void 0:E.last_name)&&void 0!==N?N:"---")+"\n                ")])])],1):t._e()]}}],null,!1,3961136835)})],1)],1)])],1):e("NoAccess")}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{EmployeeShortView:n(968).default,CustomFilter:n(946).default,CommunityManualCheckOut:n(980).default,CommunityVisitorCreate:n(965).default,NoAccess:n(879).default})},996:function(t,e,n){"use strict";var r,o=n(31),l=(n(80),n(41),n(61),n(28),n(35),n(33),n(181),n(89),n(99),n(6),n(960),n(940)),c=n(974),d=n(8);!function(t){t[t.Hour=1]="Hour",t[t.Minute=2]="Minute",t[t.Second=3]="Second"}(r||(r={}));var m=Object(d.a)(l.a).extend({name:"v-time-picker-title",props:{ampm:Boolean,ampmReadonly:Boolean,disabled:Boolean,hour:Number,minute:Number,second:Number,period:{type:String,validator:function(t){return"am"===t||"pm"===t}},readonly:Boolean,useSeconds:Boolean,selecting:Number},methods:{genTime:function(){var t=this.hour;this.ampm&&(t=t?(t-1)%12+1:12);var e=null==this.hour?"--":this.ampm?String(t):Object(c.a)(t),n=null==this.minute?"--":Object(c.a)(this.minute),o=[this.genPickerButton("selecting",r.Hour,e,this.disabled),this.$createElement("span",":"),this.genPickerButton("selecting",r.Minute,n,this.disabled)];if(this.useSeconds){var l=null==this.second?"--":Object(c.a)(this.second);o.push(this.$createElement("span",":")),o.push(this.genPickerButton("selecting",r.Second,l,this.disabled))}return this.$createElement("div",{class:"v-time-picker-title__time"},o)},genAmPm:function(){return this.$createElement("div",{staticClass:"v-time-picker-title__ampm",class:{"v-time-picker-title__ampm--readonly":this.ampmReadonly}},[this.ampmReadonly&&"am"!==this.period?null:this.genPickerButton("period","am",this.$vuetify.lang.t("$vuetify.timePicker.am"),this.disabled||this.readonly),this.ampmReadonly&&"pm"!==this.period?null:this.genPickerButton("period","pm",this.$vuetify.lang.t("$vuetify.timePicker.pm"),this.disabled||this.readonly)])}},render:function(t){var e=[this.genTime()];return this.ampm&&e.push(this.genAmPm()),t("div",{staticClass:"v-time-picker-title"},e)}}),v=n(3),_=(n(527),n(12),n(14),n(13),n(17),n(11),n(18),n(958),n(29)),f=n(26);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(v.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var x=Object(d.a)(_.a,f.a).extend({name:"v-time-picker-clock",props:{allowedValues:Function,ampm:Boolean,disabled:Boolean,double:Boolean,format:{type:Function,default:function(t){return t}},max:{type:Number,required:!0},min:{type:Number,required:!0},scrollable:Boolean,readonly:Boolean,rotate:{type:Number,default:0},step:{type:Number,default:1},value:Number},data:function(){return{inputValue:this.value,isDragging:!1,valueOnMouseDown:null,valueOnMouseUp:null}},computed:{count:function(){return this.max-this.min+1},degreesPerUnit:function(){return 360/this.roundCount},degrees:function(){return this.degreesPerUnit*Math.PI/180},displayedValue:function(){return null==this.value?this.min:this.value},innerRadiusScale:function(){return.62},roundCount:function(){return this.double?this.count/2:this.count}},watch:{value:function(t){this.inputValue=t}},methods:{wheel:function(t){t.preventDefault();var e=Math.sign(-t.deltaY||1),n=this.displayedValue;do{n=((n+=e)-this.min+this.count)%this.count+this.min}while(!this.isAllowed(n)&&n!==this.displayedValue);n!==this.displayedValue&&this.update(n)},isInner:function(t){return this.double&&t-this.min>=this.roundCount},handScale:function(t){return this.isInner(t)?this.innerRadiusScale:1},isAllowed:function(t){return!this.allowedValues||this.allowedValues(t)},genValues:function(){for(var t=[],e=this.min;e<=this.max;e+=this.step){var n=e===this.value&&(this.color||"accent");t.push(this.$createElement("span",this.setBackgroundColor(n,{staticClass:"v-time-picker-clock__item",class:{"v-time-picker-clock__item--active":e===this.displayedValue,"v-time-picker-clock__item--disabled":this.disabled||!this.isAllowed(e)},style:this.getTransform(e),domProps:{innerHTML:"<span>".concat(this.format(e),"</span>")}})))}return t},genHand:function(){var t="scaleY(".concat(this.handScale(this.displayedValue),")"),e=this.rotate+this.degreesPerUnit*(this.displayedValue-this.min),n=null!=this.value&&(this.color||"accent");return this.$createElement("div",this.setBackgroundColor(n,{staticClass:"v-time-picker-clock__hand",class:{"v-time-picker-clock__hand--inner":this.isInner(this.value)},style:{transform:"rotate(".concat(e,"deg) ").concat(t)}}))},getTransform:function(i){var t=this.getPosition(i),e=t.x,n=t.y;return{left:"".concat(50+50*e,"%"),top:"".concat(50+50*n,"%")}},getPosition:function(t){var e=this.rotate*Math.PI/180;return{x:Math.sin((t-this.min)*this.degrees+e)*this.handScale(t),y:-Math.cos((t-this.min)*this.degrees+e)*this.handScale(t)}},onMouseDown:function(t){t.preventDefault(),this.valueOnMouseDown=null,this.valueOnMouseUp=null,this.isDragging=!0,this.onDragMove(t)},onMouseUp:function(t){t.stopPropagation(),this.isDragging=!1,null!==this.valueOnMouseUp&&this.isAllowed(this.valueOnMouseUp)&&this.$emit("change",this.valueOnMouseUp)},onDragMove:function(t){if(t.preventDefault(),(this.isDragging||"click"===t.type)&&this.$refs.clock)for(var e,n=this.$refs.clock.getBoundingClientRect(),r=n.width,o=n.top,l=n.left,c=this.$refs.innerClock.getBoundingClientRect().width,d=("touches"in t?t.touches[0]:t),m={x:r/2,y:-r/2},v={x:d.clientX-l,y:o-d.clientY},_=Math.round(this.angle(m,v)-this.rotate+360)%360,f=this.double&&this.euclidean(m,v)<(c+c*this.innerRadiusScale)/4,h=Math.ceil(15/this.degreesPerUnit),i=0;i<h;i++){if(e=this.angleToValue(_+i*this.degreesPerUnit,f),this.isAllowed(e))return this.setMouseDownValue(e);if(e=this.angleToValue(_-i*this.degreesPerUnit,f),this.isAllowed(e))return this.setMouseDownValue(e)}},angleToValue:function(t,e){var n=(Math.round(t/this.degreesPerUnit)+(e?this.roundCount:0))%this.count+this.min;return t<360-this.degreesPerUnit/2?n:e?this.max-this.roundCount+1:this.min},setMouseDownValue:function(t){null===this.valueOnMouseDown&&(this.valueOnMouseDown=t),this.valueOnMouseUp=t,this.update(t)},update:function(t){this.inputValue!==t&&(this.inputValue=t,this.$emit("input",t))},euclidean:function(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},angle:function(t,e){var n=2*Math.atan2(e.y-t.y-this.euclidean(t,e),e.x-t.x);return Math.abs(180*n/Math.PI)}},render:function(t){var e=this,data={staticClass:"v-time-picker-clock",class:y({"v-time-picker-clock--indeterminate":null==this.value},this.themeClasses),on:this.readonly||this.disabled?void 0:{mousedown:this.onMouseDown,mouseup:this.onMouseUp,mouseleave:function(t){return e.isDragging&&e.onMouseUp(t)},touchstart:this.onMouseDown,touchend:this.onMouseUp,mousemove:this.onDragMove,touchmove:this.onDragMove},ref:"clock"};return this.scrollable&&data.on&&(data.on.wheel=this.wheel),t("div",data,[t("div",{staticClass:"v-time-picker-clock__inner",ref:"innerClock"},[this.genHand(),this.genValues()])])}}),k=n(975),D=n(0),O=Object(D.j)(24),w=Object(D.j)(12),S=w.map((function(t){return t+12})),C=Object(D.j)(60),j={1:"hour",2:"minute",3:"second"};e.a=Object(d.a)(k.a,l.a).extend({name:"v-time-picker",props:{allowedHours:[Function,Array],allowedMinutes:[Function,Array],allowedSeconds:[Function,Array],disabled:Boolean,format:{type:String,default:"ampm",validator:function(t){return["ampm","24hr"].includes(t)}},min:String,max:String,readonly:Boolean,scrollable:Boolean,useSeconds:Boolean,value:null,ampmInTitle:Boolean},data:function(){return{inputHour:null,inputMinute:null,inputSecond:null,lazyInputHour:null,lazyInputMinute:null,lazyInputSecond:null,period:"am",selecting:r.Hour}},computed:{selectingHour:{get:function(){return this.selecting===r.Hour},set:function(t){this.selecting=r.Hour}},selectingMinute:{get:function(){return this.selecting===r.Minute},set:function(t){this.selecting=r.Minute}},selectingSecond:{get:function(){return this.selecting===r.Second},set:function(t){this.selecting=r.Second}},isAllowedHourCb:function(){var t,e=this;if(t=this.allowedHours instanceof Array?function(t){return e.allowedHours.includes(t)}:this.allowedHours,!this.min&&!this.max)return t;var n=this.min?Number(this.min.split(":")[0]):0,r=this.max?Number(this.max.split(":")[0]):23;return function(e){return e>=1*n&&e<=1*r&&(!t||t(e))}},isAllowedMinuteCb:function(){var t,e=this,n=!this.isAllowedHourCb||null===this.inputHour||this.isAllowedHourCb(this.inputHour);if(t=this.allowedMinutes instanceof Array?function(t){return e.allowedMinutes.includes(t)}:this.allowedMinutes,!this.min&&!this.max)return n?t:function(){return!1};var r=this.min?this.min.split(":").map(Number):[0,0],l=Object(o.a)(r,2),c=l[0],d=l[1],m=this.max?this.max.split(":").map(Number):[23,59],v=Object(o.a)(m,2),_=v[0],f=v[1],h=60*c+1*d,y=60*_+1*f;return function(r){var time=60*e.inputHour+r;return time>=h&&time<=y&&n&&(!t||t(r))}},isAllowedSecondCb:function(){var t,e=this,n=(!this.isAllowedHourCb||null===this.inputHour||this.isAllowedHourCb(this.inputHour))&&(!this.isAllowedMinuteCb||null===this.inputMinute||this.isAllowedMinuteCb(this.inputMinute));if(t=this.allowedSeconds instanceof Array?function(t){return e.allowedSeconds.includes(t)}:this.allowedSeconds,!this.min&&!this.max)return n?t:function(){return!1};var r=this.min?this.min.split(":").map(Number):[0,0,0],l=Object(o.a)(r,3),c=l[0],d=l[1],m=l[2],v=this.max?this.max.split(":").map(Number):[23,59,59],_=Object(o.a)(v,3),f=_[0],h=_[1],y=_[2],x=3600*c+60*d+1*(m||0),k=3600*f+60*h+1*(y||0);return function(r){var time=3600*e.inputHour+60*e.inputMinute+r;return time>=x&&time<=k&&n&&(!t||t(r))}},isAmPm:function(){return"ampm"===this.format}},watch:{value:"setInputData"},mounted:function(){this.setInputData(this.value),this.$on("update:period",this.setPeriod)},methods:{genValue:function(){return null==this.inputHour||null==this.inputMinute||this.useSeconds&&null==this.inputSecond?null:"".concat(Object(c.a)(this.inputHour),":").concat(Object(c.a)(this.inputMinute))+(this.useSeconds?":".concat(Object(c.a)(this.inputSecond)):"")},emitValue:function(){var t=this.genValue();null!==t&&this.$emit("input",t)},setPeriod:function(t){if(this.period=t,null!=this.inputHour){var e=this.inputHour+("am"===t?-12:12);this.inputHour=this.firstAllowed("hour",e),this.emitValue()}},setInputData:function(t){if(null==t||""===t)this.inputHour=null,this.inputMinute=null,this.inputSecond=null;else if(t instanceof Date)this.inputHour=t.getHours(),this.inputMinute=t.getMinutes(),this.inputSecond=t.getSeconds();else{var e=t.trim().toLowerCase().match(/^(\d+):(\d+)(:(\d+))?([ap]m)?$/)||new Array(6),n=Object(o.a)(e,6),r=n[1],l=n[2],c=n[4],d=n[5];this.inputHour=d?this.convert12to24(parseInt(r,10),d):parseInt(r,10),this.inputMinute=parseInt(l,10),this.inputSecond=parseInt(c||0,10)}this.period=null==this.inputHour||this.inputHour<12?"am":"pm"},convert24to12:function(t){return t?(t-1)%12+1:12},convert12to24:function(t,e){return t%12+("pm"===e?12:0)},onInput:function(t){this.selecting===r.Hour?this.inputHour=this.isAmPm?this.convert12to24(t,this.period):t:this.selecting===r.Minute?this.inputMinute=t:this.inputSecond=t,this.emitValue()},onChange:function(t){this.$emit("click:".concat(j[this.selecting]),t);var e=this.selecting===(this.useSeconds?r.Second:r.Minute);if(this.selecting===r.Hour?this.selecting=r.Minute:this.useSeconds&&this.selecting===r.Minute&&(this.selecting=r.Second),this.inputHour!==this.lazyInputHour||this.inputMinute!==this.lazyInputMinute||this.useSeconds&&this.inputSecond!==this.lazyInputSecond){var time=this.genValue();null!==time&&(this.lazyInputHour=this.inputHour,this.lazyInputMinute=this.inputMinute,this.useSeconds&&(this.lazyInputSecond=this.inputSecond),e&&this.$emit("change",time))}},firstAllowed:function(t,e){var n="hour"===t?this.isAllowedHourCb:"minute"===t?this.isAllowedMinuteCb:this.isAllowedSecondCb;if(!n)return e;var r="minute"===t||"second"===t?C:this.isAmPm?e<12?w:S:O;return((r.find((function(t){return n((t+e)%r.length+r[0])}))||0)+e)%r.length+r[0]},genClock:function(){return this.$createElement(x,{props:{allowedValues:this.selecting===r.Hour?this.isAllowedHourCb:this.selecting===r.Minute?this.isAllowedMinuteCb:this.isAllowedSecondCb,color:this.color,dark:this.dark,disabled:this.disabled,double:this.selecting===r.Hour&&!this.isAmPm,format:this.selecting===r.Hour?this.isAmPm?this.convert24to12:function(t){return t}:function(t){return Object(c.a)(t,2)},light:this.light,max:this.selecting===r.Hour?this.isAmPm&&"am"===this.period?11:23:59,min:this.selecting===r.Hour&&this.isAmPm&&"pm"===this.period?12:0,readonly:this.readonly,scrollable:this.scrollable,size:Number(this.width)-(!this.fullWidth&&this.landscape?80:20),step:this.selecting===r.Hour?1:5,value:this.selecting===r.Hour?this.inputHour:this.selecting===r.Minute?this.inputMinute:this.inputSecond},on:{input:this.onInput,change:this.onChange},ref:"clock"})},genClockAmPm:function(){return this.$createElement("div",this.setTextColor(this.color||"primary",{staticClass:"v-time-picker-clock__ampm"}),[this.genPickerButton("period","am",this.$vuetify.lang.t("$vuetify.timePicker.am"),this.disabled||this.readonly),this.genPickerButton("period","pm",this.$vuetify.lang.t("$vuetify.timePicker.pm"),this.disabled||this.readonly)])},genPickerBody:function(){return this.$createElement("div",{staticClass:"v-time-picker-clock__container",key:this.selecting},[!this.ampmInTitle&&this.isAmPm&&this.genClockAmPm(),this.genClock()])},genPickerTitle:function(){var t=this;return this.$createElement(m,{props:{ampm:this.isAmPm,ampmReadonly:this.isAmPm&&!this.ampmInTitle,disabled:this.disabled,hour:this.inputHour,minute:this.inputMinute,second:this.inputSecond,period:this.period,readonly:this.readonly,useSeconds:this.useSeconds,selecting:this.selecting},on:{"update:selecting":function(e){return t.selecting=e},"update:period":function(e){return t.$emit("update:period",e)}},ref:"title",slot:"title"})}},render:function(){return this.genPicker("v-picker--time")}})}}]);