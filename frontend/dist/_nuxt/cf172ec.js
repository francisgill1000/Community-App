(window.webpackJsonp=window.webpackJsonp||[]).push([[426],{1622:function(t,e,r){"use strict";r.r(e);var o=r(340),n=r(117),c=r(138),l=r(539),d=r(903),v=r(361),_=r(889),m=r(116),h=r(538),f=r(221),x=(r(31),r(273),r(17)),y=(r(543),r(37),r(69),{props:["visitor_type"],data:function(){return{loading:!1,dialog:!1,payload:{},UserID:null,searchCard:!0,infoCard:!1,data:[],response:{}}},created:function(){var t=this;return Object(x.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!1;case 1:case"end":return e.stop()}}),e)})))()},methods:{close:function(){this.searchCard=!0,this.infoCard=!1,this.dialog=!1},search:function(){var t=this;this.loading=!0,this.$axios.get("attendance_logs",{params:{per_page:100,company_id:this.$auth.user.company_id,UserID:this.UserID}}).then((function(e){var data=e.data;if(0==data.data.length)return console.log("Sdfsf",data.data),t.response={status:!1,message:"No record found"},void(t.loading=!1);console.log("Sdfsf",data.data),t.response={status:!0,message:null},t.searchCard=!1,t.infoCard=!0,t.data=data.data,t.loading=!1})).catch((function(e){var r=e.response;t.searchCard=!1,t.infoCard=!0,t.loading=!1,t.response={status:!1,message:"Error occured"},console.log("error:",r)}))},submit:function(){var t=this;return Object(x.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={UserID:user_id,LogTime:t.getCurrentDateTime(),DeviceID:"Manual",company_id:t.$auth.user.company_id,log_type:"out"},t.loading=!0,t.$axios.post("/generate_log",r).then((function(e){var data=e.data;t.loading=!1,data.status?(t.render_report(date,t.shift_type_id),t.$emit("close-popup"),t.snackbar=!0,t.response=data.message):t.errors=data.errors})).catch((function(e){var r=e.message;t.snackbar=!0,t.response=r}));case 3:case"end":return e.stop()}}),e)})))()},getCurrentDateTime:function(){var t=new Date,e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),n=String(t.getHours()).padStart(2,"0"),c=String(t.getMinutes()).padStart(2,"0");return"".concat(e,"-").concat(r,"-").concat(o," ").concat(n,":").concat(c)}}}),S=r(60),component=Object(S.a)(y,(function(){var t=this,e=t._self._c;return e(v.a,{attrs:{persistent:"",width:"700"},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on,n=r.attrs;return[e("span",t._g(t._b({staticStyle:{cursor:"pointer"}},"span",n,!1),o),[e(m.a,{attrs:{color:"black"}},[t._v("mdi-magnify")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),t.searchCard?e(c.a,[e(d.a,[e(h.a,{attrs:{"no-gutters":""}},[e(l.a,{staticClass:"text-right",attrs:{cols:"12"}},[e(m.a,{attrs:{color:"primary"},on:{click:t.close}},[t._v(" mdi-close ")])],1),t._v(" "),e(l.a,{attrs:{cols:"12"}},[e(f.a,{attrs:{label:"Search","hide-details":"",dense:"",outlined:""},model:{value:t.UserID,callback:function(e){t.UserID=e},expression:"UserID"}}),t._v(" "),e(n.a,{staticClass:"mt-2",attrs:{color:"primary",block:""},on:{click:t.search}},[t._v("Search")])],1),t._v(" "),t.response&&t.response.status?e(l.a,{attrs:{cols:"12"}},[t._v("\n          "+t._s(t.response.message)+"\n        ")]):t._e()],1)],1)],1):t._e(),t._v(" "),t.infoCard?e(c.a,[e(d.a,[e(h.a,{attrs:{"no-gutters":""}},[e(l.a,{staticClass:"text-right",attrs:{cols:"12"}},[e(m.a,{attrs:{color:"primary"},on:{click:t.close}},[t._v(" mdi-close ")])],1),t._v(" "),e(l.a,{staticStyle:{"border-right":"1px solid #dddddd"},attrs:{cols:"4"}},[e(_.a),t._v(" "),e(h.a,{staticClass:"pa-0 ma-0"},[e(l.a,{attrs:{cols:"12"}},[e(h.a,{attrs:{"no-gutters":""}},[e(l.a,{staticClass:"text-center",attrs:{cols:"12"}},[e(o.a,{attrs:{size:"100"}},[e("img",{staticStyle:{width:"100%"},attrs:{src:"/no-profile-image.jpg",alt:"Avatar"}})])],1),t._v(" "),e(l.a,{staticClass:"text-center",attrs:{cols:"12"}},[e("div",{staticClass:"mt-1",staticStyle:{height:"15px","font-size":"12px"}},[t._v("\n                    John Doe\n                    ")]),t._v(" "),e("div",{staticStyle:{height:"15px","font-size":"12px"}},[e("small",[t._v("\n                      Designation\n                      ")])]),t._v(" "),e("div",{staticStyle:{"font-size":"12px"}},[e("small",[t._v("\n                      +1234567890\n                      ")])])])],1)],1),t._v(" "),e(l.a,{attrs:{cols:"12"}},[e(_.a),t._v(" "),e(h.a,{staticStyle:{"font-size":"15px",height:"20px"},attrs:{"no-gutters":""}},[e(l.a,{attrs:{cols:"6"}},[e("small",[t._v(" Title ")])]),t._v(" "),e(l.a,{staticClass:"text-right",attrs:{cols:"6"}},[e("small",[t._v(" Value ")])])],1)],1)],1)],1),t._v(" "),e(l.a,{attrs:{cols:"8"}},[e(_.a),t._v(" "),e(h.a,{staticClass:"mx-2",attrs:{"no-gutters":""}},[e(l.a,{staticClass:"text-center",staticStyle:{"border-bottom":"1px solid #dddddd","border-right":"1px solid #dddddd"},attrs:{cols:"6"}},[e("b",{staticStyle:{display:"block",height:"20px"}},[e("small",[t._v("Checkin")])]),t._v(" "),e("div",{staticStyle:{"font-size":"12px"}},[t._v("2024-03-01 10:00:00")])]),t._v(" "),e(l.a,{staticClass:"text-center",staticStyle:{"border-bottom":"1px solid #dddddd"},attrs:{cols:"6"}},[e("b",{staticStyle:{display:"block",height:"20px"}},[e("small",[t._v("Checkout")])]),t._v(" "),e("div",{staticStyle:{"font-size":"12px"}},[t._v("2024-03-01 11:00:00")])])],1),t._v(" "),e(h.a,{staticClass:"px-3",attrs:{"no-gutters":""}},[e(l.a,{attrs:{cols:"12"}},[e("div",{staticClass:"mt-4"},[e("table",{staticStyle:{width:"100%"}},[e("tr",[e("td",{staticStyle:{"font-size":"12px"}},[e("small",[e("b",[t._v("#")])])]),t._v(" "),e("td",{staticStyle:{"font-size":"12px"}},[e("small",[e("b",[t._v("Date Time")])])]),t._v(" "),e("td",{staticStyle:{"font-size":"12px"}},[e("small",[e("b",[t._v("Device")])])])]),t._v(" "),t._l(t.data,(function(r,o){return e("tr",{key:o},[e("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[e("small",[t._v("1")])]),t._v(" "),e("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[e("small",[t._v("2024-03-01 10:00:00")])]),t._v(" "),e("td",{staticStyle:{"font-size":"14px","border-bottom":"1px solid #dddddd"}},[e("small",[t._v("Device 1")])])])}))],2)])])],1)],1)],1)],1)],1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports}}]);