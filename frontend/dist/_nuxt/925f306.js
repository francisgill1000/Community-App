(window.webpackJsonp=window.webpackJsonp||[]).push([[257,5,6,10,33,180,254,255,412,413],{1018:function(t,e,n){"use strict";n.r(e);var r=n(893),o=n(114),l=n(133),c=n(87),d=n(518),v=n(875),h=n(1548),f=n(1549),m=n(350),_=n(1019),x=n(935),y=n(147),k=n(212),O=n(326),w=n(204),D=n(60),S=n(862),I=n(517),j=n(892),C=n(872),$=n(349),P=n(214),M=n(953),F=n(996),A=n(96),V=n(855),T=n(81),H=(n(37),n(35),n(12),n(14),n(17),n(11),n(18),n(23)),z=n(3),R=(n(88),n(521),n(33),n(266),n(56),n(523),n(215),n(80),n(6),n(72),n(58),n(914),n(45),n(915),n(916),n(917),n(918),n(919),n(920),n(921),n(922),n(923),n(924),n(925),n(926),n(927),n(928),n(929),n(930),n(50),n(13),n(55),n(905)),N=n(957);function U(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function B(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?U(Object(source),!0).forEach((function(e){Object(z.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):U(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var L={components:{Calender:R.default,Visitorinfo:N.default},data:function(){var t,e,n,r,o;return t={keyId:1,purposeList:[],branchesList:[],hostList:[],cumulativeIndex:1,perPage:10,currentPage:1,renderVisitorDialog:!1,users:[],formData:{max:10,date:(e=new Date,n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),"".concat(n,"-").concat(r,"-").concat(o)),company_id:0},attendancFilters:!1,filters:{},isFilter:!1,totalRowsCount:0,datatable_search_textbox:"",datatable_filter_date:"",filter_visitor_id:"",snack:!1,snackColor:"",snackText:"",date:null},Object(z.a)(t,"filter_visitor_id",""),Object(z.a)(t,"generateLogsDialog",!1),Object(z.a)(t,"reportSync",!1),Object(z.a)(t,"isCompany",!0),Object(z.a)(t,"time_table_dialog",!1),Object(z.a)(t,"log_details",!1),Object(z.a)(t,"overtime",!1),Object(z.a)(t,"options",{}),Object(z.a)(t,"date",null),Object(z.a)(t,"menu",!1),Object(z.a)(t,"loading",!1),Object(z.a)(t,"time_menu",!1),Object(z.a)(t,"manual_time_menu",!1),Object(z.a)(t,"Model","Visitor Reports"),Object(z.a)(t,"endpoint","visitor_attendance"),Object(z.a)(t,"search",""),Object(z.a)(t,"snackbar",!1),Object(z.a)(t,"add_manual_log",!1),Object(z.a)(t,"dialog",!1),Object(z.a)(t,"from_date",null),Object(z.a)(t,"from_menu",!1),Object(z.a)(t,"to_date",null),Object(z.a)(t,"to_menu",!1),Object(z.a)(t,"ids",[]),Object(z.a)(t,"visitors",[]),Object(z.a)(t,"DateRange",!0),Object(z.a)(t,"devices",[]),Object(z.a)(t,"valid",!0),Object(z.a)(t,"nameRules",[function(t){return!!t||"reason is required"}]),Object(z.a)(t,"timeRules",[function(t){return!!t||"time is required"}]),Object(z.a)(t,"deviceRules",[function(t){return!!t||"device is required"}]),Object(z.a)(t,"daily_menu",!1),Object(z.a)(t,"daily_date",null),Object(z.a)(t,"dailyDate",!1),Object(z.a)(t,"editItems",{attendance_logs_id:"",UserID:"",device_id:"",user_id:"",reason:"",date:"",time:null}),Object(z.a)(t,"loading",!1),Object(z.a)(t,"total",0),Object(z.a)(t,"log_headers",[{text:"#",align:"left",sortable:!1,filterable:!1,value:"sno"},{text:"Device",align:"left",sortable:!1,filterable:!1,value:"device.name"},{text:"Location",align:"left",sortable:!1,filterable:!1,value:"device.location"},{text:"Time",align:"left",sortable:!1,filterable:!1,value:"time"}]),Object(z.a)(t,"headers",[{text:"#",align:"left",sortable:!1,filterable:!1,value:"sno"},{text:"Date",align:"left",sortable:!0,filterable:!1,filterSpecial:!0,value:"date"},{text:"Visitor  ",align:"left",sortable:!1,filterable:!0,filterSpecial:!1,value:"visitor_first_name",key:"item.visitor"},{text:"Host",align:"left",sortable:!1,filterable:!0,filterSpecial:!0,value:"host_id",key:"host_id"},{text:"Purpose",align:"left",sortable:!0,filterable:!0,filterSpecial:!0,value:"purpose_id"},{text:"Check In",align:"left",sortable:!0,filterable:!0,filterSpecial:!1,value:"in"},{text:"Check Out",align:"left",sortable:!0,filterable:!0,filterSpecial:!1,value:"out"},{text:"Duration",align:"left",sortable:!0,filterable:!0,filterSpecial:!1,value:"total_hrs"},{text:"OverStay",align:"left",sortable:!0,filterable:!1,filterSpecial:!0,value:"overstay"},{text:"Options",value:"options",sortable:!1}]),Object(z.a)(t,"frequency","Monthly"),Object(z.a)(t,"payload",{from_date:null,to_date:null,daily_date:null,visitor_id:"",status:"All"}),Object(z.a)(t,"log_payload",{user_id:null,device_id:"",date:null,time:null}),Object(z.a)(t,"log_list",[]),Object(z.a)(t,"snackbar",!1),Object(z.a)(t,"editedIndex",-1),Object(z.a)(t,"editedItem",{name:""}),Object(z.a)(t,"defaultItem",{name:""}),Object(z.a)(t,"response",""),Object(z.a)(t,"data",[]),Object(z.a)(t,"shifts",[]),Object(z.a)(t,"errors",[]),Object(z.a)(t,"custom_options",{}),Object(z.a)(t,"max_date",null),Object(z.a)(t,"item",null),Object(z.a)(t,"viewDialog",!1),Object(z.a)(t,"attendance",[]),t},computed:{formTitle:function(){return-1===this.editedIndex?"New":"Edit"}},watch:{dialog:function(t){t||this.close(),this.errors=[],this.search=""},options:{handler:function(){this.getDataFromApi()},deep:!0}},created:function(){this.loading=!0,this.getVisitors(),this.payload.daily_date=(new Date).toJSON().slice(0,10),this.custom_options={params:{per_page:1e3,company_id:this.$auth.user.company_id}},this.getDeviceList();var dt=new Date,t=dt.getFullYear(),e=dt.getMonth()+1,dd=new Date(dt.getFullYear(),e,0);if(e=e<10?"0"+e:e,this.payload.from_date="".concat(t,"-").concat(e,"-01"),this.payload.to_date="".concat(t,"-").concat(e,"-").concat(dd.getDate()),null==this.$auth.user.branch_id||0==this.$auth.user.branch_id){var n;(n=this.headers).splice.apply(n,[2,0].concat([{text:"Branch",align:"left",sortable:!0,value:"branch_id",filterable:!0,filterName:"branch_id",filterSpecial:!0}]))}},methods:{viewInfo:function(t){this.keyId++,this.item=t.visitor,this.attendance=t,this.viewDialog=!0},filterAttr:function(data){this.payload.from_date=data.from,this.payload.to_date=data.to,this.getDataFromApi()},addUser:function(){this.users.push({visitor_id:""})},removeUser:function(t){this.users.splice(t,1)},submitData:function(){var t=this;this.formData.userIds=this.users.map((function(t){return t.visitor_id})),this.formData.company_id=this.$auth.user.company_id,this.$axios.post("/render_daily_report",this.formData).then((function(e){var data=e.data;t.getDataFromApi(),t.snackbar=!0,t.response=data.message,t.dialog=!1})).catch((function(e){var n=e.message;t.snackbar=!0,t.response=n}))},datatable_cancel:function(){this.datatable_search_textbox=""},datatable_open:function(){this.datatable_search_textbox=""},datatable_close:function(){this.loading=!1},processFilterDates:function(){var t=new Date(this.payload.from_date);t.setDate(t.getDate()+("Weekly"==this.frequency?6:30));var e=t.getDate().toString().padStart(2,"0"),n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getFullYear();"Custom"!==this.frequency&&(this.payload.to_date="".concat(r,"-").concat(n,"-").concat(e)),this.max_date="".concat(r,"-").concat(n,"-").concat(e),this.getDataFromApi()},set_date_save:function(t,e){t.save(e),this.processFilterDates()},changeReportFrequency:function(){this.processFilterDates()},applyFilters:function(t,e){this.getDataFromApi()},toggleFilter:function(){var t=this;return Object(H.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isFilter=!t.isFilter,t.isFilter&&(t.refresh=!0,t.handleChangeEvent());case 2:case"end":return e.stop()}}),e)})))()},handleChangeEvent:function(){var t=this;return Object(H.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("fetchDropDowns",{key:"branchList",endpoint:"branch-list"});case 2:return t.branchesList=e.sent,e.next=5,t.$store.dispatch("fetchDropDowns",{key:"hostList",endpoint:"host_list"});case 5:return t.hostList=e.sent,e.next=8,t.$store.dispatch("fetchDropDowns",{key:"purposeList",endpoint:"purpose_list"});case 8:t.purposeList=e.sent;case 9:case"end":return e.stop()}}),e)})))()},clearFilters:function(){this.filters={},this.isFilter=!1,this.getDataFromApi()},getDeviceList:function(){var t=this,e={params:{company_id:this.$auth.user.company_id}};this.$axios.get("/device_list",e).then((function(e){var data=e.data;t.devices=data}))},store_schedule:function(){var t=this,e=this.log_payload,n={UserID:e.user_id,LogTime:e.date+" "+e.time,DeviceID:e.device_id,company_id:this.$auth.user.company_id};this.loading=!0,this.$axios.post("/generate_log",n).then((function(e){e.data;t.getDataFromApi(),t.add_manual_log=!1,t.loading=!1})).catch((function(e){var n=e.message;t.snackbar=!0,t.response=n}))},setVisitorId:function(t){this.$store.commit("visitor_id",t)},getVisitors:function(){var t=this;return Object(H.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:{company_id:t.$auth.user.company_id}},e.next=3,t.$axios.get("/visitors_with_type",n).then((function(e){var data=e.data;t.visitors=data,t.visitors.unshift({system_user_id:"",name_with_user_id:"Select All"})}));case 3:case"end":return e.stop()}}),e)})))()},caps:function(t){return t.replace(/_/g," ").replace(/\b\w/g,(function(t){return t.toUpperCase()}))},can:function(t){return this.$pagePermission.can(t,this)},getDataFromApi:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.endpoint,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.loading=!0;var o=this.options,l=o.sortBy,c=o.sortDesc,d=o.page,v=o.itemsPerPage,h=l?l[0]:"",f=c?c[0]:"";if("Custom"==this.frequency){if(null==this.payload.from_date)return!1;if(null==this.payload.to_date)return!1}var m={params:B(B({page:d,sortBy:h,sortDesc:f,per_page:v,company_id:this.$auth.user.company_id},this.payload),{},{frequency:this.frequency},this.filters)};this.currentPage=d,""!=n&&(m.params[n]=r),this.$axios.get(e,m).then(function(){var e=Object(H.a)(regeneratorRuntime.mark((function e(r){var data,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(data=r.data,""==n||0!=data.data.length){e.next=7;break}return t.snack=!0,t.snackColor="error",t.snackText="No Results Found",t.loading=!1,e.abrupt("return",!1);case 7:return t.data=data.data,o=new Set,e.next=11,data.data.filter((function(t){var e=t.visitor_id;return!o.has(e)&&(o.add(e),!0)}));case 11:t.users=e.sent,t.total=data.total,t.loading=!1,t.totalRowsCount=data.total;case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},editItem:function(t){this.dialog=!0,this.editItems.UserID=t.visitor_id,this.editItems.date=t.edit_date},update:function(){var t=this;if(this.$refs.form.validate()){var e={UserID:this.editItems.UserID,LogTime:this.editItems.date+" "+this.editItems.time,DeviceID:this.editItems.device_id,user_id:this.editItems.UserID,company_id:this.$auth.user.company_id,reason:this.editItems.reason};this.$axios.post("/generate_manual_log",e).then((function(e){var data=e.data;t.loading=!1,data.status?(t.snackbar=!0,t.response=data.message,t.close()):t.errors=data.errors})).catch((function(t){return console.log(t)}))}},renderByType:function(t){var e=this,n=this.editItems.UserID,r=this.editItems.date;if(n&&r){var o={params:{date:this.editItems.date,UserID:this.editItems.UserID,updated_by:this.$auth.user.id,company_id:this.$auth.user.company_id,manual_entry:!0,reason:this.editItems.reason}};this.$axios.get("/"+t,o).then((function(t){var data=t.data;e.loading=!1,e.snackbar=!0,e.response=data.message,e.getDataFromApi()})).catch((function(t){return console.log(t)}))}else alert("System User Id and Date field is required")},viewItem:function(t){var e=this;this.log_list=[];var n={params:{per_page:500,UserID:t.system_user_id,LogTime:t.edit_date,company_id:this.$auth.user.company_id}};this.log_details=!0,this.$axios.get("visitor_log_list",n).then((function(t){var data=t.data;e.log_list=data.data}))},close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}),300)},process_file:function(t){if(this.data.length){var e=this.payload,n=e.visitor_id,r=e.daily_date,o=e.from_date,l=e.to_date,c=e.status,d=this.frequency,v=this.$auth.user.company_id,h=(this.options.itemsPerPage,"");h+="".concat("http://192.168.88.30:8000/api/visitor_attendance_report"),h+="?company_id=".concat(v),h+="&status=".concat(c),h+="&visitor_id=".concat(n),h+="&frequency=".concat(d),h+="&action=".concat(t),h+="&per_page=".concat(20),h+="Daily"==d?"&daily_date=".concat(r):"&from_date=".concat(o,"&to_date=").concat(l);var f=document.createElement("a");f.setAttribute("href",h),f.setAttribute("target","_blank"),f.click(),this.getDataFromApi()}else alert("No record found")}}},E=L,Y=n(116),component=Object(Y.a)(E,(function(){var t=this,e=t._self._c;return e("div",[e(m.a,{attrs:{width:"1200"},model:{value:t.viewDialog,callback:function(e){t.viewDialog=e},expression:"viewDialog"}},[e(l.a,[e(c.c,{staticClass:"popup_background",attrs:{dense:""}},[t._v("\n        Visitor Information - "+t._s(t.item&&t.item.full_name)+"\n        "),e($.a),t._v(" "),e(y.a,{attrs:{outlined:"",dark:""},on:{click:function(e){t.viewDialog=!1}}},[t._v("\n          mdi mdi-close-circle\n        ")])],1),t._v(" "),e(c.b,[e("Visitorinfo",{key:t.keyId,attrs:{item:t.item,attendance:t.attendance}})],1)],1)],1),t._v(" "),e("div",{staticClass:"text-center ma-2"},[e(C.a,{attrs:{top:"top",color:"secondary",elevation:"24"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.response)+"\n    ")]),t._v(" "),e(C.a,{attrs:{timeout:3e3,color:t.snackColor},scopedSlots:t._u([{key:"action",fn:function(n){var r=n.attrs;return[e(o.a,t._b({attrs:{text:""},on:{click:function(e){t.snack=!1}}},"v-btn",r,!1),[t._v(" Close ")])]}}]),model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n      "+t._s(t.snackText)+"\n      ")])],1),t._v(" "),e(I.a,{attrs:{justify:"center"}},[e("div",{staticClass:"text-center"},[e(m.a,{attrs:{persistent:"",width:"900"},model:{value:t.attendancFilters,callback:function(e){t.attendancFilters=e},expression:"attendancFilters"}},[e(l.a,[e(c.c,{staticClass:"popup_background"},[e("span",{staticClass:"headline"},[t._v(" Visitor Reports Filters ")]),t._v(" "),e($.a),t._v(" "),e(o.a,{staticClass:"ma-0",attrs:{"x-small":"",ripple:!1,text:"",title:"PRINT"},on:{click:function(e){return t.process_file("print")}}},[e(y.a,[t._v("mdi-printer-outline")])],1),t._v(" "),e(o.a,{attrs:{"x-small":"",ripple:!1,text:"",title:"DOWNLOAD"},on:{click:function(e){return t.process_file("download")}}},[e(y.a,[t._v("mdi-download-outline")])],1),t._v(" "),e(o.a,{attrs:{"x-small":"",ripple:!1,text:"",title:"CSV"},on:{click:function(e){return t.process_file("csv")}}},[e(y.a,[t._v("mdi-file-outline")])],1)],1),t._v(" "),e(c.b,{staticClass:"py-3"},[e(I.a,[e(d.a,{attrs:{md:"6"}},[t._v("\n                Report Type\n\n                "),e(r.a,{attrs:{outlined:"",dense:"","x-small":"",items:["All","Approved","Pending","Rejected","Cancelled"],"item-value":"id","item-text":"name","hide-details":!0},on:{change:function(e){return t.getDataFromApi("visitor_attendance")}},model:{value:t.payload.status,callback:function(e){t.$set(t.payload,"status",e)},expression:"payload.status"}})],1),t._v(" "),e(d.a,{attrs:{md:"6"}},[t._v("\n                Visitor ID\n                "),e(r.a,{attrs:{outlined:"",dense:"","x-small":"",items:t.visitors,"item-value":"system_user_id","item-text":"name_with_user_id","hide-details":!0},on:{change:function(e){return t.getDataFromApi("visitor_attendance")}},model:{value:t.payload.visitor_id,callback:function(e){t.$set(t.payload,"visitor_id",e)},expression:"payload.visitor_id"}})],1),t._v(" "),e(d.a,{attrs:{md:"6"}},[e("div",[t._v("Frequency")]),t._v(" "),e(r.a,{attrs:{outlined:"",dense:"","x-small":"",items:["Daily","Weekly","Monthly","Custom"],"item-text":"['Daily']","hide-details":!0},on:{change:t.changeReportFrequency},model:{value:t.frequency,callback:function(e){t.frequency=e},expression:"frequency"}})],1),t._v(" "),e(d.a,["Daily"==t.frequency?e(I.a,[e(d.a,{attrs:{cols:"12"}},[e("div",[t._v("Date")]),t._v(" "),e("div",{staticClass:"text-left"},[e(S.a,{ref:"daily_menu",attrs:{"close-on-content-click":!1,"return-value":t.daily_date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.daily_date=e},"update:return-value":function(e){t.daily_date=e}},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(P.a,t._g(t._b({attrs:{"hide-details":t.payload.daily_date,outlined:"",dense:"",readonly:""},model:{value:t.payload.daily_date,callback:function(e){t.$set(t.payload,"daily_date",e)},expression:"payload.daily_date"}},"v-text-field",o,!1),r))]}}],null,!1,398604961),model:{value:t.daily_menu,callback:function(e){t.daily_menu=e},expression:"daily_menu"}},[t._v(" "),e(f.a,{attrs:{"no-title":"",scrollable:""},model:{value:t.payload.daily_date,callback:function(e){t.$set(t.payload,"daily_date",e)},expression:"payload.daily_date"}},[e($.a),t._v(" "),e(o.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.daily_menu=!1}}},[t._v("\n                            Cancel\n                          ")]),t._v(" "),e(o.a,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.set_date_save(t.$refs.daily_menu,t.payload.daily_date)}}},[t._v("\n                            OK\n                          ")])],1)],1)],1)])],1):e(I.a,[e(d.a,{attrs:{md:"6"}},[e("div",[t._v("From Date")]),t._v(" "),e("div",{staticClass:"text-left"},[e(S.a,{ref:"from_menu",attrs:{"close-on-content-click":!1,"return-value":t.from_date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.from_date=e},"update:return-value":function(e){t.from_date=e}},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(P.a,t._g(t._b({attrs:{"hide-details":t.payload.from_date,outlined:"",dense:"",readonly:""},model:{value:t.payload.from_date,callback:function(e){t.$set(t.payload,"from_date",e)},expression:"payload.from_date"}},"v-text-field",o,!1),r))]}}]),model:{value:t.from_menu,callback:function(e){t.from_menu=e},expression:"from_menu"}},[t._v(" "),e(f.a,{attrs:{"no-title":"",scrollable:""},model:{value:t.payload.from_date,callback:function(e){t.$set(t.payload,"from_date",e)},expression:"payload.from_date"}},[e($.a),t._v(" "),e(o.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.from_menu=!1}}},[t._v("\n                            Cancel\n                          ")]),t._v(" "),e(o.a,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.set_date_save(t.$refs.from_menu,t.payload.from_date)}}},[t._v("\n                            OK\n                          ")])],1)],1)],1)]),t._v(" "),e(d.a,{attrs:{md:"6"}},[e("div",[t._v("To Date")]),t._v(" "),e("div",{staticClass:"text-left"},[e(S.a,{ref:"to_menu",attrs:{"close-on-content-click":!1,"return-value":t.to_date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.to_date=e},"update:return-value":function(e){t.to_date=e}},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(P.a,t._g(t._b({attrs:{"hide-details":t.payload.to_date,outlined:"",dense:"",readonly:""},model:{value:t.payload.to_date,callback:function(e){t.$set(t.payload,"to_date",e)},expression:"payload.to_date"}},"v-text-field",o,!1),r))]}}]),model:{value:t.to_menu,callback:function(e){t.to_menu=e},expression:"to_menu"}},[t._v(" "),e(f.a,{attrs:{max:t.max_date,"no-title":"",scrollable:""},model:{value:t.payload.to_date,callback:function(e){t.$set(t.payload,"to_date",e)},expression:"payload.to_date"}},[e($.a),t._v(" "),e(o.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.to_menu=!1}}},[t._v("\n                            Cancel\n                          ")]),t._v(" "),e(o.a,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.set_date_save(t.$refs.to_menu,t.payload.to_date)}}},[t._v("\n                            OK\n                          ")])],1)],1)],1)])],1)],1)],1)],1),t._v(" "),e(_.a),t._v(" "),e(c.a,[e($.a),t._v(" "),e(o.a,{attrs:{color:"primary",text:""},on:{click:function(e){t.attendancFilters=!1}}},[t._v("\n              Close\n            ")])],1)],1)],1)],1),t._v(" "),e(m.a,{attrs:{persistent:"","max-width":"600px"},model:{value:t.time_table_dialog,callback:function(e){t.time_table_dialog=e},expression:"time_table_dialog"}},[e(l.a,{staticClass:"darken-1"},[e(A.a,{staticClass:"popup-background",attrs:{dense:"",flat:""}},[e("span",{staticClass:"text-h5"},[t._v("Time Slots")])]),t._v(" "),e(c.b,[e("ol",{staticClass:"pa-3"},t._l(t.shifts,(function(n,r){return e("li",{key:r},[t._v("\n              "+t._s(n&&n.name||"---")+"\n              "+t._s(n.on_duty_time?"(".concat(n.on_duty_time," - ").concat(n.off_duty_time,")"):"")+"\n            ")])})),0)])],1)],1)],1),t._v(" "),e(I.a,{attrs:{justify:"center"}},[e(m.a,{attrs:{persistent:"","max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(l.a,[e(c.c,{staticClass:"primary darken-2"},[e("span",{staticClass:"headline white--text"},[t._v(" Update Log ")])]),t._v(" "),e(c.b,[e(v.a,[e(I.a,[e(x.a,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(d.a,{attrs:{md:"12"}},[e(S.a,{ref:"time_menu_ref",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.payload.time,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){return t.$set(t.payload,"time",e)},"update:return-value":function(e){return t.$set(t.payload,"time",e)}},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(P.a,t._g(t._b({attrs:{label:"Time",readonly:"",rules:t.timeRules},model:{value:t.editItems.time,callback:function(e){t.$set(t.editItems,"time",e)},expression:"editItems.time"}},"v-text-field",o,!1),r))]}}]),model:{value:t.time_menu,callback:function(e){t.time_menu=e},expression:"time_menu"}},[t._v(" "),t.time_menu?e(F.a,{attrs:{"full-width":"",format:"24hr"},model:{value:t.editItems.time,callback:function(e){t.$set(t.editItems,"time",e)},expression:"editItems.time"}},[e($.a),t._v(" "),e(o.a,{attrs:{"x-small":"",color:"primary"},on:{click:function(e){t.time_menu=!1}}},[t._v("\n                        Cancel\n                      ")]),t._v(" "),e(o.a,{attrs:{"x-small":"",color:"primary"},on:{click:function(e){return t.$refs.time_menu_ref.save(t.editItems.time)}}},[t._v("\n                        OK\n                      ")])],1):t._e()],1),t._v(" "),t.errors&&t.errors.time?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.time[0]))]):t._e()],1),t._v(" "),e(d.a,{attrs:{md:"12"}},[e(r.a,{attrs:{label:"Select Device",items:t.devices,"item-text":"name","item-value":"id",rules:t.deviceRules},model:{value:t.editItems.device_id,callback:function(e){t.$set(t.editItems,"device_id",e)},expression:"editItems.device_id"}}),t._v(" "),t.errors&&t.errors.device_id?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.device_id[0]))]):t._e()],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},[e(M.a,{attrs:{filled:"",label:"Reason","auto-grow":"",rules:t.nameRules,required:""},model:{value:t.editItems.reason,callback:function(e){t.$set(t.editItems,"reason",e)},expression:"editItems.reason"}}),t._v(" "),t.errors&&t.errors.reason?e("span",{staticClass:"error--text"},[t._v("\n                    "+t._s(t.errors.reason[0])+"\n                  ")]):t._e()],1)],1)],1)],1)],1),t._v(" "),e(c.a,[e($.a),t._v(" "),e(o.a,{staticClass:"error",attrs:{small:""},on:{click:t.close}},[t._v(" Cancel ")]),t._v(" "),e(o.a,{staticClass:"primary",attrs:{small:""},on:{click:t.update}},[t._v("Save")])],1)],1)],1)],1),t._v(" "),e(m.a,{attrs:{persistent:"",width:"700"},model:{value:t.add_manual_log,callback:function(e){t.add_manual_log=e},expression:"add_manual_log"}},[e(l.a,[e(c.c,{staticClass:"text-h5 primary white--text darken-2",attrs:{dark:""}},[t._v("\n        Manual Log\n      ")]),t._v(" "),e(c.b,{staticClass:"pa-3"},[e(I.a,[e(d.a,{attrs:{md:"12"}},[e(P.a,{attrs:{label:"User Id"},model:{value:t.log_payload.user_id,callback:function(e){t.$set(t.log_payload,"user_id",e)},expression:"log_payload.user_id"}}),t._v(" "),t.errors&&t.errors.user_id?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.user_id[0]))]):t._e()],1),t._v(" "),e(d.a,{attrs:{md:"12"}},[e(r.a,{attrs:{label:"Select Device",items:t.devices,"item-text":"name","item-value":"id",rules:t.deviceRules},model:{value:t.log_payload.device_id,callback:function(e){t.$set(t.log_payload,"device_id",e)},expression:"log_payload.device_id"}}),t._v(" "),t.errors&&t.errors.device_id?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.device_id[0]))]):t._e()],1),t._v(" "),e(d.a,{attrs:{md:"12"}},[e(r.a,{attrs:{label:"In/Out",items:["In","Out"],rules:t.deviceRules},model:{value:t.log_payload.log_type,callback:function(e){t.$set(t.log_payload,"log_type",e)},expression:"log_payload.log_type"}},[t._v("\n              "+t._s(t.log_payload.log_type)+"\n            ")]),t._v(" "),t.errors&&t.errors.log_type?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.log_type[0]))]):t._e()],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"6"}},[e(S.a,{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(P.a,t._g(t._b({attrs:{label:"Date",readonly:""},model:{value:t.log_payload.date,callback:function(e){t.$set(t.log_payload,"date",e)},expression:"log_payload.date"}},"v-text-field",o,!1),r))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),e(f.a,{attrs:{"no-title":"",scrollable:""},model:{value:t.log_payload.date,callback:function(e){t.$set(t.log_payload,"date",e)},expression:"log_payload.date"}},[e($.a),t._v(" "),e(o.a,{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("\n                  Cancel\n                ")]),t._v(" "),e(o.a,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.log_payload.date)}}},[t._v("\n                  OK\n                ")])],1)],1)],1),t._v(" "),e(d.a,{attrs:{cols:"12",md:"6"}},[e(S.a,{ref:"manual_time_menu_ref",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.log_payload.time,transition:"scale-transition","offset-y":"","max-width":"290px","min-height":"320px"},on:{"update:returnValue":function(e){return t.$set(t.log_payload,"time",e)},"update:return-value":function(e){return t.$set(t.log_payload,"time",e)}},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[e(P.a,t._g(t._b({attrs:{label:"Time",readonly:""},model:{value:t.log_payload.time,callback:function(e){t.$set(t.log_payload,"time",e)},expression:"log_payload.time"}},"v-text-field",o,!1),r))]}}]),model:{value:t.manual_time_menu,callback:function(e){t.manual_time_menu=e},expression:"manual_time_menu"}},[t._v(" "),t.manual_time_menu?e(F.a,{attrs:{"full-width":"",format:"24hr"},model:{value:t.log_payload.time,callback:function(e){t.$set(t.log_payload,"time",e)},expression:"log_payload.time"}},[e($.a),t._v(" "),e(o.a,{attrs:{"x-small":"",color:"primary"},on:{click:function(e){t.manual_=!1}}},[t._v("\n                  Cancel\n                ")]),t._v(" "),e(o.a,{attrs:{"x-small":"",color:"primary"},on:{click:function(e){return t.$refs.manual_time_menu_ref.save(t.log_payload.time)}}},[t._v("\n                  OK\n                ")])],1):t._e()],1),t._v(" "),t.errors&&t.errors.time?e("span",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.time[0]))]):t._e()],1)],1)],1),t._v(" "),e(_.a),t._v(" "),e(c.a,[e($.a),t._v(" "),e(o.a,{attrs:{small:"",loading:t.loading,color:"primary"},on:{click:t.store_schedule}},[t._v("\n          Submit\n        ")])],1)],1)],1),t._v(" "),e(I.a,[e(d.a,[e(l.a,{staticClass:"mb-5",attrs:{elevation:"0"}},[e(A.a,{attrs:{flat:""}},[e(V.b,[e("span",[t._v(" Visitor Report ")])]),t._v(" "),e("span",[e(o.a,{attrs:{"x-small":"",ripple:!1,text:"",title:"Reload"},on:{click:function(e){return t.clearFilters()}}},[e(y.a,{attrs:{dark:""},on:{click:function(e){return t.clearFilters()}}},[t._v("mdi-reload")])],1)],1),t._v(" "),e("span",[e(o.a,{attrs:{"x-small":"",ripple:!1,text:"",title:"Filter"},on:{click:t.toggleFilter}},[e(y.a,{attrs:{dark:""}},[t._v("mdi-filter")])],1)],1),t._v(" "),e($.a),t._v(" "),e("span",[e("Calender",{staticStyle:{width:"100%"},attrs:{defaultFilterType:1,height:"28px "},on:{"filter-attr":t.filterAttr}})],1)],1),t._v(" "),t.can("attendance_report_view")?e(h.a,{staticClass:"elevation-1",attrs:{dense:"",headers:t.headers,items:t.data,loading:t.loading,options:t.options,"footer-props":{itemsPerPageOptions:[10,50,100,500,1e3]},"model-value":"data.id","server-items-length":t.totalRowsCount},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"header",fn:function(n){var r=n.props.headers;return[t.isFilter?e("tr",t._l(r,(function(header){return e("td",{key:header.text},[e(v.a,{staticStyle:{"padding-left":"0px !important"}},[header.filterable&&!header.filterSpecial?e(P.a,{attrs:{clearable:"","hide-details":!0,id:header.value,outlined:"",dense:"",autocomplete:"off"},on:{"click:clear":function(e){t.filters[header.value]="",t.getDataFromApi()},input:function(e){return t.getDataFromApi()}},model:{value:t.filters[header.value],callback:function(e){t.$set(t.filters,header.value,e)},expression:"filters[header.value]"}}):t._e(),t._v(" "),header.filterSpecial&&"branch_id"==header.value?e(j.a,{attrs:{"hide-details":!0,clearable:"","item-value":"id","item-text":"name",outlined:"",dense:"",items:[{name:"All Branches",id:""}].concat(Object(T.a)(t.branchesList))},on:{change:function(e){return t.applyFilters("status",e)}},model:{value:t.filters[header.value],callback:function(e){t.$set(t.filters,header.value,e)},expression:"filters[header.value]"}}):t._e(),t._v(" "),header.filterSpecial&&"host_id"==header.value?e(j.a,{attrs:{"hide-details":!0,clearable:"","item-value":"id","item-text":"employee.full_name",outlined:"",dense:"",items:[{"employee.full_name":"All Hosts",id:""}].concat(Object(T.a)(t.hostList))},on:{change:function(e){return t.applyFilters("status",e)}},model:{value:t.filters[header.value],callback:function(e){t.$set(t.filters,header.value,e)},expression:"filters[header.value]"}}):t._e(),t._v(" "),header.filterSpecial&&"purpose_id"==header.value?e(j.a,{attrs:{"hide-details":!0,clearable:"","item-value":"id","item-text":"name",outlined:"",dense:"",items:[{name:"All",id:""}].concat(Object(T.a)(t.purposeList))},on:{change:function(e){return t.applyFilters("status",e)}},model:{value:t.filters[header.value],callback:function(e){t.$set(t.filters,header.value,e)},expression:"filters[header.value]"}}):t._e(),t._v(" "),header.filterSpecial&&"overstay"==header.value?e(j.a,{attrs:{"hide-details":!0,clearable:"","item-value":"id","item-text":"name",outlined:"",dense:"",items:[{name:"All",id:""},{name:"No Overstay",id:"0"},{name:"Only Overstay",id:"1"}]},on:{change:function(e){return t.applyFilters("status",e)}},model:{value:t.filters[header.value],callback:function(e){t.$set(t.filters,header.value,e)},expression:"filters[header.value]"}}):t._e()],1)],1)})),0):t._e()]}},{key:"item.sno",fn:function(e){var n=e.item;e.index;return[t._v("\n            "+t._s(t.currentPage?(t.currentPage-1)*t.perPage+(t.cumulativeIndex+t.data.indexOf(n)):"")+"\n          ")]}},{key:"item.visitor_first_name",fn:function(n){var r=n.item;return[e(I.a,{attrs:{"no-gutters":""}},[e(d.a,{staticStyle:{padding:"5px","padding-left":"0px",width:"50px","max-width":"50px"}},[e(k.a,{staticStyle:{"border-radius":"50%",height:"50px",width:"50px","max-width":"50px",border:"1px solid #ddd"},attrs:{src:r.visitor&&r.visitor.logo?r.visitor.logo:"/no-profile-image.jpg"}})],1),t._v(" "),e(d.a,{staticStyle:{padding:"10px"}},[e("strong",[t._v("\n                  "+t._s(r.visitor?r.visitor.first_name:"---")+"\n                  "+t._s(r.visitor?r.visitor.last_name:"---"))]),t._v(" "),e("div",{staticClass:"secondary-value"},[t._v("\n                  "+t._s(r.visitor?r.visitor.phone_number:"---")+"\n                ")]),t._v(" "),e("div",{staticClass:"secondary-value"},[t._v("\n                  "+t._s(r.visitor?r.visitor.email:"---")+"\n                ")])])],1)]}},{key:"item.branch_id",fn:function(n){var r=n.item;return[t._v("\n            "+t._s(r.branch&&r.branch.branch_name)+"\n            "),e("div",{staticClass:"secondary-value"},[t._v("\n              "+t._s(r.visitor.host&&r.visitor.host.floor_number||"---")+"\n              -\n              "+t._s(r.visitor.host&&r.visitor.host.flat_number||"---")+"\n            ")])]}},{key:"item.purpose_id",fn:function(e){var n,r=e.item;return[t._v("\n            "+t._s(r.visitor&&(null===(n=r.visitor.purpose)||void 0===n?void 0:n.name))+"\n          ")]}},{key:"item.in",fn:function(n){var r=n.item;n.index;return[e("div",[t._v("\n              "+t._s(r.in?t.$dateFormat.time2Hm(r.in):"---")+"\n              "),e("div",{staticClass:"secondary-value"},[t._v("\n                "+t._s(r.device_in_name?r.device_in_name.name:"---")+"\n              ")])])]}},{key:"item.out",fn:function(n){var r=n.item;n.index;return[e("div",[t._v("\n              "+t._s(r.out?t.$dateFormat.time2Hm(r.out):"---")+"\n              "),e("div",{staticClass:"secondary-value"},[t._v("\n                "+t._s(r.device_out_name?r.device_out_name.name:"---")+"\n              ")])])]}},{key:"item.overstay",fn:function(n){var r=n.item;n.index;return[e("div",{style:r.over_stay?"color:red":" ;"},[t._v("\n              "+t._s(r.over_stay?r.over_stay:"---")+"\n            ")])]}},{key:"item.host_id",fn:function(n){var r,o,l,c=n.item;n.index;return[e("div",[t._v("\n              "+t._s(c.visitor.host?null===(r=c.visitor.host.employee)||void 0===r?void 0:r.first_name:"---")+"\n              "+t._s(c.visitor.host?null===(o=c.visitor.host.employee)||void 0===o?void 0:o.last_name:"---")+"\n            ")]),t._v(" "),e("div",{staticClass:"secondary-value"},[t._v("\n              "+t._s(c.visitor.host?null===(l=c.visitor.host.employee)||void 0===l?void 0:l.phone_number:"---")+"\n            ")])]}},{key:"item.options",fn:function(n){var r=n.item;return[e(S.a,{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[e(o.a,t._g(t._b({attrs:{"dark-2":"",icon:""}},"v-btn",l,!1),r),[e(y.a,[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[t._v(" "),e(O.a,{attrs:{width:"150",dense:""}},[e(w.a,{on:{click:function(e){return t.viewInfo(r)}}},[e(D.c,[e(y.a,{attrs:{small:""}},[t._v(" mdi-eye ")]),t._v("\n                    View\n                  ")],1)],1),t._v(" "),e(w.a,{on:{click:function(e){return t.viewItem(r)}}},[e(D.c,[e(y.a,{attrs:{small:""}},[t._v(" mdi-history ")]),t._v("\n                    Device Logs\n                  ")],1)],1)],1)],1)]}}],null,!1,3515704679)}):e("NoAccess")],1)],1)],1),t._v(" "),e(I.a,{attrs:{justify:"center"}},[e(m.a,{attrs:{persistent:"","max-width":"600px"},model:{value:t.log_details,callback:function(e){t.log_details=e},expression:"log_details"}},[e(l.a,{staticClass:"darken-1"},[e(A.a,{staticClass:"popup_background",attrs:{dense:"",flat:""}},[e("span",{staticClass:"text-h5 pa-2"},[t._v("Log Details")]),t._v(" "),e($.a),t._v(" "),e($.a),t._v(" "),e(y.a,{on:{click:function(e){t.log_details=!1}}},[t._v("mdi-close-circle-outline")])],1),t._v(" "),e(c.b,[e("div",{staticClass:"pt-5"},[e(h.a,{staticClass:"elevation-1",attrs:{headers:t.log_headers,items:t.log_list,"hide-default-footer":""},scopedSlots:t._u([{key:"item.sno",fn:function(e){e.item;var n=e.index;return[t._v("\n                "+t._s(++n)+"\n              ")]}}])})],1)])],1)],1),t._v(" "),e(m.a,{attrs:{persistent:"","max-width":"500px"},model:{value:t.renderVisitorDialog,callback:function(e){t.renderVisitorDialog=e},expression:"renderVisitorDialog"}},[e(l.a,[e(c.c,{staticClass:"popup_background"},[e("span",{staticClass:"headline"},[t._v("Submit Data")]),t._v(" "),e($.a),t._v(" "),e(o.a,{attrs:{"x-small":"",ripple:!1,text:"",title:"Add user"},on:{click:t.addUser}},[e(y.a,{attrs:{dark:""}},[t._v("mdi-plus-circle")])],1)],1),t._v(" "),e(c.b,[e(x.a,{on:{submit:function(e){return e.preventDefault(),t.submitData.apply(null,arguments)}}},[e(v.a,[e(I.a,[e(d.a,{attrs:{cols:"12"}},[e(P.a,{attrs:{label:"Date",required:""},model:{value:t.formData.date,callback:function(e){t.$set(t.formData,"date",e)},expression:"formData.date"}})],1),t._v(" "),e(d.a,{attrs:{cols:"12"}},t._l(t.users,(function(n,i){return e(I.a,{key:i},[e(d.a,{attrs:{cols:"10"}},[e(P.a,{attrs:{label:"User Id",required:""},model:{value:n.visitor_id,callback:function(e){t.$set(n,"visitor_id",e)},expression:"user.visitor_id"}})],1),t._v(" "),e(d.a,{attrs:{cols:"2"}},[e(y.a,{attrs:{color:"error"},on:{click:function(e){return t.removeUser(i)}}},[t._v("mdi-delete")])],1)],1)})),1)],1)],1)],1)],1),t._v(" "),e(c.a,[e($.a),t._v(" "),e(o.a,{attrs:{small:"",color:"primary"},on:{click:t.submitData}},[t._v("Submit")]),t._v(" "),e(o.a,{attrs:{small:"",color:"gray"},on:{click:function(e){t.renderVisitorDialog=!1}}},[t._v("Cancel")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Calender:n(905).default,NoAccess:n(880).default})},855:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l}));var r=n(96),o=n(0),l=Object(o.k)("v-toolbar__title"),c=Object(o.k)("v-toolbar__items");r.a},877:function(t,e,n){var r=n(878).has;t.exports=function(t){return r(t),t}},878:function(t,e,n){var r=n(24),o=Set.prototype;t.exports={Set:Set,add:r(o.add),has:r(o.has),remove:r(o.delete),proto:o}},879:function(t,e,n){var r=n(24),o=n(522),l=n(878),c=l.Set,d=l.proto,v=r(d.forEach),h=r(d.keys),f=h(new c).next;t.exports=function(t,e,n){return n?o(h(t),e,f):v(t,e)}},880:function(t,e,n){"use strict";n.r(e);var r=n(116),component=Object(r.a)({},(function(){this._self._c;return this._m(0)}),[function(){var t=this._self._c;return t("div",{staticClass:"text-center",staticStyle:{"margin-top":"25%"}},[t("b",[this._v("No Access")])])}],!1,null,null,null);e.default=component.exports},883:function(t,e,n){var content=n(884);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("1377ef10",content,!0,{sourceMap:!1})},884:function(t,e,n){var r=n(21)((function(i){return i[1]}));r.push([t.i,".v-autocomplete.v-input>.v-input__control>.v-input__slot{cursor:text}.v-autocomplete input{align-self:center}.v-autocomplete.v-select.v-input--is-focused input{min-width:64px}.v-autocomplete:not(.v-input--is-focused).v-select--chips input{max-height:0;padding:0}.v-autocomplete--is-selecting-index input{opacity:0}.v-autocomplete.v-text-field--enclosed:not(.v-text-field--solo):not(.v-text-field--single-line):not(.v-text-field--outlined) .v-select__slot>input{margin-top:24px}.v-autocomplete.v-text-field--enclosed:not(.v-text-field--solo):not(.v-text-field--single-line):not(.v-text-field--outlined).v-input--dense .v-select__slot>input{margin-top:20px}.v-autocomplete__content.v-menu__content,.v-autocomplete__content.v-menu__content .v-card{border-radius:0}",""]),r.locals={},t.exports=r},888:function(t,e,n){var r=n(82),o=n(34),l=n(942),c=n(46),d=r("Set");t.exports=function(t){return function(t){return c(t)&&"number"==typeof t.size&&o(t.has)&&o(t.keys)}(t)?t:l(t)?new d(t):t}},889:function(t,e,n){var r=n(90),o=n(39),l=n(38),c=n(120),d=TypeError,v=Math.max,h=function(t,e,n,r){this.set=t,this.size=e,this.has=n,this.keys=r};h.prototype={getIterator:function(){return o(l(this.keys,this.set))},includes:function(t){return l(this.has,this.set,t)}},t.exports=function(t){o(t);var e=+t.size;if(e!=e)throw d("Invalid size");return new h(t,v(c(e),0),r(t.has),r(t.keys))}},891:function(t,e,n){var r=n(525),o=n(878);t.exports=r(o.proto,"size","get")||function(t){return t.size}},893:function(t,e,n){"use strict";n(12),n(14),n(17),n(11),n(18);var r=n(3),o=(n(80),n(6),n(13),n(89),n(99),n(216),n(41),n(61),n(883),n(892)),l=n(214),c=n(65),d=n(0);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f=h(h({},o.b),{},{offsetY:!0,offsetOverflow:!0,transition:!1});e.a=o.a.extend({name:"v-autocomplete",props:{autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(t,e,n){return n.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}},hideNoData:Boolean,menuProps:{type:o.a.options.props.menuProps.type,default:function(){return f}},noFilter:Boolean,searchInput:{type:String}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return h(h({},o.a.options.computed.classes.call(this)),{},{"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var t=this;return this.selectedItems.map((function(e){return t.getValue(e)}))},hasDisplayedItems:function(){var t=this;return this.hideSelected?this.filteredItems.some((function(e){return!t.hasItem(e)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems:function(){var t=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(e){var n=Object(d.s)(e,t.itemText),text=null!=n?String(n):"";return t.filter(e,String(t.internalSearch),text)}))},internalSearch:{get:function(){return this.lazySearch},set:function(t){this.lazySearch!==t&&(this.lazySearch=t,this.$emit("update:search-input",t))}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var t=o.a.options.computed.$_menuProps.call(this);return t.contentClass="v-autocomplete__content ".concat(t.contentClass||"").trim(),h(h({},f),t)},searchIsDirty:function(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem:function(){var t=this;return this.multiple?null:this.selectedItems.find((function(i){return t.valueComparator(t.getValue(i),t.getValue(t.internalValue))}))},listData:function(){var data=o.a.options.computed.listData.call(this);return data.props=h(h({},data.props),{},{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),data}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused:function(t){t?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.blur(),this.updateSelf())},isMenuActive:function(t){!t&&this.hasSlot&&(this.lazySearch=null)},items:function(t,e){e&&e.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!t.length||this.activateMenu()},searchInput:function(t){this.lazySearch=t},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created:function(){this.setSearch()},destroyed:function(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged:function(t,e){var n=this;if(t!==e){if(!this.autoSelectFirst){var r=e[this.$refs.menu.listIndex];r?this.setMenuIndex(t.findIndex((function(i){return i===r}))):this.setMenuIndex(-1),this.$emit("update:list-index",this.$refs.menu.listIndex)}this.$nextTick((function(){n.internalSearch&&(1===t.length||n.autoSelectFirst)&&(n.$refs.menu.getTiles(),n.autoSelectFirst&&t.length&&(n.setMenuIndex(0),n.$emit("update:list-index",n.$refs.menu.listIndex)))}))}},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(t){this.searchIsDirty||(this.multiple&&t===d.z.left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&t===d.z.right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:t!==d.z.backspace&&t!==d.z.delete||this.deleteCurrentItem())},deleteCurrentItem:function(){var t=this.selectedIndex,e=this.selectedItems[t];if(this.isInteractive&&!this.getDisabled(e)){var n=this.selectedItems.length-1;if(-1!==this.selectedIndex||0===n){var r=t!==this.selectedItems.length-1?t:t-1;this.selectedItems[r]?this.selectItem(e):this.setValue(this.multiple?[]:null),this.selectedIndex=r}else this.selectedIndex=n}},clearableCallback:function(){this.internalSearch=null,o.a.options.methods.clearableCallback.call(this)},genInput:function(){var input=l.a.options.methods.genInput.call(this);return input.data=Object(c.a)(input.data,{attrs:{"aria-activedescendant":Object(d.q)(this.$refs.menu,"activeTile.id"),autocomplete:Object(d.q)(input.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),input},genInputSlot:function(){var slot=o.a.options.methods.genInputSlot.call(this);return slot.data.attrs.role="combobox",slot},genSelections:function(){return this.hasSlot||this.multiple?o.a.options.methods.genSelections.call(this):[]},onClick:function(t){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(t.target)||this.activateMenu())},onInput:function(t){if(!(this.selectedIndex>-1)&&t.target){var e=t.target,n=e.value;e.value&&this.activateMenu(),this.multiple||""!==n||this.deleteCurrentItem(),this.internalSearch=n,this.badInput=e.validity&&e.validity.badInput}},onKeyDown:function(t){var e=t.keyCode;!t.ctrlKey&&[d.z.home,d.z.end].includes(e)||o.a.options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onSpaceDown:function(t){},onTabDown:function(t){o.a.options.methods.onTabDown.call(this,t),this.updateSelf()},onUpDown:function(t){t.preventDefault(),this.activateMenu()},selectItem:function(t){o.a.options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems:function(){o.a.options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var t=this;this.$nextTick((function(){t.multiple&&t.internalSearch&&t.isMenuActive||(t.internalSearch=!t.selectedItems.length||t.multiple||t.hasSlot?null:t.getText(t.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.multiple||this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(t){return this.selectedValues.indexOf(this.getValue(t))>-1},onCopy:function(t){var e,n;if(-1!==this.selectedIndex){var r=this.selectedItems[this.selectedIndex],o=this.getText(r);null===(e=t.clipboardData)||void 0===e||e.setData("text/plain",o),null===(n=t.clipboardData)||void 0===n||n.setData("text/vnd.vuetify.autocomplete.item+plain",o),t.preventDefault()}}}})},901:function(t,e,n){var r=n(878),o=n(879),l=r.Set,c=r.add;t.exports=function(t){var e=new l;return o(t,(function(t){c(e,t)})),e}},902:function(t,e,n){var content=n(903);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("c54b7bb4",content,!0,{sourceMap:!1})},903:function(t,e,n){var r=n(21)((function(i){return i[1]}));r.push([t.i,".theme--light.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea{color:#fff}.theme--light.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea::-moz-placeholder{color:hsla(0,0%,100%,.5)}.theme--light.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea::placeholder{color:hsla(0,0%,100%,.5)}.theme--dark.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea{color:rgba(0,0,0,.87)}.theme--dark.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea::-moz-placeholder{color:rgba(0,0,0,.38)}.theme--dark.v-textarea.v-text-field--solo-inverted.v-input--is-focused textarea::placeholder{color:rgba(0,0,0,.38)}.v-textarea textarea{align-self:stretch;flex:1 1 auto;line-height:1.75rem;max-width:100%;min-height:32px;outline:none;padding:0;width:100%}.v-textarea .v-text-field__prefix,.v-textarea .v-text-field__suffix{align-self:start;padding-top:2px}.v-textarea.v-text-field--box .v-text-field__prefix,.v-textarea.v-text-field--box textarea,.v-textarea.v-text-field--enclosed .v-text-field__prefix,.v-textarea.v-text-field--enclosed textarea{margin-top:24px}.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) textarea,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) textarea,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) textarea,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) textarea{margin-top:10px}.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-label,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-label,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-label,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-label{top:18px}.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense textarea,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense textarea,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense textarea,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense textarea{margin-top:6px}.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__prepend-outer{align-self:flex-start;margin-top:8px}.v-textarea.v-text-field--solo{align-items:flex-start}.v-textarea.v-text-field--solo .v-input__control textarea{caret-color:auto}.v-textarea.v-text-field--solo .v-input__append-inner,.v-textarea.v-text-field--solo .v-input__append-outer,.v-textarea.v-text-field--solo .v-input__prepend-inner,.v-textarea.v-text-field--solo .v-input__prepend-outer{align-self:flex-start;margin-top:12px}.v-application--is-ltr .v-textarea.v-text-field--solo .v-input__append-inner{padding-left:12px}.v-application--is-rtl .v-textarea.v-text-field--solo .v-input__append-inner{padding-right:12px}.v-textarea--auto-grow textarea{overflow:hidden}.v-textarea--no-resize textarea{resize:none}.v-textarea.v-text-field--enclosed .v-text-field__slot{align-self:stretch}.v-application--is-ltr .v-textarea.v-text-field--enclosed .v-text-field__slot{margin-right:-12px}.v-application--is-rtl .v-textarea.v-text-field--enclosed .v-text-field__slot{margin-left:-12px}.v-application--is-ltr .v-textarea.v-text-field--enclosed .v-text-field__slot textarea{padding-right:12px}.v-application--is-rtl .v-textarea.v-text-field--enclosed .v-text-field__slot textarea{padding-left:12px}",""]),r.locals={},t.exports=r},905:function(t,e,n){"use strict";n.r(e);var r=n(517),o=(n(56),n(33),n(266),n(952)),l=(n(939),{components:{DatePicker:o.a},props:["defaultFilterType","height","width","default_date_from","default_date_to"],data:function(){return{time3:null,from_date:"",from_menu:!1,to_date:"",to_menu:!1,loading:!1,showTimePanel:!1,filterType:1,search:""}},watch:{filterType:function(){this.showTimePanel=!0,this.FilterData()}},mounted:function(){},created:function(){this.defaultFilterType&&(this.filterType=this.defaultFilterType);var t=new Date;this.from_date=t.toISOString().slice(0,10),this.to_date=t.toISOString().slice(0,10),this.time3=[this.from_date,this.to_date]},methods:{commonMethod:function(){this.from_date&&this.to_date},CustomFilter:function(){if(this.from_date=this.time3[0],this.to_date=this.time3[1],this.from_date&&this.to_date){var data={from:this.from_date,to:this.to_date,type:this.filterType,search:this.search};this.$emit("filter-attr",data)}},FilterData:function(){this.from_date=this.time3[0],this.to_date=this.time3[1];var t=new Date;if(1==this.filterType)this.from_date=t.toISOString().slice(0,10),this.to_date=t.toISOString().slice(0,10);else if(2==this.filterType){var e=new Date;e.setDate(t.getDate()-1),this.from_date=e.toISOString().slice(0,10),this.to_date=e.toISOString().slice(0,10)}else if(3==this.filterType){var n=new Date(t);n.setDate(t.getDate()-t.getDay());var r=new Date(t);r.setDate(t.getDate()-t.getDay()+6),this.from_date=n.toISOString().slice(0,10),this.to_date=r.toISOString().slice(0,10)}else if(4==this.filterType)this.from_date=this.formatDate(new Date(t.getFullYear(),t.getMonth(),1)),this.to_date=this.formatDate(new Date(t.getFullYear(),t.getMonth()+1,0));else if(5==this.filterType)return void(this.time3=[]);if(this.from_date&&this.to_date){var data={from:this.from_date,to:this.to_date,type:this.filterType,search:this.search};this.$emit("filter-attr",data)}},formatDate:function(t){var e=t.getDate(),n=t.getMonth()+1;return t.getFullYear()+"-"+(n<10?"0":"")+n+"-"+(e<10?"0":"")+e}}}),c=(n(950),n(116)),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("div",[e(r.a,[e("date-picker",{staticStyle:{"padding-top":"7px",width:"100%"},attrs:{"value-type":"format",format:"YYYY-MM-DD",type:"date",range:""},on:{change:function(e){return t.CustomFilter()}},model:{value:t.time3,callback:function(e){t.time3=e},expression:"time3"}})],1)],1)}),[],!1,null,null,null);e.default=component.exports},908:function(t,e,n){var content=n(951);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("20f2e8f4",content,!0,{sourceMap:!1})},914:function(t,e,n){n(941)},915:function(t,e,n){"use strict";var r=n(7),o=n(877),l=n(878).add;r({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=o(this),e=0,n=arguments.length;e<n;e++)l(t,arguments[e]);return t}})},916:function(t,e,n){"use strict";var r=n(7),o=n(877),l=n(878).remove;r({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=o(this),n=!0,r=0,c=arguments.length;r<c;r++)t=l(e,arguments[r]),n=n&&t;return!!n}})},917:function(t,e,n){"use strict";var r=n(7),o=n(38),l=n(888),c=n(943);r({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return o(c,this,l(t))}})},918:function(t,e,n){"use strict";var r=n(7),o=n(66),l=n(877),c=n(879);r({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var e=l(this),n=o(t,arguments.length>1?arguments[1]:void 0);return!1!==c(e,(function(t){if(!n(t,t,e))return!1}),!0)}})},919:function(t,e,n){"use strict";var r=n(7),o=n(66),l=n(877),c=n(878),d=n(879),v=c.Set,h=c.add;r({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var e=l(this),n=o(t,arguments.length>1?arguments[1]:void 0),r=new v;return d(e,(function(t){n(t,t,e)&&h(r,t)})),r}})},920:function(t,e,n){"use strict";var r=n(7),o=n(66),l=n(877),c=n(879);r({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var e=l(this),n=o(t,arguments.length>1?arguments[1]:void 0),r=c(e,(function(t){if(n(t,t,e))return{value:t}}),!0);return r&&r.value}})},921:function(t,e,n){"use strict";var r=n(7),o=n(38),l=n(888),c=n(944);r({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return o(c,this,l(t))}})},922:function(t,e,n){"use strict";var r=n(7),o=n(38),l=n(888),c=n(945);r({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return o(c,this,l(t))}})},923:function(t,e,n){"use strict";var r=n(7),o=n(38),l=n(888),c=n(946);r({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return o(c,this,l(t))}})},924:function(t,e,n){"use strict";var r=n(7),o=n(38),l=n(888),c=n(947);r({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return o(c,this,l(t))}})},925:function(t,e,n){"use strict";var r=n(7),o=n(24),l=n(877),c=n(879),d=n(43),v=o([].join),h=o([].push);r({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var e=l(this),n=void 0===t?",":d(t),r=[];return c(e,(function(t){h(r,t)})),v(r,n)}})},926:function(t,e,n){"use strict";var r=n(7),o=n(66),l=n(877),c=n(878),d=n(879),v=c.Set,h=c.add;r({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var e=l(this),n=o(t,arguments.length>1?arguments[1]:void 0),r=new v;return d(e,(function(t){h(r,n(t,t,e))})),r}})},927:function(t,e,n){"use strict";var r=n(7),o=n(90),l=n(877),c=n(879),d=TypeError;r({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var e=l(this),n=arguments.length<2,r=n?void 0:arguments[1];if(o(t),c(e,(function(o){n?(n=!1,r=o):r=t(r,o,o,e)})),n)throw d("Reduce of empty set with no initial value");return r}})},928:function(t,e,n){"use strict";var r=n(7),o=n(66),l=n(877),c=n(879);r({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var e=l(this),n=o(t,arguments.length>1?arguments[1]:void 0);return!0===c(e,(function(t){if(n(t,t,e))return!0}),!0)}})},929:function(t,e,n){"use strict";var r=n(7),o=n(38),l=n(888),c=n(948);r({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return o(c,this,l(t))}})},930:function(t,e,n){"use strict";var r=n(7),o=n(38),l=n(888),c=n(949);r({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return o(c,this,l(t))}})},932:function(t,e,n){"use strict";n.r(e);var r=n(114),o=n(133),l=n(87),c=n(518),d=n(875),v=n(1548),h=n(350),f=n(935),m=n(147),_=n(212),x=n(326),y=n(204),k=n(60),O=n(862),w=n(517),D=n(872),S=n(349),I=n(214),j=n(96),C=(n(37),n(12),n(14),n(17),n(11),n(18),n(23)),$=n(3);n(88),n(521),n(35),n(33),n(266),n(56),n(523),n(215),n(80),n(6),n(72),n(58),n(914),n(45),n(915),n(916),n(917),n(918),n(919),n(920),n(921),n(922),n(923),n(924),n(925),n(926),n(927),n(928),n(929),n(930),n(50),n(13),n(55);function P(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function M(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(e){Object($.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var F={props:["visitorIdentificationNumber","visitorFullName"],components:{Calender:n(905).default},data:function(){var t,e,n,r,o;return t={purposeList:[],branchesList:[],hostList:[],cumulativeIndex:1,perPage:10,currentPage:1,renderVisitorDialog:!1,users:[],formData:{max:10,date:(e=new Date,n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),"".concat(n,"-").concat(r,"-").concat(o)),company_id:0},attendancFilters:!1,filters:{},isFilter:!1,totalRowsCount:0,datatable_search_textbox:"",datatable_filter_date:"",filter_visitor_id:"",snack:!1,snackColor:"",snackText:"",date:null},Object($.a)(t,"filter_visitor_id",""),Object($.a)(t,"generateLogsDialog",!1),Object($.a)(t,"reportSync",!1),Object($.a)(t,"isCompany",!0),Object($.a)(t,"time_table_dialog",!1),Object($.a)(t,"log_details",!1),Object($.a)(t,"overtime",!1),Object($.a)(t,"options",{}),Object($.a)(t,"date",null),Object($.a)(t,"menu",!1),Object($.a)(t,"loading",!1),Object($.a)(t,"time_menu",!1),Object($.a)(t,"manual_time_menu",!1),Object($.a)(t,"Model","Visitor Reports"),Object($.a)(t,"endpoint","visitor_attendance"),Object($.a)(t,"search",""),Object($.a)(t,"snackbar",!1),Object($.a)(t,"add_manual_log",!1),Object($.a)(t,"dialog",!1),Object($.a)(t,"from_date",null),Object($.a)(t,"from_menu",!1),Object($.a)(t,"to_date",null),Object($.a)(t,"to_menu",!1),Object($.a)(t,"ids",[]),Object($.a)(t,"visitors",[]),Object($.a)(t,"DateRange",!0),Object($.a)(t,"devices",[]),Object($.a)(t,"valid",!0),Object($.a)(t,"nameRules",[function(t){return!!t||"reason is required"}]),Object($.a)(t,"timeRules",[function(t){return!!t||"time is required"}]),Object($.a)(t,"deviceRules",[function(t){return!!t||"device is required"}]),Object($.a)(t,"daily_menu",!1),Object($.a)(t,"daily_date",null),Object($.a)(t,"dailyDate",!1),Object($.a)(t,"editItems",{attendance_logs_id:"",UserID:"",device_id:"",user_id:"",reason:"",date:"",time:null}),Object($.a)(t,"loading",!1),Object($.a)(t,"total",0),Object($.a)(t,"log_headers",[{text:"#",align:"left",sortable:!1,filterable:!1,value:"sno"},{text:"Device",align:"left",sortable:!1,filterable:!1,value:"device.name"},{text:"Location",align:"left",sortable:!1,filterable:!1,value:"device.location"},{text:"Time",align:"left",sortable:!1,filterable:!1,value:"time"}]),Object($.a)(t,"headers",[{text:"#",align:"left",sortable:!1,filterable:!1,value:"sno"},{text:"Date",align:"left",sortable:!1,filterable:!1,filterSpecial:!0,value:"date"},{text:"Host",align:"left",sortable:!1,filterable:!1,filterSpecial:!1,value:"host_id",key:"host_id"},{text:"Purpose",align:"left",sortable:!1,filterable:!0,filterSpecial:!0,value:"purpose_id"},{text:"Check In",align:"left",sortable:!1,filterable:!0,filterSpecial:!1,value:"in"},{text:"Check Out",align:"left",sortable:!1,filterable:!0,filterSpecial:!1,value:"out"},{text:"Duration",align:"left",sortable:!1,filterable:!0,filterSpecial:!1,value:"total_hrs"},{text:"OverStay",align:"left",sortable:!1,filterable:!1,filterSpecial:!0,value:"overstay"},{text:"Options",value:"options",sortable:!1}]),Object($.a)(t,"frequency","Monthly"),Object($.a)(t,"payload",{from_date:null,to_date:null,daily_date:null,visitor_id:"",status:"All"}),Object($.a)(t,"log_payload",{user_id:null,device_id:"",date:null,time:null}),Object($.a)(t,"log_list",[]),Object($.a)(t,"snackbar",!1),Object($.a)(t,"editedIndex",-1),Object($.a)(t,"editedItem",{name:""}),Object($.a)(t,"defaultItem",{name:""}),Object($.a)(t,"response",""),Object($.a)(t,"data",[]),Object($.a)(t,"shifts",[]),Object($.a)(t,"errors",[]),Object($.a)(t,"custom_options",{}),Object($.a)(t,"max_date",null),Object($.a)(t,"item",null),Object($.a)(t,"viewDialog",!1),Object($.a)(t,"attendance",[]),t},computed:{formTitle:function(){return-1===this.editedIndex?"New":"Edit"}},watch:{dialog:function(t){t||this.close(),this.errors=[],this.search=""},options:{handler:function(){this.getDataFromApi()},deep:!0}},created:function(){this.loading=!0,this.getVisitors(),this.payload.daily_date=(new Date).toJSON().slice(0,10),this.custom_options={params:{per_page:1e3,company_id:this.$auth.user.company_id}},this.getDeviceList();var dt=new Date,t=dt.getFullYear(),e=dt.getMonth()+1,dd=new Date(dt.getFullYear(),e,0);if(e=e<10?"0"+e:e,this.payload.from_date="".concat(t,"-").concat(e,"-01"),this.payload.to_date="".concat(t,"-").concat(e,"-").concat(dd.getDate()),null==this.$auth.user.branch_id||0==this.$auth.user.branch_id){var n;(n=this.headers).splice.apply(n,[2,0].concat([{text:"Branch",align:"left",sortable:!1,value:"branch_id",filterable:!0,filterName:"branch_id",filterSpecial:!0}]))}},methods:{viewInfo:function(t){this.item=t.visitor,this.attendance=t,this.viewDialog=!0},filterAttr:function(data){this.payload.from_date=data.from,this.payload.to_date=data.to,this.getDataFromApi()},addUser:function(){this.users.push({visitor_id:""})},removeUser:function(t){this.users.splice(t,1)},submitData:function(){var t=this;this.formData.userIds=this.users.map((function(t){return t.visitor_id})),this.formData.company_id=this.$auth.user.company_id,this.$axios.post("/render_daily_report",this.formData).then((function(e){var data=e.data;t.getDataFromApi(),t.snackbar=!0,t.response=data.message,t.dialog=!1})).catch((function(e){var n=e.message;t.snackbar=!0,t.response=n}))},datatable_cancel:function(){this.datatable_search_textbox=""},datatable_open:function(){this.datatable_search_textbox=""},datatable_close:function(){this.loading=!1},processFilterDates:function(){var t=new Date(this.payload.from_date);t.setDate(t.getDate()+("Weekly"==this.frequency?6:30));var e=t.getDate().toString().padStart(2,"0"),n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getFullYear();"Custom"!==this.frequency&&(this.payload.to_date="".concat(r,"-").concat(n,"-").concat(e)),this.max_date="".concat(r,"-").concat(n,"-").concat(e),this.getDataFromApi()},set_date_save:function(t,e){t.save(e),this.processFilterDates()},changeReportFrequency:function(){this.processFilterDates()},applyFilters:function(t,e){this.getDataFromApi()},toggleFilter:function(){var t=this;return Object(C.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isFilter=!t.isFilter,t.isFilter&&(t.refresh=!0,t.handleChangeEvent());case 2:case"end":return e.stop()}}),e)})))()},handleChangeEvent:function(){var t=this;return Object(C.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("fetchDropDowns",{key:"branchList",endpoint:"branch-list"});case 2:return t.branchesList=e.sent,e.next=5,t.$store.dispatch("fetchDropDowns",{key:"hostList",endpoint:"host_list"});case 5:return t.hostList=e.sent,e.next=8,t.$store.dispatch("fetchDropDowns",{key:"purposeList",endpoint:"purpose_list"});case 8:t.purposeList=e.sent;case 9:case"end":return e.stop()}}),e)})))()},clearFilters:function(){this.filters={},this.isFilter=!1,this.getDataFromApi()},getDeviceList:function(){var t=this,e={params:{company_id:this.$auth.user.company_id}};this.$axios.get("/device_list",e).then((function(e){var data=e.data;t.devices=data}))},store_schedule:function(){var t=this,e=this.log_payload,n={UserID:e.user_id,LogTime:e.date+" "+e.time,DeviceID:e.device_id,company_id:this.$auth.user.company_id};this.loading=!0,this.$axios.post("/generate_log",n).then((function(e){e.data;t.getDataFromApi(),t.add_manual_log=!1,t.loading=!1})).catch((function(e){var n=e.message;t.snackbar=!0,t.response=n}))},setVisitorId:function(t){this.$store.commit("visitor_id",t)},getVisitors:function(){var t=this;return Object(C.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:{company_id:t.$auth.user.company_id}},e.next=3,t.$axios.get("/visitors_with_type",n).then((function(e){var data=e.data;t.visitors=data,t.visitors.unshift({system_user_id:"",name_with_user_id:"Select All"})}));case 3:case"end":return e.stop()}}),e)})))()},caps:function(t){return t.replace(/_/g," ").replace(/\b\w/g,(function(t){return t.toUpperCase()}))},can:function(t){return this.$pagePermission.can(t,this)},getDataFromApi:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.endpoint,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.loading=!0;var o=this.options,l=o.sortBy,c=o.sortDesc,d=o.page,v=o.itemsPerPage,h=l?l[0]:"",f=c?c[0]:"";if("Custom"==this.frequency){if(null==this.payload.from_date)return!1;if(null==this.payload.to_date)return!1}var m={params:M(M(M({page:d,sortBy:h,sortDesc:f,per_page:v,company_id:this.$auth.user.company_id},this.payload),{},{frequency:this.frequency},this.filters),{},{visitorIdentificationNumber:this.visitorIdentificationNumber})};this.currentPage=d,""!=n&&(m.params[n]=r),this.$axios.get(e,m).then(function(){var e=Object(C.a)(regeneratorRuntime.mark((function e(r){var data,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(data=r.data,""==n||0!=data.data.length){e.next=7;break}return t.snack=!0,t.snackColor="error",t.snackText="No Results Found",t.loading=!1,e.abrupt("return",!1);case 7:return t.data=data.data,o=new Set,e.next=11,data.data.filter((function(t){var e=t.visitor_id;return!o.has(e)&&(o.add(e),!0)}));case 11:t.users=e.sent,t.total=data.total,t.loading=!1,t.totalRowsCount=data.total;case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},editItem:function(t){this.dialog=!0,this.editItems.UserID=t.visitor_id,this.editItems.date=t.edit_date},update:function(){var t=this;if(this.$refs.form.validate()){var e={UserID:this.editItems.UserID,LogTime:this.editItems.date+" "+this.editItems.time,DeviceID:this.editItems.device_id,user_id:this.editItems.UserID,company_id:this.$auth.user.company_id,reason:this.editItems.reason};this.$axios.post("/generate_manual_log",e).then((function(e){var data=e.data;t.loading=!1,data.status?(t.snackbar=!0,t.response=data.message,t.close()):t.errors=data.errors})).catch((function(t){return console.log(t)}))}},renderByType:function(t){var e=this,n=this.editItems.UserID,r=this.editItems.date;if(n&&r){var o={params:{date:this.editItems.date,UserID:this.editItems.UserID,updated_by:this.$auth.user.id,company_id:this.$auth.user.company_id,manual_entry:!0,reason:this.editItems.reason}};this.$axios.get("/"+t,o).then((function(t){var data=t.data;e.loading=!1,e.snackbar=!0,e.response=data.message,e.getDataFromApi()})).catch((function(t){return console.log(t)}))}else alert("System User Id and Date field is required")},viewItem:function(t){var e=this;this.log_list=[];var n={params:{per_page:500,UserID:t.system_user_id,LogTime:t.edit_date,company_id:this.$auth.user.company_id}};this.log_details=!0,this.$axios.get("visitor_log_list",n).then((function(t){var data=t.data;e.log_list=data.data}))},close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}),300)},process_file:function(t){if(this.data.length){var e=this.payload,n=e.visitor_id,r=e.daily_date,o=e.from_date,l=e.to_date,c=e.status,d=this.frequency,v=this.$auth.user.company_id,h=(this.options.itemsPerPage,"");h+="".concat("http://192.168.88.30:8000/api/visitor_attendance_report"),h+="?company_id=".concat(v),h+="&status=".concat(c),h+="&visitor_id=".concat(n),h+="&frequency=".concat(d),h+="&action=".concat(t),h+="&per_page=".concat(20),h+="Daily"==d?"&daily_date=".concat(r):"&from_date=".concat(o,"&to_date=").concat(l);var f=document.createElement("a");f.setAttribute("href",h),f.setAttribute("target","_blank"),f.click(),this.getDataFromApi()}else alert("No record found")}}},A=F,V=n(116),component=Object(V.a)(A,(function(){var t=this,e=t._self._c;return e("div",[e(D.a,{attrs:{top:"top",color:"secondary",elevation:"24"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.response)+"\n  ")]),t._v(" "),e(D.a,{attrs:{timeout:3e3,color:t.snackColor},scopedSlots:t._u([{key:"action",fn:function(n){var o=n.attrs;return[e(r.a,t._b({attrs:{text:""},on:{click:function(e){t.snack=!1}}},"v-btn",o,!1),[t._v(" Close ")])]}}]),model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n    "+t._s(t.snackText)+"\n    ")]),t._v(" "),e(w.a,[e(c.a,{staticStyle:{padding:"0px"}},[e(o.a,{staticClass:"mb-5 pa-0",staticStyle:{padding:"0px"},attrs:{elevation:"0"}},[e(v.a,{staticClass:"elevation-1",attrs:{"hide-default-footer":"",dense:"",headers:t.headers,items:t.data,loading:t.loading,options:t.options,"footer-props":{itemsPerPageOptions:[10,50,100,500,1e3]},"model-value":"data.id","server-items-length":t.totalRowsCount},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.sno",fn:function(e){var n=e.item;e.index;return[t._v("\n            "+t._s(t.currentPage?(t.currentPage-1)*t.perPage+(t.cumulativeIndex+t.data.indexOf(n)):"")+"\n          ")]}},{key:"item.visitor_first_name",fn:function(n){var r=n.item;return[e(w.a,{attrs:{"no-gutters":""}},[e(c.a,{staticStyle:{padding:"5px","padding-left":"0px","max-width":"50px"}},[e(_.a,{staticStyle:{"border-radius":"10%",height:"auto",width:"50px","max-width":"50px"},attrs:{src:r.visitor&&r.visitor.logo?r.visitor.logo:"/no-profile-image.jpg"}})],1),t._v(" "),e(c.a,{staticStyle:{padding:"10px"}},[e("strong",[t._v("\n                  "+t._s(r.visitor?r.visitor.first_name:"---")+"\n                  "+t._s(r.visitor?r.visitor.last_name:"---"))]),t._v(" "),e("div",{staticClass:"secondary-value"},[t._v("\n                  "+t._s(r.visitor?r.visitor.phone_number:"---")+"\n                ")]),t._v(" "),e("div",{staticClass:"secondary-value"},[t._v("\n                  "+t._s(r.visitor?r.visitor.email:"---")+"\n                ")])])],1)]}},{key:"item.branch_id",fn:function(e){var n=e.item;return[t._v("\n            "+t._s(n.branch&&n.branch.branch_name)+"\n          ")]}},{key:"item.purpose_id",fn:function(e){var n,r=e.item;return[t._v("\n            "+t._s(r.visitor&&(null===(n=r.visitor.purpose)||void 0===n?void 0:n.name))+"\n          ")]}},{key:"item.in",fn:function(n){var r=n.item;n.index;return[e("div",[t._v("\n              "+t._s(r.in?r.in:"---")+"\n              "),e("div",{staticClass:"secondary-value"},[t._v("\n                "+t._s(r.device_in_name?r.device_in_name.name:"---")+"\n              ")])])]}},{key:"item.out",fn:function(n){var r=n.item;n.index;return[e("div",[t._v("\n              "+t._s(r.out?r.out:"---")+"\n              "),e("div",{staticClass:"secondary-value"},[t._v("\n                "+t._s(r.device_out_name?r.device_out_name.name:"---")+"\n              ")])])]}},{key:"item.overstay",fn:function(n){var r=n.item;n.index;return[e("div",{style:r.over_stay?"color:red":" ;"},[t._v("\n              "+t._s(r.over_stay?r.over_stay:"---")+"\n            ")])]}},{key:"item.host_id",fn:function(n){var r,o,l,c=n.item;n.index;return[e("div",[t._v("\n              "+t._s(c.visitor.host?null===(r=c.visitor.host.employee)||void 0===r?void 0:r.first_name:"---")+"\n              "+t._s(c.visitor.host?null===(o=c.visitor.host.employee)||void 0===o?void 0:o.last_name:"---")+"\n            ")]),t._v(" "),e("div",{staticClass:"secondary-value"},[t._v("\n              "+t._s(c.visitor.host?null===(l=c.visitor.host.employee)||void 0===l?void 0:l.phone_number:"---")+"\n            ")])]}},{key:"item.options",fn:function(n){var o=n.item;return[e(O.a,{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(r.a,t._g(t._b({attrs:{"dark-2":"",icon:""}},"v-btn",l,!1),o),[e(m.a,[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[t._v(" "),e(x.a,{attrs:{width:"150",dense:""}},[e(y.a,{on:{click:function(e){return t.viewItem(o)}}},[e(k.c,[e(m.a,{attrs:{small:""}},[t._v(" mdi-history ")]),t._v("\n                    Device Logs\n                  ")],1)],1)],1)],1)]}}])})],1)],1)],1),t._v(" "),e(w.a,{attrs:{justify:"center"}},[e(h.a,{attrs:{persistent:"","max-width":"600px"},model:{value:t.log_details,callback:function(e){t.log_details=e},expression:"log_details"}},[e(o.a,{staticClass:"darken-1"},[e(j.a,{staticClass:"popup_background",attrs:{dense:"",flat:""}},[e("span",{staticClass:"text-h5 pa-2"},[t._v("Log Details")]),t._v(" "),e(S.a),t._v(" "),e(S.a),t._v(" "),e(m.a,{on:{click:function(e){t.log_details=!1}}},[t._v("mdi-close-circle-outline")])],1),t._v(" "),e(l.b,[e("div",{staticClass:"pt-5"},[e(v.a,{staticClass:"elevation-1",attrs:{headers:t.log_headers,items:t.log_list,"hide-default-footer":""},scopedSlots:t._u([{key:"item.sno",fn:function(e){e.item;var n=e.index;return[t._v("\n                "+t._s(++n)+"\n              ")]}}])})],1)])],1)],1),t._v(" "),e(h.a,{attrs:{persistent:"","max-width":"500px"},model:{value:t.renderVisitorDialog,callback:function(e){t.renderVisitorDialog=e},expression:"renderVisitorDialog"}},[e(o.a,[e(l.c,{staticClass:"popup_background"},[e("span",{staticClass:"headline"},[t._v("Submit Data")]),t._v(" "),e(S.a),t._v(" "),e(r.a,{attrs:{"x-small":"",ripple:!1,text:"",title:"Add user"},on:{click:t.addUser}},[e(m.a,{attrs:{dark:""}},[t._v("mdi-plus-circle")])],1)],1),t._v(" "),e(l.b,[e(f.a,{on:{submit:function(e){return e.preventDefault(),t.submitData.apply(null,arguments)}}},[e(d.a,[e(w.a,[e(c.a,{attrs:{cols:"12"}},[e(I.a,{attrs:{label:"Date",required:""},model:{value:t.formData.date,callback:function(e){t.$set(t.formData,"date",e)},expression:"formData.date"}})],1),t._v(" "),e(c.a,{attrs:{cols:"12"}},t._l(t.users,(function(n,i){return e(w.a,{key:i},[e(c.a,{attrs:{cols:"10"}},[e(I.a,{attrs:{label:"User Id",required:""},model:{value:n.visitor_id,callback:function(e){t.$set(n,"visitor_id",e)},expression:"user.visitor_id"}})],1),t._v(" "),e(c.a,{attrs:{cols:"2"}},[e(m.a,{attrs:{color:"error"},on:{click:function(e){return t.removeUser(i)}}},[t._v("mdi-delete")])],1)],1)})),1)],1)],1)],1)],1),t._v(" "),e(l.a,[e(S.a),t._v(" "),e(r.a,{attrs:{small:"",color:"primary"},on:{click:t.submitData}},[t._v("Submit")]),t._v(" "),e(r.a,{attrs:{small:"",color:"gray"},on:{click:function(e){t.renderVisitorDialog=!1}}},[t._v("Cancel")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},935:function(t,e,n){"use strict";var r=n(3),o=(n(41),n(61),n(351),n(13),n(6),n(11),n(55),n(99),n(12),n(14),n(17),n(18),n(8)),l=n(118),c=n(148);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=Object(o.a)(l.a,Object(c.b)("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(input){var t=this,e=function(input){return input.$watch("hasError",(function(e){t.$set(t.errorBag,input._uid,e)}),{immediate:!0})},n={_uid:input._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?n.shouldValidate=input.$watch("shouldValidate",(function(r){r&&(t.errorBag.hasOwnProperty(input._uid)||(n.valid=e(input)))})):n.valid=e(input),n},validate:function(){return 0===this.inputs.filter((function(input){return!input.validate(!0)})).length},reset:function(){this.inputs.forEach((function(input){return input.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(input){return input.resetValidation()})),this.resetErrorBag()},register:function(input){this.inputs.push(input),this.watchers.push(this.watchInput(input))},unregister:function(input){var t=this.inputs.find((function(i){return i._uid===input._uid}));if(t){var e=this.watchers.find((function(i){return i._uid===t._uid}));e&&(e.valid(),e.shouldValidate()),this.watchers=this.watchers.filter((function(i){return i._uid!==t._uid})),this.inputs=this.inputs.filter((function(i){return i._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:v({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},941:function(t,e,n){"use strict";n(357)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(526))},942:function(t,e,n){var r=n(179),o=n(47),l=n(91),c=n(36),d=n(180),v=c("iterator"),h=Object;t.exports=function(t){if(l(t))return!1;var e=h(t);return void 0!==e[v]||"@@iterator"in e||o(d,r(e))}},943:function(t,e,n){"use strict";var r=n(877),o=n(878),l=n(901),c=n(891),d=n(889),v=n(879),h=n(522),f=o.has,m=o.remove;t.exports=function(t){var e=r(this),n=d(t),o=l(e);return c(e)<=n.size?v(e,(function(t){n.includes(t)&&m(o,t)})):h(n.getIterator(),(function(t){f(e,t)&&m(o,t)})),o}},944:function(t,e,n){"use strict";var r=n(877),o=n(878),l=n(891),c=n(889),d=n(879),v=n(522),h=o.Set,f=o.add,m=o.has;t.exports=function(t){var e=r(this),n=c(t),o=new h;return l(e)>n.size?v(n.getIterator(),(function(t){m(e,t)&&f(o,t)})):d(e,(function(t){n.includes(t)&&f(o,t)})),o}},945:function(t,e,n){"use strict";var r=n(877),o=n(878).has,l=n(891),c=n(889),d=n(879),v=n(522),h=n(353);t.exports=function(t){var e=r(this),n=c(t);if(l(e)<=n.size)return!1!==d(e,(function(t){if(n.includes(t))return!1}),!0);var f=n.getIterator();return!1!==v(f,(function(t){if(o(e,t))return h(f,"normal",!1)}))}},946:function(t,e,n){"use strict";var r=n(877),o=n(891),l=n(879),c=n(889);t.exports=function(t){var e=r(this),n=c(t);return!(o(e)>n.size)&&!1!==l(e,(function(t){if(!n.includes(t))return!1}),!0)}},947:function(t,e,n){"use strict";var r=n(877),o=n(878).has,l=n(891),c=n(889),d=n(522),v=n(353);t.exports=function(t){var e=r(this),n=c(t);if(l(e)<n.size)return!1;var h=n.getIterator();return!1!==d(h,(function(t){if(!o(e,t))return v(h,"normal",!1)}))}},948:function(t,e,n){"use strict";var r=n(877),o=n(878),l=n(901),c=n(889),d=n(522),v=o.add,h=o.has,f=o.remove;t.exports=function(t){var e=r(this),n=c(t).getIterator(),o=l(e);return d(n,(function(t){h(e,t)?f(o,t):v(o,t)})),o}},949:function(t,e,n){"use strict";var r=n(877),o=n(878).add,l=n(901),c=n(889),d=n(522);t.exports=function(t){var e=r(this),n=c(t).getIterator(),v=l(e);return d(n,(function(t){o(v,t)})),v}},950:function(t,e,n){"use strict";n(908)},951:function(t,e,n){var r=n(21)((function(i){return i[1]}));r.push([t.i,".mx-input{border:1px solid #9e9e9e!important;color:#000!important}.mx-datepicker{width:200px}.mx-table-date td,.mx-table-date th{text-align:center!important}",""]),r.locals={},t.exports=r},953:function(t,e,n){"use strict";n(12),n(14),n(13),n(6),n(17),n(11),n(18);var r=n(3),o=(n(28),n(55),n(902),n(214)),l=n(8);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var d=Object(l.a)(o.a);e.a=d.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},o.a.options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{autoGrow:function(t){var e=this;this.$nextTick((function(){var n;t?e.calculateInputHeight():null===(n=e.$refs.input)||void 0===n||n.style.removeProperty("height")}))},lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var input=this.$refs.input;if(input){input.style.height="0";var t=input.scrollHeight,e=parseInt(this.rows,10)*parseFloat(this.rowHeight);input.style.height=Math.max(e,t)+"px"}},genInput:function(){var input=o.a.options.methods.genInput.call(this);return input.tag="textarea",delete input.data.attrs.type,input.data.attrs.rows=this.rows,input},onInput:function(t){o.a.options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},957:function(t,e,n){"use strict";n.r(e);var r=n(133),o=n(87),l=n(518),c=n(1019),d=n(147),v=n(212),h=n(517),f=n(852),m=n(854),_=n(853),x=n(343),y=(n(37),{props:["item","attendance"],components:{VisitorHistory:n(932).default},data:function(){return{keyid:1}},methods:{getRelatedColor:function(t){return{1:"purple",3:"red",2:"green",UNKNOWN:"purple"}[t.status_id||"UNKNOWN"]},loadHistoryPage:function(){this.keyid++},verifyOverstay:function(t){if(t.attendances&&t.attendances[0]&&t.status_id>=6){var e=t.attendances[0].in,n=t.attendances[0].out,r=0;if(""!=n&&null!=n||(n=this.getCurrentTime()),e&&n&&(r=this.getTimeInSeconds(n)-this.getTimeInSeconds(e))>0)return"Over Stay : "+this.formatSecondsToTime(r)}return""}}}),k=n(116),component=Object(k.a)(y,(function(){var t,e,n,y,k,O,w,D,S=this,I=S._self._c;return I("div",[S.item?I("div",[I(_.a,{staticClass:"slidegroup1",attrs:{right:""}},[I(x.a,{attrs:{color:"violet"}}),S._v(" "),I(f.a,[I("span",[S._v("Information ")])]),S._v(" "),I(f.a,{on:{click:function(t){return S.loadHistoryPage()}}},[I("span",[S._v("History")])]),S._v(" "),I(m.a,[I("span",{staticClass:"bold"},[S._v(" Visitor ")]),S._v(" "),I("span",{staticStyle:{float:"right"}},[I("span",{style:"color:"+S.getRelatedColor(S.item)},[S._v(S._s(S.item.status))])]),S._v(" "),I(h.a,{staticClass:"100%",staticStyle:{margin:"auto","line-height":"36px"}},[I(l.a,{staticStyle:{padding:"0px"},attrs:{cols:"4"}},[I(v.a,{staticStyle:{"border-radius":"50%",width:"250px","max-width":"95%",height:"250px",border:"1px solid #ddd"},attrs:{src:S.item.logo?S.item.logo:"/no-profile-image.jpg"}})],1),S._v(" "),I(l.a,{staticStyle:{"padding-left":"5px","padding-top":"0px"},attrs:{cols:"4"}},[I("span",{attrs:{cols:"8"}},[I("b",[S._v(S._s(S.item.full_name||"---")+" ")])]),S._v(" "),I("div",[I(d.a,{staticClass:"icon-blue",attrs:{size:"20",title:"Date"}},[S._v("mdi-calendar-range")]),S._v("\n              "+S._s(S.item.from_date_display)+"\n              "),S.item.to_date_display!=S.item.from_date_display?I("span",[S._v("\n                to "+S._s(S.item.to_date_display))]):S._e()],1),S._v(" "),I("div",[I(d.a,{staticClass:"icon-blue",attrs:{size:"20",title:"Time"}},[S._v("mdi-clock-outline")]),S._v("\n              "+S._s(S.item.time_in)+" - "+S._s(S.item.time_out)+"\n            ")],1),S._v(" "),I("div",[I(d.a,{staticClass:"icon-blue",attrs:{title:"Purpose",size:"20"}},[S._v("mdi-briefcase-account-outline")]),S._v("\n              "+S._s((null===(t=S.item.purpose)||void 0===t?void 0:t.name)||"---")+"\n            ")],1),S._v(" "),I("div",[I(d.a,{staticClass:"icon-blue",attrs:{size:"20",title:"Contact Number"}},[S._v("mdi-cellphone")]),S._v("\n              "+S._s(S.item.phone_number||"---")+"\n            ")],1),S._v(" "),I("div",{staticClass:"bold",staticStyle:{"border-top":"1px solid #ddd"}},[I(d.a,{attrs:{size:"20",color:"green",title:"Entry In Time"}},[S._v("mdi-bank-transfer-in")]),S._v("\n              "+S._s(S.attendance&&S.attendance.in||"---")+" "),I("br"),S._v("\n              "+S._s(S.attendance&&S.attendance.device_in_name.name||"---")+"\n            ")],1),S._v(" "),S.item.over_stay?I("div",{staticStyle:{color:"red"}},[S._v("\n              Expected Out Time: "+S._s(S.item.time_out)+"\n            ")]):S._e()]),S._v(" "),I(l.a,{staticStyle:{"padding-left":"5px","padding-top":"0px"},attrs:{cols:"4"}},[I("div",[S._v(" ")]),S._v(" "),I("div",[I(d.a,{staticClass:"icon-blue",attrs:{title:"Company",size:"30"}},[S._v("mdi-domain")]),S._v("\n              "+S._s(S.item.visitor_company_name||"---")+"\n            ")],1),S._v(" "),I("span",{attrs:{cols:"8"}},["Male"==S.item.gender?I(d.a,{staticClass:"icon-blue",attrs:{size:"20"}},[S._v("mdi-human-male")]):S._e(),S._v(" "),"Female"==S.item.gender?I(d.a,{staticClass:"icon-blue",attrs:{size:"20"}},[S._v("mdi-human-female")]):S._e(),S._v("\n              "+S._s(S.item.gender||"---")+"\n            ")],1),S._v(" "),I("div",[I(d.a,{staticClass:"icon-blue",attrs:{size:"20",title:"ID"}},[S._v("mdi-identifier")]),S._v(" "),1==S.item.id_type?I("span",[S._v("Emirates ID")]):2==S.item.id_type?I("span",[S._v("National ID")]):S._e(),S._v("\n\n              : "+S._s(S.item.id_number||"---")+"\n            ")],1),S._v(" "),I("div",[I(d.a,{staticClass:"icon-blue",attrs:{size:"20",title:"Email"}},[S._v("mdi-email")]),S._v("\n              "+S._s(S.item.email||"---")+"\n            ")],1),S._v(" "),I("div",{staticClass:"bold",staticStyle:{"border-top":"1px solid #ddd"}},[I(d.a,{attrs:{size:"30",color:"red",title:"Exit Out Time"}},[S._v("mdi-bank-transfer-out")]),S._v("\n              "+S._s(S.attendance&&S.attendance.out||"---")+"\n              "),I("br"),S._v("\n              "+S._s(S.attendance&&S.attendance.device_out_name.name||"---")+"\n\n              "),I("div",{staticStyle:{color:"red"}},[S._v("\n                Overstay:\n                "+S._s(S.attendance&&S.attendance.over_stay||"---")+"\n\n                ")])],1)])],1),S._v(" "),I(c.a,{staticClass:"mt-3"}),S._v(" "),I("h4",{staticClass:"mb-3",staticStyle:{background:"#ddd"}},[S._v("Host :")]),S._v(" "),I(h.a,[I(l.a,{attrs:{col:"4"}},[I(v.a,{staticStyle:{"border-radius":"50%",width:"200px","max-width":"95%","min-height":"100px",height:"auto",border:"1px solid #ddd"},attrs:{src:S.item.host?S.item.host.employee.profile_picture:"/no-profile-image.jpg"}})],1),S._v(" "),I(l.a,{attrs:{cols:"8"}},[I(h.a,[I(l.a,{attrs:{col:"3"}},[S._v("Employee Name ")]),S._v(" "),I(l.a,{attrs:{col:"9"}},[S._v(": "+S._s(null===(e=S.item.host)||void 0===e?void 0:e.employee.first_name)+"\n                "+S._s(null===(n=S.item.host)||void 0===n?void 0:n.employee.last_name))])],1),S._v(" "),I(h.a,[I(l.a,{attrs:{col:"3"}},[S._v("Contact Number")]),S._v(" "),I(l.a,{attrs:{col:"9"}},[S._v(": "+S._s(null===(y=S.item.host)||void 0===y?void 0:y.employee.phone_number))])],1),S._v(" "),I(h.a,[I(l.a,{attrs:{col:"3"}},[S._v(" Email Id ")]),S._v(" "),I(l.a,{attrs:{col:"9"}},[S._v("\n                "+S._s((null===(k=S.item.host)||void 0===k||null===(O=k.employee.user)||void 0===O?void 0:O.email)||"---")+"\n              ")])],1),S._v(" "),I(h.a,[I(l.a,{attrs:{col:"3"}},[S._v(" Branch ")]),S._v(" "),I(l.a,{attrs:{col:"9"}},[S._v("\n                : "+S._s((null===(w=S.item.host)||void 0===w||null===(D=w.employee.branch)||void 0===D?void 0:D.branch_name)||"---")+"\n              ")])],1),S._v(" "),I(h.a,[I(l.a,{attrs:{col:"3"}},[S._v("Status ")]),S._v(" "),I(l.a,{attrs:{col:"9"}},[I("span",{style:"color:"+S.getRelatedColor(S.item)},[S._v(S._s(S.item.status))])])],1),S._v(" "),I(h.a,[I(l.a,{attrs:{col:"3"}},[S._v("Reason:")]),S._v(" "),I(l.a,{attrs:{col:"9"}},[S._v(" "+S._s(S.item.reason||"---"))])],1)],1)],1)],1),S._v(" "),I(m.a,[I(r.a,{attrs:{flat:""}},[I(o.b,[I("VisitorHistory",{attrs:{visitorIdentificationNumber:S.item.id_number,visitorFullName:S.item.full_name}})],1)],1)],1)],1)],1):S._e()])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{VisitorHistory:n(932).default})},958:function(t,e,n){var content=n(959);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("0d1b0b47",content,!0,{sourceMap:!1})},959:function(t,e,n){var r=n(21)((function(i){return i[1]}));r.push([t.i,'.theme--light.v-time-picker-clock{background:#e0e0e0}.theme--light.v-time-picker-clock .v-time-picker-clock__item--disabled{color:rgba(0,0,0,.26)}.theme--light.v-time-picker-clock .v-time-picker-clock__item--disabled.v-time-picker-clock__item--active{color:hsla(0,0%,100%,.3)}.theme--light.v-time-picker-clock--indeterminate .v-time-picker-clock__hand{background-color:#bdbdbd}.theme--light.v-time-picker-clock--indeterminate:after{color:#bdbdbd}.theme--light.v-time-picker-clock--indeterminate .v-time-picker-clock__item--active{background-color:#bdbdbd}.theme--dark.v-time-picker-clock{background:#616161}.theme--dark.v-time-picker-clock .v-time-picker-clock__item--disabled,.theme--dark.v-time-picker-clock .v-time-picker-clock__item--disabled.v-time-picker-clock__item--active{color:hsla(0,0%,100%,.3)}.theme--dark.v-time-picker-clock--indeterminate .v-time-picker-clock__hand{background-color:#757575}.theme--dark.v-time-picker-clock--indeterminate:after{color:#757575}.theme--dark.v-time-picker-clock--indeterminate .v-time-picker-clock__item--active{background-color:#757575}.v-time-picker-clock{border-radius:100%;flex:1 0 auto;padding-top:100%;position:relative;transition:.3s cubic-bezier(.25,.8,.5,1);-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}.v-time-picker-clock__container{display:flex;flex-basis:290px;flex-direction:column;justify-content:center;padding:10px}.v-time-picker-clock__ampm{align-items:flex-end;display:flex;flex-direction:row;height:100%;justify-content:space-between;left:0;margin:0;padding:10px;position:absolute;top:0;width:100%}.v-time-picker-clock__hand{bottom:50%;height:calc(50% - 4px);left:calc(50% - 1px);position:absolute;transform-origin:center bottom;width:2px;will-change:transform;z-index:1}.v-time-picker-clock__hand:before{background:transparent;border:2px solid;border-color:inherit;height:10px;top:-4px;width:10px}.v-time-picker-clock__hand:after,.v-time-picker-clock__hand:before{border-radius:100%;content:"";left:50%;position:absolute;transform:translate(-50%,-50%)}.v-time-picker-clock__hand:after{background-color:inherit;border-color:inherit;border-style:solid;height:8px;top:100%;width:8px}.v-time-picker-clock__hand--inner:after{height:14px}.v-picker--full-width .v-time-picker-clock__container{max-width:290px}.v-time-picker-clock__inner{bottom:27px;left:27px;position:absolute;right:27px;top:27px}.v-time-picker-clock__item{align-items:center;border-radius:100%;cursor:default;display:flex;font-size:16px;height:40px;justify-content:center;position:absolute;text-align:center;transform:translate(-50%,-50%);-webkit-user-select:none;-moz-user-select:none;user-select:none;width:40px}.v-time-picker-clock__item>span{z-index:1}.v-time-picker-clock__item:after,.v-time-picker-clock__item:before{border-radius:100%;content:"";height:14px;height:40px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:14px;width:40px}.v-time-picker-clock__item--active{color:#fff;cursor:default;z-index:2}.v-time-picker-clock__item--disabled{pointer-events:none}.v-picker--landscape .v-time-picker-clock__container{flex-direction:row}.v-picker--landscape .v-time-picker-clock__ampm{flex-direction:column}',""]),r.locals={},t.exports=r},960:function(t,e,n){var content=n(961);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("bf92139a",content,!0,{sourceMap:!1})},961:function(t,e,n){var r=n(21)((function(i){return i[1]}));r.push([t.i,".v-time-picker-title{color:#fff;display:flex;justify-content:flex-end;line-height:1}.v-time-picker-title__time{direction:ltr;white-space:nowrap}.v-time-picker-title__time .v-picker__title__btn,.v-time-picker-title__time span{align-items:center;display:inline-flex;font-size:70px;height:70px;justify-content:center}.v-time-picker-title__ampm{align-self:flex-end;display:flex;flex-direction:column;font-size:16px;text-transform:uppercase}.v-application--is-ltr .v-time-picker-title__ampm{margin:0 0 6px 8px}.v-application--is-rtl .v-time-picker-title__ampm{margin:0 8px 6px 0}.v-time-picker-title__ampm div:only-child{flex-direction:row}.v-time-picker-title__ampm--readonly .v-picker__title__btn.v-picker__title__btn--active{opacity:.6}.v-picker__title--landscape .v-time-picker-title{flex-direction:column;height:100%;justify-content:center}.v-picker__title--landscape .v-time-picker-title__time{text-align:right}.v-picker__title--landscape .v-time-picker-title__time .v-picker__title__btn,.v-picker__title--landscape .v-time-picker-title__time span{font-size:55px;height:55px}.v-picker__title--landscape .v-time-picker-title__ampm{align-self:auto;margin:16px 0 0;text-align:center}.v-picker--time .v-picker__title--landscape{padding:0}.v-picker--time .v-picker__title--landscape .v-time-picker-title__time{text-align:center}",""]),r.locals={},t.exports=r},996:function(t,e,n){"use strict";var r,o=n(31),l=(n(80),n(41),n(61),n(28),n(35),n(33),n(181),n(89),n(99),n(6),n(960),n(940)),c=n(974),d=n(8);!function(t){t[t.Hour=1]="Hour",t[t.Minute=2]="Minute",t[t.Second=3]="Second"}(r||(r={}));var v=Object(d.a)(l.a).extend({name:"v-time-picker-title",props:{ampm:Boolean,ampmReadonly:Boolean,disabled:Boolean,hour:Number,minute:Number,second:Number,period:{type:String,validator:function(t){return"am"===t||"pm"===t}},readonly:Boolean,useSeconds:Boolean,selecting:Number},methods:{genTime:function(){var t=this.hour;this.ampm&&(t=t?(t-1)%12+1:12);var e=null==this.hour?"--":this.ampm?String(t):Object(c.a)(t),n=null==this.minute?"--":Object(c.a)(this.minute),o=[this.genPickerButton("selecting",r.Hour,e,this.disabled),this.$createElement("span",":"),this.genPickerButton("selecting",r.Minute,n,this.disabled)];if(this.useSeconds){var l=null==this.second?"--":Object(c.a)(this.second);o.push(this.$createElement("span",":")),o.push(this.genPickerButton("selecting",r.Second,l,this.disabled))}return this.$createElement("div",{class:"v-time-picker-title__time"},o)},genAmPm:function(){return this.$createElement("div",{staticClass:"v-time-picker-title__ampm",class:{"v-time-picker-title__ampm--readonly":this.ampmReadonly}},[this.ampmReadonly&&"am"!==this.period?null:this.genPickerButton("period","am",this.$vuetify.lang.t("$vuetify.timePicker.am"),this.disabled||this.readonly),this.ampmReadonly&&"pm"!==this.period?null:this.genPickerButton("period","pm",this.$vuetify.lang.t("$vuetify.timePicker.pm"),this.disabled||this.readonly)])}},render:function(t){var e=[this.genTime()];return this.ampm&&e.push(this.genAmPm()),t("div",{staticClass:"v-time-picker-title"},e)}}),h=n(3),f=(n(527),n(12),n(14),n(13),n(17),n(11),n(18),n(958),n(29)),m=n(26);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function x(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(h.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var y=Object(d.a)(f.a,m.a).extend({name:"v-time-picker-clock",props:{allowedValues:Function,ampm:Boolean,disabled:Boolean,double:Boolean,format:{type:Function,default:function(t){return t}},max:{type:Number,required:!0},min:{type:Number,required:!0},scrollable:Boolean,readonly:Boolean,rotate:{type:Number,default:0},step:{type:Number,default:1},value:Number},data:function(){return{inputValue:this.value,isDragging:!1,valueOnMouseDown:null,valueOnMouseUp:null}},computed:{count:function(){return this.max-this.min+1},degreesPerUnit:function(){return 360/this.roundCount},degrees:function(){return this.degreesPerUnit*Math.PI/180},displayedValue:function(){return null==this.value?this.min:this.value},innerRadiusScale:function(){return.62},roundCount:function(){return this.double?this.count/2:this.count}},watch:{value:function(t){this.inputValue=t}},methods:{wheel:function(t){t.preventDefault();var e=Math.sign(-t.deltaY||1),n=this.displayedValue;do{n=((n+=e)-this.min+this.count)%this.count+this.min}while(!this.isAllowed(n)&&n!==this.displayedValue);n!==this.displayedValue&&this.update(n)},isInner:function(t){return this.double&&t-this.min>=this.roundCount},handScale:function(t){return this.isInner(t)?this.innerRadiusScale:1},isAllowed:function(t){return!this.allowedValues||this.allowedValues(t)},genValues:function(){for(var t=[],e=this.min;e<=this.max;e+=this.step){var n=e===this.value&&(this.color||"accent");t.push(this.$createElement("span",this.setBackgroundColor(n,{staticClass:"v-time-picker-clock__item",class:{"v-time-picker-clock__item--active":e===this.displayedValue,"v-time-picker-clock__item--disabled":this.disabled||!this.isAllowed(e)},style:this.getTransform(e),domProps:{innerHTML:"<span>".concat(this.format(e),"</span>")}})))}return t},genHand:function(){var t="scaleY(".concat(this.handScale(this.displayedValue),")"),e=this.rotate+this.degreesPerUnit*(this.displayedValue-this.min),n=null!=this.value&&(this.color||"accent");return this.$createElement("div",this.setBackgroundColor(n,{staticClass:"v-time-picker-clock__hand",class:{"v-time-picker-clock__hand--inner":this.isInner(this.value)},style:{transform:"rotate(".concat(e,"deg) ").concat(t)}}))},getTransform:function(i){var t=this.getPosition(i),e=t.x,n=t.y;return{left:"".concat(50+50*e,"%"),top:"".concat(50+50*n,"%")}},getPosition:function(t){var e=this.rotate*Math.PI/180;return{x:Math.sin((t-this.min)*this.degrees+e)*this.handScale(t),y:-Math.cos((t-this.min)*this.degrees+e)*this.handScale(t)}},onMouseDown:function(t){t.preventDefault(),this.valueOnMouseDown=null,this.valueOnMouseUp=null,this.isDragging=!0,this.onDragMove(t)},onMouseUp:function(t){t.stopPropagation(),this.isDragging=!1,null!==this.valueOnMouseUp&&this.isAllowed(this.valueOnMouseUp)&&this.$emit("change",this.valueOnMouseUp)},onDragMove:function(t){if(t.preventDefault(),(this.isDragging||"click"===t.type)&&this.$refs.clock)for(var e,n=this.$refs.clock.getBoundingClientRect(),r=n.width,o=n.top,l=n.left,c=this.$refs.innerClock.getBoundingClientRect().width,d=("touches"in t?t.touches[0]:t),v={x:r/2,y:-r/2},h={x:d.clientX-l,y:o-d.clientY},f=Math.round(this.angle(v,h)-this.rotate+360)%360,m=this.double&&this.euclidean(v,h)<(c+c*this.innerRadiusScale)/4,_=Math.ceil(15/this.degreesPerUnit),i=0;i<_;i++){if(e=this.angleToValue(f+i*this.degreesPerUnit,m),this.isAllowed(e))return this.setMouseDownValue(e);if(e=this.angleToValue(f-i*this.degreesPerUnit,m),this.isAllowed(e))return this.setMouseDownValue(e)}},angleToValue:function(t,e){var n=(Math.round(t/this.degreesPerUnit)+(e?this.roundCount:0))%this.count+this.min;return t<360-this.degreesPerUnit/2?n:e?this.max-this.roundCount+1:this.min},setMouseDownValue:function(t){null===this.valueOnMouseDown&&(this.valueOnMouseDown=t),this.valueOnMouseUp=t,this.update(t)},update:function(t){this.inputValue!==t&&(this.inputValue=t,this.$emit("input",t))},euclidean:function(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},angle:function(t,e){var n=2*Math.atan2(e.y-t.y-this.euclidean(t,e),e.x-t.x);return Math.abs(180*n/Math.PI)}},render:function(t){var e=this,data={staticClass:"v-time-picker-clock",class:x({"v-time-picker-clock--indeterminate":null==this.value},this.themeClasses),on:this.readonly||this.disabled?void 0:{mousedown:this.onMouseDown,mouseup:this.onMouseUp,mouseleave:function(t){return e.isDragging&&e.onMouseUp(t)},touchstart:this.onMouseDown,touchend:this.onMouseUp,mousemove:this.onDragMove,touchmove:this.onDragMove},ref:"clock"};return this.scrollable&&data.on&&(data.on.wheel=this.wheel),t("div",data,[t("div",{staticClass:"v-time-picker-clock__inner",ref:"innerClock"},[this.genHand(),this.genValues()])])}}),k=n(975),O=n(0),w=Object(O.j)(24),D=Object(O.j)(12),S=D.map((function(t){return t+12})),I=Object(O.j)(60),j={1:"hour",2:"minute",3:"second"};e.a=Object(d.a)(k.a,l.a).extend({name:"v-time-picker",props:{allowedHours:[Function,Array],allowedMinutes:[Function,Array],allowedSeconds:[Function,Array],disabled:Boolean,format:{type:String,default:"ampm",validator:function(t){return["ampm","24hr"].includes(t)}},min:String,max:String,readonly:Boolean,scrollable:Boolean,useSeconds:Boolean,value:null,ampmInTitle:Boolean},data:function(){return{inputHour:null,inputMinute:null,inputSecond:null,lazyInputHour:null,lazyInputMinute:null,lazyInputSecond:null,period:"am",selecting:r.Hour}},computed:{selectingHour:{get:function(){return this.selecting===r.Hour},set:function(t){this.selecting=r.Hour}},selectingMinute:{get:function(){return this.selecting===r.Minute},set:function(t){this.selecting=r.Minute}},selectingSecond:{get:function(){return this.selecting===r.Second},set:function(t){this.selecting=r.Second}},isAllowedHourCb:function(){var t,e=this;if(t=this.allowedHours instanceof Array?function(t){return e.allowedHours.includes(t)}:this.allowedHours,!this.min&&!this.max)return t;var n=this.min?Number(this.min.split(":")[0]):0,r=this.max?Number(this.max.split(":")[0]):23;return function(e){return e>=1*n&&e<=1*r&&(!t||t(e))}},isAllowedMinuteCb:function(){var t,e=this,n=!this.isAllowedHourCb||null===this.inputHour||this.isAllowedHourCb(this.inputHour);if(t=this.allowedMinutes instanceof Array?function(t){return e.allowedMinutes.includes(t)}:this.allowedMinutes,!this.min&&!this.max)return n?t:function(){return!1};var r=this.min?this.min.split(":").map(Number):[0,0],l=Object(o.a)(r,2),c=l[0],d=l[1],v=this.max?this.max.split(":").map(Number):[23,59],h=Object(o.a)(v,2),f=h[0],m=h[1],_=60*c+1*d,x=60*f+1*m;return function(r){var time=60*e.inputHour+r;return time>=_&&time<=x&&n&&(!t||t(r))}},isAllowedSecondCb:function(){var t,e=this,n=(!this.isAllowedHourCb||null===this.inputHour||this.isAllowedHourCb(this.inputHour))&&(!this.isAllowedMinuteCb||null===this.inputMinute||this.isAllowedMinuteCb(this.inputMinute));if(t=this.allowedSeconds instanceof Array?function(t){return e.allowedSeconds.includes(t)}:this.allowedSeconds,!this.min&&!this.max)return n?t:function(){return!1};var r=this.min?this.min.split(":").map(Number):[0,0,0],l=Object(o.a)(r,3),c=l[0],d=l[1],v=l[2],h=this.max?this.max.split(":").map(Number):[23,59,59],f=Object(o.a)(h,3),m=f[0],_=f[1],x=f[2],y=3600*c+60*d+1*(v||0),k=3600*m+60*_+1*(x||0);return function(r){var time=3600*e.inputHour+60*e.inputMinute+r;return time>=y&&time<=k&&n&&(!t||t(r))}},isAmPm:function(){return"ampm"===this.format}},watch:{value:"setInputData"},mounted:function(){this.setInputData(this.value),this.$on("update:period",this.setPeriod)},methods:{genValue:function(){return null==this.inputHour||null==this.inputMinute||this.useSeconds&&null==this.inputSecond?null:"".concat(Object(c.a)(this.inputHour),":").concat(Object(c.a)(this.inputMinute))+(this.useSeconds?":".concat(Object(c.a)(this.inputSecond)):"")},emitValue:function(){var t=this.genValue();null!==t&&this.$emit("input",t)},setPeriod:function(t){if(this.period=t,null!=this.inputHour){var e=this.inputHour+("am"===t?-12:12);this.inputHour=this.firstAllowed("hour",e),this.emitValue()}},setInputData:function(t){if(null==t||""===t)this.inputHour=null,this.inputMinute=null,this.inputSecond=null;else if(t instanceof Date)this.inputHour=t.getHours(),this.inputMinute=t.getMinutes(),this.inputSecond=t.getSeconds();else{var e=t.trim().toLowerCase().match(/^(\d+):(\d+)(:(\d+))?([ap]m)?$/)||new Array(6),n=Object(o.a)(e,6),r=n[1],l=n[2],c=n[4],d=n[5];this.inputHour=d?this.convert12to24(parseInt(r,10),d):parseInt(r,10),this.inputMinute=parseInt(l,10),this.inputSecond=parseInt(c||0,10)}this.period=null==this.inputHour||this.inputHour<12?"am":"pm"},convert24to12:function(t){return t?(t-1)%12+1:12},convert12to24:function(t,e){return t%12+("pm"===e?12:0)},onInput:function(t){this.selecting===r.Hour?this.inputHour=this.isAmPm?this.convert12to24(t,this.period):t:this.selecting===r.Minute?this.inputMinute=t:this.inputSecond=t,this.emitValue()},onChange:function(t){this.$emit("click:".concat(j[this.selecting]),t);var e=this.selecting===(this.useSeconds?r.Second:r.Minute);if(this.selecting===r.Hour?this.selecting=r.Minute:this.useSeconds&&this.selecting===r.Minute&&(this.selecting=r.Second),this.inputHour!==this.lazyInputHour||this.inputMinute!==this.lazyInputMinute||this.useSeconds&&this.inputSecond!==this.lazyInputSecond){var time=this.genValue();null!==time&&(this.lazyInputHour=this.inputHour,this.lazyInputMinute=this.inputMinute,this.useSeconds&&(this.lazyInputSecond=this.inputSecond),e&&this.$emit("change",time))}},firstAllowed:function(t,e){var n="hour"===t?this.isAllowedHourCb:"minute"===t?this.isAllowedMinuteCb:this.isAllowedSecondCb;if(!n)return e;var r="minute"===t||"second"===t?I:this.isAmPm?e<12?D:S:w;return((r.find((function(t){return n((t+e)%r.length+r[0])}))||0)+e)%r.length+r[0]},genClock:function(){return this.$createElement(y,{props:{allowedValues:this.selecting===r.Hour?this.isAllowedHourCb:this.selecting===r.Minute?this.isAllowedMinuteCb:this.isAllowedSecondCb,color:this.color,dark:this.dark,disabled:this.disabled,double:this.selecting===r.Hour&&!this.isAmPm,format:this.selecting===r.Hour?this.isAmPm?this.convert24to12:function(t){return t}:function(t){return Object(c.a)(t,2)},light:this.light,max:this.selecting===r.Hour?this.isAmPm&&"am"===this.period?11:23:59,min:this.selecting===r.Hour&&this.isAmPm&&"pm"===this.period?12:0,readonly:this.readonly,scrollable:this.scrollable,size:Number(this.width)-(!this.fullWidth&&this.landscape?80:20),step:this.selecting===r.Hour?1:5,value:this.selecting===r.Hour?this.inputHour:this.selecting===r.Minute?this.inputMinute:this.inputSecond},on:{input:this.onInput,change:this.onChange},ref:"clock"})},genClockAmPm:function(){return this.$createElement("div",this.setTextColor(this.color||"primary",{staticClass:"v-time-picker-clock__ampm"}),[this.genPickerButton("period","am",this.$vuetify.lang.t("$vuetify.timePicker.am"),this.disabled||this.readonly),this.genPickerButton("period","pm",this.$vuetify.lang.t("$vuetify.timePicker.pm"),this.disabled||this.readonly)])},genPickerBody:function(){return this.$createElement("div",{staticClass:"v-time-picker-clock__container",key:this.selecting},[!this.ampmInTitle&&this.isAmPm&&this.genClockAmPm(),this.genClock()])},genPickerTitle:function(){var t=this;return this.$createElement(v,{props:{ampm:this.isAmPm,ampmReadonly:this.isAmPm&&!this.ampmInTitle,disabled:this.disabled,hour:this.inputHour,minute:this.inputMinute,second:this.inputSecond,period:this.period,readonly:this.readonly,useSeconds:this.useSeconds,selecting:this.selecting},on:{"update:selecting":function(e){return t.selecting=e},"update:period":function(e){return t.$emit("update:period",e)}},ref:"title",slot:"title"})}},render:function(){return this.genPicker("v-picker--time")}})}}]);