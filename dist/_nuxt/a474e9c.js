(window.webpackJsonp=window.webpackJsonp||[]).push([[157],{1328:function(e,t,r){"use strict";r.r(t);var o=r(114),n=r(133),c=r(87),l=r(518),d=r(331),m=r(517),_=r(872),f=r(214),y=r(23),O=r(3),h=(r(55),r(88),{props:["employeeId"],data:function(){var e;return e={image:"",mime_type:"",cropedImage:"",cropper:"",autoCrop:!1,dialogCropping:!1,selectedFile:"",upload_edit:{name:""},attrs:[],dialog:!1,editDialog:!1,tab:null,m:!1,expand:!1,expand2:!1,boilerplate:!1,right:!0,rightDrawer:!1,drawer:!0},Object(O.a)(e,"tab",null),Object(O.a)(e,"selectedItem",1),Object(O.a)(e,"on",""),Object(O.a)(e,"color","background"),Object(O.a)(e,"files",""),Object(O.a)(e,"Model","Employee"),Object(O.a)(e,"endpoint","employee"),Object(O.a)(e,"search",""),Object(O.a)(e,"total",0),Object(O.a)(e,"next_page_url",""),Object(O.a)(e,"prev_page_url",""),Object(O.a)(e,"current_page",1),Object(O.a)(e,"per_page",8),Object(O.a)(e,"response",""),Object(O.a)(e,"ListName",""),Object(O.a)(e,"snackbar",!1),Object(O.a)(e,"btnLoader",!1),Object(O.a)(e,"max_employee",0),Object(O.a)(e,"employee",{email:""}),Object(O.a)(e,"upload",{name:""}),Object(O.a)(e,"previewImage",null),Object(O.a)(e,"snackbar",!1),Object(O.a)(e,"ids",[]),Object(O.a)(e,"loading",!1),Object(O.a)(e,"total",0),Object(O.a)(e,"titleItems",["Mr","Mrs","Miss","Ms","Dr"]),Object(O.a)(e,"editedIndex",-1),Object(O.a)(e,"response",""),Object(O.a)(e,"data",[]),Object(O.a)(e,"errors",[]),Object(O.a)(e,"departments",[]),Object(O.a)(e,"department_id",""),Object(O.a)(e,"roles",[]),Object(O.a)(e,"payloadOptions",{}),e},created:function(){this.payloadOptions={params:{per_page:10,company_id:this.$auth.user.company_id}},this.getInfo(this.employeeId),this.getRoles()},mounted:function(){},watch:{dialog:function(e){e||this.close()},options:{handler:function(){this.getDataFromApi()},deep:!0}},methods:{getInfo:function(e){var t=this;return Object(y.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.loading=!0,r.next=3,t.$axios.get("employee-single/".concat(e)).then((function(r){var data=r.data;t.employee=data.user,t.employee.employee_id=e,t.employee.company_id=t.$auth.user.company_id,t.employee.rfid_card_number=data.rfid_card_number,t.employee.rfid_card_password=data.rfid_card_password,t.loading=!1})).catch((function(e){return console.log(e)}));case 3:case"end":return r.stop()}}),r)})))()},can:function(){return!0},getRoles:function(){var e=this;this.payloadOptions.params.role_type="employee",this.$axios.get("role",this.payloadOptions).then((function(t){var data=t.data;e.roles=data.data}))},close:function(){this.dialog=!1},submit:function(){var e=this;this.loading=!0;var t={params:{rfid_card_number:this.employee.rfid_card_number,rfid_card_password:this.employee.rfid_card_password,employee_id:this.employee.employee_id}};this.$axios.post("/employee-rfid-update/".concat(this.employee.id||0),t.params).then((function(t){var data=t.data;e.loading=!1,data.status?(e.errors=[],e.snackbar=!0,e.response="Employees Updated successfully",setTimeout((function(){e.color="background",e.$emit("eventFromchild"),e.$emit("close-popup")}),1e3)):(e.color="red",e.errors=data.errors,e.snackbar=!0,e.response=data.message)})).catch((function(e){return console.log(e)}))}}}),j=r(116),component=Object(j.a)(h,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"text-center ma-2"},[t(_.a,{attrs:{small:"",top:"top",color:e.color},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n      "+e._s(e.response)+"\n    ")])],1),e._v(" "),t(n.a,[t(d.a,{attrs:{active:e.loading,color:"primary",indeterminate:""}}),e._v(" "),t(c.c,[t(m.a,[t(l.a,{attrs:{cols:"6"}},[t(m.a,[t(l.a,{attrs:{md:"12",sm:"12",cols:"12",dense:""}},[t(f.a,{attrs:{label:"RFID Card Number",type:"number",dense:"",outlined:""},model:{value:e.employee.rfid_card_number,callback:function(t){e.$set(e.employee,"rfid_card_number",t)},expression:"employee.rfid_card_number"}})],1),e._v(" "),t(l.a,{attrs:{md:"12",sm:"12",cols:"12",dense:""}},[t(f.a,{attrs:{label:"Password(min 4 to 8 Digits)",dense:"",type:"number",outlined:""},model:{value:e.employee.rfid_card_password,callback:function(t){e.$set(e.employee,"rfid_card_password",t)},expression:"employee.rfid_card_password"}})],1),e._v(" "),t(l.a,{staticClass:"text-right",attrs:{cols:"12"}},[e.can("employee_edit")?t(o.a,{attrs:{small:"",loading:e.loading,color:"primary"},on:{click:e.submit}},[e._v("\n                Submit\n              ")]):e._e()],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);